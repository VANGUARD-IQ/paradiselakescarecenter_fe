flowchart TD
    Activity(["R&D Activity<br/>Classification"]) --> Type["Activity Type?"]
    
    Type -->|Experimental| Core["Assess as Core R&D"]
    Type -->|Non-experimental| Support["Assess as Supporting R&D"]
    
    Core --> C1["Meets all 4<br/>Core criteria?"]
    
    C1 -->|Yes| C2["On exclusion<br/>list s.355-25(2)?"]
    C1 -->|No| NotCore["Cannot be Core R&D<br/>→ Try Supporting"]
    
    C2 -->|No| CoreR["✅ CORE R&D ACTIVITY<br/>Eligible at 43.5% or 38.5%"]
    C2 -->|Yes| NotCore
    
    Support --> S1["Directly related to<br/>Core R&D activity?"]
    NotCore --> S1
    
    S1 -->|No| NotElig["❌ NOT ELIGIBLE"]
    S1 -->|Yes| S2["Type of<br/>Supporting Activity?"]
    
    S2 -->|Standard| S3["✅ SUPPORTING R&D<br/>Standard Category"]
    S2 -->|Special Category| S4["Produces goods/services<br/>OR excluded activity?"]
    
    S4 -->|Yes| S5["Dominant purpose<br/>supporting Core R&D?"]
    S4 -->|No| S3
    
    S5 -->|Yes| S6["✅ SUPPORTING R&D<br/>Special Category<br/>(Dominant Purpose Met)"]
    S5 -->|No| NotElig2["❌ NOT ELIGIBLE<br/>Fails dominant purpose"]
    
    CoreR --> Examples1["Examples:<br/>• New algorithm development<br/>• Novel material synthesis<br/>• Unprecedented integration<br/>• Performance breakthrough"]
    
    S3 --> Examples2["Examples:<br/>• Literature reviews<br/>• Data analysis<br/>• Testing protocols<br/>• Project management"]
    
    S6 --> Examples3["Examples:<br/>• Prototype production<br/>• Pilot plant operations<br/>• Field trials<br/>• Beta testing"]
    
    style CoreR fill:#4CAF50,color:#fff
    style S3 fill:#8BC34A,color:#fff
    style S6 fill:#8BC34A,color:#fff
    style NotElig fill:#f44336,color:#fff
    style NotElig2 fill:#f44336,color:#fff
    style Activity fill:#2196F3,color:#fff