"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[5074],{65074:(e,r,o)=>{o.r(r),o.d(r,{AddressBook:()=>ge});var s,l,n,a,i,d=o(89379),t=o(57528),c=o(65043),b=o(96870),m=o(87139),x=o(22107),h=o(98662),g=o(42703),p=o(83169),j=o(24330),u=o(26201),v=o(98939),C=o(73225),S=o(76668),f=o(73212),y=o(35699),A=o(67516),E=o(35929),k=o(56529),T=o(15071),R=o(11054),F=o(78460),z=o(25722),B=o(61724),w=o(76659),N=o(96148),I=o(10202),U=o(94217),_=o(53332),O=o(78149),P=o(98481),M=o(80511),$=o(82595),D=o(67813),L=o(83201),V=o(3313),J=o(55395),K=o(48239),G=o(19077),W=o(30502),Y=o(47726),Q=o(28846),q=o(39081),H=o(58861),X=o(1009),Z=o(31881),ee=o(10585),re=o(70459),oe=o(73216),se=o(52003),le=o(63295),ne=o(39985),ae=o(66037),ie=o(95214),de=o(95393),te=o(70579);const ce=(0,re.J1)(s||(s=(0,t.A)(["\n  query EmailAddresses($search: String, $type: String, $isVerified: Boolean, $isBlocked: Boolean, $limit: Float!, $offset: Float!) {\n    emailAddresses(\n      search: $search\n      type: $type\n      isVerified: $isVerified\n      isBlocked: $isBlocked\n      limit: $limit\n      offset: $offset\n    ) {\n      id\n      email\n      name\n      company\n      type\n      isVerified\n      isBlocked\n      notes\n      emailsSent\n      emailsReceived\n      firstSeenAt\n      lastSeenAt\n      tags\n      domain\n      canReceiveMarketing\n      canReceiveTransactional\n      acceptedSenderEmailsForCalendarInvites\n      acceptCalendarInvitesFromAnyone\n      blockedDomainsForCalendarInvites\n      primaryCalendarId\n      linkedCalendarIds\n    }\n  }\n"]))),be=(0,re.J1)(l||(l=(0,t.A)(["\n  query EmailAddressStats {\n    emailAddressStats {\n      totalAddresses\n      verifiedAddresses\n      blockedAddresses\n      personalEmails\n      businessEmails\n      totalEmailsSent\n      totalEmailsReceived\n    }\n  }\n"]))),me=(0,re.J1)(n||(n=(0,t.A)(["\n  mutation CreateEmailAddress($input: EmailAddressInput!) {\n    createEmailAddress(input: $input) {\n      id\n      email\n      name\n      company\n      type\n    }\n  }\n"]))),xe=(0,re.J1)(a||(a=(0,t.A)(["\n  mutation UpdateEmailAddress($id: String!, $input: EmailAddressUpdateInput!) {\n    updateEmailAddress(id: $id, input: $input) {\n      id\n      email\n      name\n      company\n      type\n      isVerified\n      isBlocked\n      notes\n      tags\n      canReceiveMarketing\n      canReceiveTransactional\n    }\n  }\n"]))),he=(0,re.J1)(i||(i=(0,t.A)(["\n  mutation DeleteEmailAddress($id: String!) {\n    deleteEmailAddress(id: $id)\n  }\n"]))),ge=()=>{(0,ae.H)("Address Book");const e=(0,W.d)(),r=(0,oe.Zp)(),{isOpen:o,onOpen:s,onClose:l}=(0,b.j)(),n=(0,ne.oU)("background.main"),a=(0,ne.oU)("background.cardGradient"),i=(0,ne.oU)("border.darkCard"),t=(0,ne.oU)("text.primaryDark"),re=(0,ne.oU)("text.secondaryDark"),ge=(0,ne.oU)("text.mutedDark"),[pe,je]=(0,c.useState)(""),[ue,ve]=(0,c.useState)(""),[Ce,Se]=(0,c.useState)(void 0),[fe,ye]=(0,c.useState)("all"),[Ae,Ee]=(0,c.useState)(null),[ke,Te]=(0,c.useState)({email:"",name:"",company:"",type:"UNKNOWN",notes:"",tags:[],canReceiveMarketing:!0,canReceiveTransactional:!0}),[Re,Fe]=(0,c.useState)(""),{data:ze,loading:Be,refetch:we,error:Ne}=(0,ee.IT)(ce,{variables:{limit:500,offset:0},fetchPolicy:"network-only"});Ne&&console.error("Error fetching email addresses:",Ne);const{data:Ie}=(0,ee.IT)(be),[Ue]=(0,Z.n)(me,{onCompleted:()=>{e({title:"Contact added successfully",status:"success",duration:3e3}),we(),l(),Pe()},onError:r=>{e({title:"Failed to add contact",description:r.message,status:"error",duration:5e3})}}),[_e]=(0,Z.n)(xe,{onCompleted:()=>{e({title:"Contact updated successfully",status:"success",duration:3e3}),we(),l(),Pe()},onError:r=>{e({title:"Failed to update contact",description:r.message,status:"error",duration:5e3})}}),[Oe]=(0,Z.n)(he,{onCompleted:()=>{e({title:"Contact deleted",status:"success",duration:2e3}),we()},onError:r=>{e({title:"Failed to delete contact",description:r.message,status:"error",duration:5e3})}}),Pe=()=>{Te({email:"",name:"",company:"",type:"UNKNOWN",notes:"",tags:[],canReceiveMarketing:!0,canReceiveTransactional:!0}),Ee(null),Fe("")},Me=e=>{e?(Ee(e),Te({email:e.email,name:e.name||"",company:e.company||"",type:e.type,notes:e.notes||"",tags:e.tags||[],canReceiveMarketing:e.canReceiveMarketing,canReceiveTransactional:e.canReceiveTransactional})):Pe(),s()},$e=()=>{Re&&!ke.tags.includes(Re)&&(Te((0,d.A)((0,d.A)({},ke),{},{tags:[...ke.tags,Re]})),Fe(""))},De=null===Ie||void 0===Ie?void 0:Ie.emailAddressStats,Le=(null===ze||void 0===ze?void 0:ze.emailAddresses)||[];console.log("Address Book Data:",{totalFromQuery:Le.length,statsTotal:null===De||void 0===De?void 0:De.totalAddresses,loading:Be,error:Ne});const Ve=Le.filter(e=>{if(pe){var r,o;const s=pe.toLowerCase();if(!(e.email.toLowerCase().includes(s)||(null===(r=e.name)||void 0===r?void 0:r.toLowerCase().includes(s))||(null===(o=e.company)||void 0===o?void 0:o.toLowerCase().includes(s))))return!1}return(!ue||""===ue||e.type===ue)&&((void 0===Ce||e.isVerified===Ce)&&("incoming"===fe?e.emailsReceived>0:"outgoing"!==fe||e.emailsSent>0))});return(0,te.jsxs)(x.a,{bg:n,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,te.jsx)(se.m,{}),(0,te.jsx)(ie.y,{moduleConfig:de.default}),(0,te.jsx)(v.m,{maxW:{base:"100%",md:"container.md",lg:"container.xl"},px:{base:3,md:8},py:{base:4,md:12},flex:"1",children:(0,te.jsxs)(p.Z,{bg:a,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:i,children:[(0,te.jsx)(u.a,{borderBottom:"1px",borderColor:i,p:{base:3,md:6},children:(0,te.jsxs)(I.T,{align:"stretch",spacing:{base:3,md:0},children:[(0,te.jsx)(Q.D,{size:{base:"md",md:"lg"},color:t,children:"\ud83d\udcda Address Book"}),(0,te.jsxs)(N.z,{spacing:{base:2,md:3},flexWrap:{base:"wrap",md:"nowrap"},justify:{base:"stretch",md:"flex-end"},children:[(0,te.jsx)(h.$,{leftIcon:(0,te.jsx)(X.GGD,{}),bg:"white",color:"black",_hover:{bg:"gray.100",transform:"translateY(-2px)"},onClick:()=>Me(),boxShadow:"0 2px 4px rgba(255, 255, 255, 0.1)",size:{base:"sm",md:"md"},width:{base:"100%",sm:"auto"},fontSize:{base:"sm",md:"md"},children:"Add Contact"}),(0,te.jsx)(h.$,{leftIcon:(0,te.jsx)(X.a4x,{}),bg:"rgba(59, 130, 246, 0.2)",color:"#3B82F6",border:"1px solid",borderColor:"rgba(59, 130, 246, 0.3)",_hover:{bg:"rgba(59, 130, 246, 0.3)"},onClick:()=>{const e=[["Email","Name","Company","Type","Verified","Tags","Notes"].join(","),...((null===ze||void 0===ze?void 0:ze.emailAddresses)||[]).map(e=>[e.email,e.name||"",e.company||"",e.type,e.isVerified?"Yes":"No",(e.tags||[]).join(";"),e.notes||""].map(e=>'"'.concat(e,'"')).join(","))].join("\n"),r=new Blob([e],{type:"text/csv"}),o=window.URL.createObjectURL(r),s=document.createElement("a");s.href=o,s.download="address-book-".concat((new Date).toISOString().split("T")[0],".csv"),s.click()},size:{base:"sm",md:"md"},width:{base:"100%",sm:"auto"},fontSize:{base:"sm",md:"md"},children:"Export CSV"})]})]})}),(0,te.jsx)(j.b,{p:{base:3,md:6},children:(0,te.jsxs)(I.T,{spacing:{base:3,md:4},align:"stretch",children:[De&&(0,te.jsxs)(f.r,{columns:{base:2,sm:3,md:4,lg:7},spacing:{base:2,md:4},children:[(0,te.jsx)(x.a,{p:{base:2,md:4},bg:"rgba(255, 255, 255, 0.03)",borderRadius:"lg",border:"1px",borderColor:i,children:(0,te.jsxs)(U.r,{children:[(0,te.jsx)(_.v,{color:re,fontSize:{base:"xs",md:"sm"},children:"Total Contacts"}),(0,te.jsx)(O.k,{color:t,fontSize:{base:"md",md:"2xl"},children:De.totalAddresses})]})}),(0,te.jsx)(x.a,{p:4,bg:"rgba(255, 255, 255, 0.03)",borderRadius:"lg",border:"1px",borderColor:i,children:(0,te.jsxs)(U.r,{children:[(0,te.jsx)(_.v,{color:re,fontSize:{base:"xs",md:"sm"},children:"Verified"}),(0,te.jsx)(O.k,{color:"#22C55E",fontSize:{base:"md",md:"2xl"},children:De.verifiedAddresses})]})}),(0,te.jsx)(x.a,{p:4,bg:"rgba(255, 255, 255, 0.03)",borderRadius:"lg",border:"1px",borderColor:i,children:(0,te.jsxs)(U.r,{children:[(0,te.jsx)(_.v,{color:re,fontSize:{base:"xs",md:"sm"},children:"Blocked"}),(0,te.jsx)(O.k,{color:"#EF4444",fontSize:{base:"md",md:"2xl"},children:De.blockedAddresses})]})}),(0,te.jsx)(x.a,{p:4,bg:"rgba(255, 255, 255, 0.03)",borderRadius:"lg",border:"1px",borderColor:i,children:(0,te.jsxs)(U.r,{children:[(0,te.jsx)(_.v,{color:re,fontSize:{base:"xs",md:"sm"},children:"Personal"}),(0,te.jsx)(O.k,{color:"#3B82F6",fontSize:{base:"md",md:"2xl"},children:De.personalEmails})]})}),(0,te.jsx)(x.a,{p:4,bg:"rgba(255, 255, 255, 0.03)",borderRadius:"lg",border:"1px",borderColor:i,children:(0,te.jsxs)(U.r,{children:[(0,te.jsx)(_.v,{color:re,fontSize:{base:"xs",md:"sm"},children:"Business"}),(0,te.jsx)(O.k,{color:"#A855F7",fontSize:{base:"md",md:"2xl"},children:De.businessEmails})]})}),(0,te.jsx)(x.a,{p:4,bg:"rgba(255, 255, 255, 0.03)",borderRadius:"lg",border:"1px",borderColor:i,children:(0,te.jsxs)(U.r,{children:[(0,te.jsx)(_.v,{color:re,fontSize:{base:"xs",md:"sm"},children:"Emails Sent"}),(0,te.jsx)(O.k,{color:"#FB923C",fontSize:{base:"md",md:"2xl"},children:De.totalEmailsSent})]})}),(0,te.jsx)(x.a,{p:4,bg:"rgba(255, 255, 255, 0.03)",borderRadius:"lg",border:"1px",borderColor:i,children:(0,te.jsxs)(U.r,{children:[(0,te.jsx)(_.v,{color:re,fontSize:{base:"xs",md:"sm"},children:"Emails Received"}),(0,te.jsx)(O.k,{color:"#14B8A6",fontSize:{base:"md",md:"2xl"},children:De.totalEmailsReceived})]})})]}),(0,te.jsxs)(I.T,{spacing:{base:3,md:4},align:"stretch",children:[(0,te.jsx)(y.p,{placeholder:"Search contacts...",value:pe,onChange:e=>je(e.target.value),width:"100%",bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,_placeholder:{color:ge},_hover:{borderColor:"rgba(59, 130, 246, 0.5)"},_focus:{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"}}),(0,te.jsxs)(N.z,{spacing:{base:2,md:4},width:"100%",children:[(0,te.jsxs)(B.l,{placeholder:"All directions",value:fe,onChange:e=>ye(e.target.value),flex:1,bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,_hover:{borderColor:"rgba(59, 130, 246, 0.5)"},_focus:{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"},children:[(0,te.jsx)("option",{value:"all",children:"All Emails"}),(0,te.jsx)("option",{value:"incoming",children:"Incoming (People who sent to us)"}),(0,te.jsx)("option",{value:"outgoing",children:"Outgoing (People we sent to)"})]}),(0,te.jsxs)(B.l,{placeholder:"All types",value:ue,onChange:e=>ve(e.target.value),flex:1,bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,children:[(0,te.jsx)("option",{value:"",children:"All Types"}),(0,te.jsx)("option",{value:"PERSONAL",children:"Personal"}),(0,te.jsx)("option",{value:"BUSINESS",children:"Business"}),(0,te.jsx)("option",{value:"SUPPORT",children:"Support"}),(0,te.jsx)("option",{value:"NOREPLY",children:"No Reply"}),(0,te.jsx)("option",{value:"MARKETING",children:"Marketing"}),(0,te.jsx)("option",{value:"UNKNOWN",children:"Unknown"})]}),(0,te.jsxs)(B.l,{placeholder:"Verification status",value:void 0===Ce?"":Ce.toString(),onChange:e=>Se(""===e.target.value?void 0:"true"===e.target.value),flex:1,bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,children:[(0,te.jsx)("option",{value:"",children:"All Status"}),(0,te.jsx)("option",{value:"true",children:"Verified Only"}),(0,te.jsx)("option",{value:"false",children:"Unverified Only"})]})]})]}),Be?(0,te.jsxs)(x.a,{textAlign:"center",py:8,children:[(0,te.jsx)(w.y,{size:"xl",color:"#3B82F6"}),(0,te.jsx)(q.E,{mt:2,color:re,children:"Loading contacts..."})]}):(0,te.jsx)(x.a,{overflowX:"auto",width:"100%",children:(0,te.jsxs)(M.X,{variant:"simple",size:{base:"sm",md:"md"},minWidth:{base:"800px",md:"100%"},children:[(0,te.jsx)(V.d,{children:(0,te.jsxs)(J.Tr,{children:[(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},children:"Email"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},display:{base:"none",md:"table-cell"},children:"Name"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},display:{base:"none",lg:"table-cell"},children:"Company"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},children:"Type"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},display:{base:"none",md:"table-cell"},children:"Status"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},display:{base:"none",lg:"table-cell"},children:"Emails"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},display:{base:"none",xl:"table-cell"},children:"Tags"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},display:{base:"none",lg:"table-cell"},children:"Calendar Rules"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},display:{base:"none",lg:"table-cell"},children:"Last Seen"}),(0,te.jsx)(L.Th,{color:re,borderColor:i,fontSize:{base:"xs",md:"sm"},children:"Actions"})]})}),(0,te.jsxs)($.N,{children:[Ve.map(e=>{var o;return(0,te.jsxs)(J.Tr,{_hover:{bg:"rgba(255, 255, 255, 0.02)"},children:[(0,te.jsxs)(D.Td,{borderColor:i,px:{base:2,md:4},children:[(0,te.jsx)(q.E,{fontWeight:"medium",color:t,fontSize:{base:"xs",md:"sm"},noOfLines:1,children:e.email}),e.domain&&(0,te.jsxs)(q.E,{fontSize:"sm",color:re,children:["@",e.domain]})]}),(0,te.jsx)(D.Td,{borderColor:i,color:t,display:{base:"none",md:"table-cell"},px:{base:2,md:4},fontSize:{base:"xs",md:"sm"},children:e.name||"-"}),(0,te.jsx)(D.Td,{borderColor:i,color:t,display:{base:"none",lg:"table-cell"},px:{base:2,md:4},fontSize:{base:"xs",md:"sm"},children:e.company||"-"}),(0,te.jsx)(D.Td,{borderColor:i,children:(0,te.jsx)(m.E,{bg:"PERSONAL"===e.type?"rgba(59, 130, 246, 0.2)":"BUSINESS"===e.type?"rgba(34, 197, 94, 0.2)":"SUPPORT"===e.type?"rgba(168, 85, 247, 0.2)":"NOREPLY"===e.type?"rgba(156, 163, 175, 0.2)":"MARKETING"===e.type?"rgba(251, 146, 60, 0.2)":"rgba(156, 163, 175, 0.2)",color:"PERSONAL"===e.type?"#3B82F6":"BUSINESS"===e.type?"#22C55E":"SUPPORT"===e.type?"#A855F7":"NOREPLY"===e.type?"#9CA3AF":"MARKETING"===e.type?"#FB923C":"#9CA3AF",border:"1px solid",borderColor:"PERSONAL"===e.type?"rgba(59, 130, 246, 0.3)":"BUSINESS"===e.type?"rgba(34, 197, 94, 0.3)":"SUPPORT"===e.type?"rgba(168, 85, 247, 0.3)":"NOREPLY"===e.type?"rgba(156, 163, 175, 0.3)":"MARKETING"===e.type?"rgba(251, 146, 60, 0.3)":"rgba(156, 163, 175, 0.3)",children:e.type})}),(0,te.jsx)(D.Td,{borderColor:i,px:{base:2,md:4},display:{base:"none",md:"table-cell"},children:(0,te.jsxs)(I.T,{align:"start",spacing:1,children:[e.isVerified&&(0,te.jsx)(m.E,{bg:"rgba(34, 197, 94, 0.2)",color:"#22C55E",border:"1px solid",borderColor:"rgba(34, 197, 94, 0.3)",children:"Verified"}),e.isBlocked&&(0,te.jsx)(m.E,{bg:"rgba(239, 68, 68, 0.2)",color:"#EF4444",border:"1px solid",borderColor:"rgba(239, 68, 68, 0.3)",children:"Blocked"}),!e.canReceiveMarketing&&(0,te.jsx)(m.E,{bg:"rgba(251, 146, 60, 0.2)",color:"#FB923C",border:"1px solid",borderColor:"rgba(251, 146, 60, 0.3)",children:"No Marketing"})]})}),(0,te.jsx)(D.Td,{borderColor:i,px:{base:2,md:4},display:{base:"none",lg:"table-cell"},children:(0,te.jsxs)(I.T,{align:"start",spacing:0,children:[(0,te.jsxs)(q.E,{fontSize:{base:"xs",md:"sm"},color:re,children:["\u2197 ",e.emailsSent," sent"]}),(0,te.jsxs)(q.E,{fontSize:{base:"xs",md:"sm"},color:re,children:["\u2198 ",e.emailsReceived," received"]})]})}),(0,te.jsx)(D.Td,{borderColor:i,px:{base:2,md:4},display:{base:"none",xl:"table-cell"},children:(0,te.jsxs)(H.B,{children:[null===(o=e.tags)||void 0===o?void 0:o.slice(0,3).map(e=>(0,te.jsx)(H.Q,{children:(0,te.jsx)(K.vw,{size:"sm",bg:"rgba(168, 85, 247, 0.2)",color:"#A855F7",border:"1px solid",borderColor:"rgba(168, 85, 247, 0.3)",children:(0,te.jsx)(K.d1,{children:e})})},e)),e.tags&&e.tags.length>3&&(0,te.jsx)(H.Q,{children:(0,te.jsx)(K.vw,{size:"sm",colorScheme:"gray",children:(0,te.jsxs)(K.d1,{children:["+",e.tags.length-3]})})})]})}),(0,te.jsx)(D.Td,{borderColor:i,px:{base:2,md:4},display:{base:"none",lg:"table-cell"},fontSize:{base:"xs",md:"sm"},children:(0,te.jsxs)(I.T,{align:"start",spacing:1,children:[e.acceptCalendarInvitesFromAnyone&&(0,te.jsx)(m.E,{colorScheme:"green",size:"sm",children:"Accepts All"}),e.acceptedSenderEmailsForCalendarInvites&&e.acceptedSenderEmailsForCalendarInvites.length>0&&(0,te.jsx)(Y.m,{label:"Accepts from: ".concat(e.acceptedSenderEmailsForCalendarInvites.join(", ")),children:(0,te.jsxs)(m.E,{colorScheme:"blue",size:"sm",children:[e.acceptedSenderEmailsForCalendarInvites.length," Allowed"]})}),e.blockedDomainsForCalendarInvites&&e.blockedDomainsForCalendarInvites.length>0&&(0,te.jsx)(Y.m,{label:"Blocks: ".concat(e.blockedDomainsForCalendarInvites.join(", ")),children:(0,te.jsxs)(m.E,{colorScheme:"red",size:"sm",children:[e.blockedDomainsForCalendarInvites.length," Blocked"]})}),!e.acceptCalendarInvitesFromAnyone&&(!e.acceptedSenderEmailsForCalendarInvites||0===e.acceptedSenderEmailsForCalendarInvites.length)&&(!e.blockedDomainsForCalendarInvites||0===e.blockedDomainsForCalendarInvites.length)&&(0,te.jsx)(q.E,{fontSize:"xs",color:"gray.500",children:"No rules"})]})}),(0,te.jsx)(D.Td,{borderColor:i,px:{base:2,md:4},display:{base:"none",lg:"table-cell"},fontSize:{base:"xs",md:"sm"},children:e.lastSeenAt?new Date(e.lastSeenAt).toLocaleDateString():"-"}),(0,te.jsx)(D.Td,{borderColor:i,px:{base:2,md:4},children:(0,te.jsxs)(N.z,{spacing:1,children:[(0,te.jsx)(Y.m,{label:"Send Email",children:(0,te.jsx)(g.K,{"aria-label":"Send Email",icon:(0,te.jsx)(X.kGk,{}),size:{base:"xs",md:"sm"},colorScheme:"blue",variant:"ghost",onClick:()=>((e,o)=>{const s=new URLSearchParams({to:e,recipientName:o||""});r("/emails/new?".concat(s.toString()))})(e.email||"",e.name||"")})}),(0,te.jsx)(Y.m,{label:"Edit Contact",children:(0,te.jsx)(g.K,{"aria-label":"Edit",icon:(0,te.jsx)(X.SG1,{}),size:{base:"xs",md:"sm"},variant:"ghost",onClick:()=>Me(e)})}),(0,te.jsx)(Y.m,{label:"Delete Contact",children:(0,te.jsx)(g.K,{"aria-label":"Delete",icon:(0,te.jsx)(X.Q_v,{}),size:{base:"xs",md:"sm"},colorScheme:"red",variant:"ghost",onClick:()=>{return r=e.id,void(window.confirm("Are you sure you want to delete this contact?")&&Oe({variables:{id:r}}));var r}})})]})})]},e.id)}),0===Ve.length&&(0,te.jsx)(J.Tr,{children:(0,te.jsx)(D.Td,{colSpan:9,textAlign:"center",py:8,borderColor:i,children:(0,te.jsx)(q.E,{color:ge,children:"No contacts found"})})})]})]})}),(0,te.jsxs)(F.aF,{isOpen:o,onClose:l,size:"lg",children:[(0,te.jsx)(R.m,{bg:"rgba(0, 0, 0, 0.8)"}),(0,te.jsxs)(z.$,{bg:a,backdropFilter:"blur(10px)",border:"1px",borderColor:i,children:[(0,te.jsx)(T.r,{color:t,borderBottom:"1px",borderColor:i,children:Ae?"Edit Contact":"Add New Contact"}),(0,te.jsx)(E.s,{}),(0,te.jsx)(A.c,{children:(0,te.jsxs)(I.T,{spacing:4,children:[(0,te.jsxs)(C.MJ,{isRequired:!0,children:[(0,te.jsx)(S.l,{color:t,children:"Email Address"}),(0,te.jsx)(y.p,{type:"email",value:ke.email,onChange:e=>Te((0,d.A)((0,d.A)({},ke),{},{email:e.target.value})),isDisabled:!!Ae,bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,_hover:{borderColor:"rgba(59, 130, 246, 0.5)"},_focus:{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"}})]}),(0,te.jsxs)(C.MJ,{children:[(0,te.jsx)(S.l,{color:t,children:"Name"}),(0,te.jsx)(y.p,{value:ke.name,onChange:e=>Te((0,d.A)((0,d.A)({},ke),{},{name:e.target.value})),bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,_hover:{borderColor:"rgba(59, 130, 246, 0.5)"},_focus:{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"}})]}),(0,te.jsxs)(C.MJ,{children:[(0,te.jsx)(S.l,{color:t,children:"Company"}),(0,te.jsx)(y.p,{value:ke.company,onChange:e=>Te((0,d.A)((0,d.A)({},ke),{},{company:e.target.value})),bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,_hover:{borderColor:"rgba(59, 130, 246, 0.5)"},_focus:{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"}})]}),(0,te.jsxs)(C.MJ,{children:[(0,te.jsx)(S.l,{color:t,children:"Type"}),(0,te.jsxs)(B.l,{value:ke.type,onChange:e=>Te((0,d.A)((0,d.A)({},ke),{},{type:e.target.value})),bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,children:[(0,te.jsx)("option",{value:"UNKNOWN",children:"Unknown"}),(0,te.jsx)("option",{value:"PERSONAL",children:"Personal"}),(0,te.jsx)("option",{value:"BUSINESS",children:"Business"}),(0,te.jsx)("option",{value:"SUPPORT",children:"Support"}),(0,te.jsx)("option",{value:"NOREPLY",children:"No Reply"}),(0,te.jsx)("option",{value:"MARKETING",children:"Marketing"})]})]}),(0,te.jsxs)(C.MJ,{children:[(0,te.jsx)(S.l,{color:t,children:"Tags"}),(0,te.jsxs)(I.T,{spacing:3,align:"stretch",children:[(0,te.jsxs)(N.z,{direction:{base:"column",md:"row"},spacing:{base:2,md:3},children:[(0,te.jsx)(y.p,{value:Re,onChange:e=>Fe(e.target.value),placeholder:"Add a tag",onKeyPress:e=>"Enter"===e.key&&$e(),bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,flex:"1",_placeholder:{color:ge},_hover:{borderColor:"rgba(59, 130, 246, 0.5)"},_focus:{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"}}),(0,te.jsx)(h.$,{onClick:$e,bg:"rgba(59, 130, 246, 0.2)",color:"#3B82F6",border:"1px solid",borderColor:"rgba(59, 130, 246, 0.3)",width:{base:"100%",md:"auto"},minW:{md:"80px"},_hover:{bg:"rgba(59, 130, 246, 0.3)"},children:"Add"})]}),(0,te.jsx)(H.B,{mt:2,children:ke.tags.map(e=>(0,te.jsx)(H.Q,{children:(0,te.jsxs)(K.vw,{size:"md",bg:"rgba(168, 85, 247, 0.2)",color:"#A855F7",border:"1px solid",borderColor:"rgba(168, 85, 247, 0.3)",children:[(0,te.jsx)(K.d1,{children:e}),(0,te.jsx)(K.TV,{onClick:()=>(e=>{Te((0,d.A)((0,d.A)({},ke),{},{tags:ke.tags.filter(r=>r!==e)}))})(e)})]})},e))})]})]}),(0,te.jsxs)(C.MJ,{children:[(0,te.jsx)(S.l,{color:t,children:"Notes"}),(0,te.jsx)(G.T,{value:ke.notes,onChange:e=>Te((0,d.A)((0,d.A)({},ke),{},{notes:e.target.value})),rows:3,bg:"rgba(255, 255, 255, 0.05)",borderColor:i,color:t,_hover:{borderColor:"rgba(59, 130, 246, 0.5)"},_focus:{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"}})]}),(0,te.jsxs)(C.MJ,{display:"flex",alignItems:"center",children:[(0,te.jsx)(S.l,{mb:"0",color:t,children:"Can receive marketing emails"}),(0,te.jsx)(P.d,{isChecked:ke.canReceiveMarketing,onChange:e=>Te((0,d.A)((0,d.A)({},ke),{},{canReceiveMarketing:e.target.checked}))})]}),(0,te.jsxs)(C.MJ,{display:"flex",alignItems:"center",children:[(0,te.jsx)(S.l,{mb:"0",color:t,children:"Can receive transactional emails"}),(0,te.jsx)(P.d,{isChecked:ke.canReceiveTransactional,onChange:e=>Te((0,d.A)((0,d.A)({},ke),{},{canReceiveTransactional:e.target.checked}))})]})]})}),(0,te.jsxs)(k.j,{borderTop:"1px",borderColor:i,children:[(0,te.jsx)(h.$,{variant:"ghost",mr:3,onClick:l,color:t,_hover:{bg:"rgba(255, 255, 255, 0.05)"},children:"Cancel"}),(0,te.jsxs)(h.$,{bg:"#3B82F6",color:"white",_hover:{bg:"#2563EB"},onClick:()=>{Ae?_e({variables:{id:Ae.id,input:{name:ke.name||void 0,company:ke.company||void 0,type:ke.type,notes:ke.notes||void 0,tags:ke.tags,canReceiveMarketing:ke.canReceiveMarketing,canReceiveTransactional:ke.canReceiveTransactional}}}):Ue({variables:{input:ke}})},isDisabled:!ke.email,children:[Ae?"Update":"Add"," Contact"]})]})]})]})]})})]})}),(0,te.jsx)(le.n,{})]})}}}]);
//# sourceMappingURL=5074.ff724e98.chunk.js.map