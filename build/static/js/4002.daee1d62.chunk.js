"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[4002],{64002:(e,o,r)=>{r.r(o),r.d(o,{default:()=>q});var t,i,n,a,s=r(89379),c=r(57528),l=r(65043),d=r(22107),p=r(98662),m=r(42703),b=r(83169),u=r(24330),h=r(26201),x=r(98939),j=r(73225),g=r(76668),f=r(35699),v=r(61724),y=r(96148),C=r(29904),w=r(10202),D=r(19077),I=r(30502),k=r(47726),N=r(28846),E=r(39081),A=r(31881),S=r(10585),z=r(70459),P=r(35475),_=r(73216),G=r(52003),T=r(63295),W=r(95214),$=r(39985),R=r(26312),F=r(66037),L=r(70579);const M=(0,z.J1)(t||(t=(0,c.A)(["\n  query GetClients {\n    clients {\n      id\n      fName\n      lName\n      email\n    }\n  }\n"]))),J=(0,z.J1)(i||(i=(0,c.A)(["\n  mutation CreateProject($input: ProjectInput!) {\n    createProject(input: $input) {\n      id\n      projectName\n      projectGoal\n      projectDescription\n      billingClient {\n        id\n        fName\n        lName\n        email\n      }\n      members {\n        id\n      }\n      tasks {\n        id\n        description\n        status\n        assignedTo {\n          id\n        }\n        media {\n          url\n          description\n        }\n        billed\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]))),K=(0,z.J1)(n||(n=(0,c.A)(["\n  mutation ImproveDescription($text: String!, $context: String) {\n    improveDescription(text: $text, context: $context)\n  }\n"]))),O=(0,z.J1)(a||(a=(0,c.A)(["\n  mutation ImproveTagline($text: String!, $context: String) {\n    improveTagline(text: $text, context: $context)\n  }\n"]))),q=()=>{var e;(0,F.H)("New Project");const[o]=(0,P.ok)(),r=o.get("clientId"),t={projectName:"",projectGoal:"",projectDescription:"",clientId:r||""},[i,n]=(0,l.useState)(t),a=(0,_.Zp)(),c=(0,I.d)(),[z,q]=(0,l.useState)(!1),[U,Y]=(0,l.useState)(!1),[Q,B]=(0,l.useState)(!1),H=(0,$.oU)("background.main"),Z=(0,$.oU)("background.cardGradient"),V=(0,$.oU)("border.darkCard"),X=(0,$.oU)("text.primaryDark"),ee=(0,$.oU)("text.secondaryDark"),oe=(0,$.oU)("text.mutedDark"),{data:re,loading:te}=(0,S.IT)(M),[ie]=(0,A.n)(K),[ne]=(0,A.n)(O),[ae,{loading:se}]=(0,A.n)(J,{onCompleted:e=>{console.log("Mutation completed successfully:",e),c({title:"Project Created",description:"New project has been created successfully",status:"success",duration:3e3,isClosable:!0}),a("/project/".concat(e.createProject.id))},onError:e=>{var o,r,t;console.error("Detailed mutation error:",{message:e.message,graphQLErrors:e.graphQLErrors,networkError:e.networkError,extraInfo:e.extraInfo,clientErrors:e.clientErrors});const i=null!==(o=e.graphQLErrors)&&void 0!==o&&null!==(r=o[0])&&void 0!==r&&null!==(t=r.extensions)&&void 0!==t&&t.validationErrors?JSON.stringify(e.graphQLErrors[0].extensions.validationErrors,null,2):e.message;c({title:"Error creating project",description:i,status:"error",duration:5e3,isClosable:!0})}});(0,l.useEffect)(()=>{r&&null!==re&&void 0!==re&&re.clients&&n(e=>(0,s.A)((0,s.A)({},e),{},{clientId:r}))},[r,re]);const ce=e=>{const{name:o,value:r}=e.target;n(e=>(0,s.A)((0,s.A)({},e),{},{[o]:r}))},le=e=>{let o=e.trim();(o.startsWith('"')&&o.endsWith('"')||o.startsWith("'")&&o.endsWith("'"))&&(o=o.slice(1,-1));const r=[/^Here is the improved [^:]*:\s*/i,/^Improved [^:]*:\s*/i,/^The improved [^:]*:\s*/i];for(const t of r)o=o.replace(t,"");return o.trim()},de=e=>'Please improve this project name to be more professional, clear, and descriptive while keeping the core intent. Make it suitable for business project documentation. Return ONLY the improved project name without any preamble, explanation, or quotes. Original name: "'.concat(e,'"'),pe=e=>{const o=i.projectName?' for the project "'.concat(i.projectName,'"'):"";return"Please create a single, concise project goal".concat(o,' in maximum 17 words. Make it clear, specific, and actionable. Focus on the main objective. Return ONLY the improved goal without any preamble, explanation, or quotes. Original goal: "').concat(e,'"')},me=e=>'Please create a concise, professional project description in one paragraph with maximum 70 words. The description should be clear and explain what the project is about, its purpose, and what it aims to achieve. Make it suitable for business documentation. DO NOT include the project name or title in the description - just provide the descriptive content. Return ONLY the improved description without any preamble, explanation, quotes, or project name. Original input: "'.concat(e,'"');return(0,L.jsxs)(d.a,{bg:H,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,L.jsx)(G.m,{}),(0,L.jsx)(W.y,{moduleConfig:R.default}),(0,L.jsx)(x.m,{maxW:"container.md",py:12,flex:"1",children:(0,L.jsxs)(b.Z,{bg:Z,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:V,borderRadius:"xl",overflow:"hidden",children:[(0,L.jsx)(h.a,{borderBottom:"1px",borderColor:V,children:(0,L.jsx)(w.T,{align:"start",spacing:2,children:(0,L.jsx)(N.D,{size:"lg",color:X,fontFamily:$.Kk.fonts.heading,fontWeight:"600",children:"\ud83d\udcc1 Create New Project"})})}),(0,L.jsx)(u.b,{p:8,children:(0,L.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),i.clientId){console.log("=== Project Submission ==="),console.log("Form Data:",{raw:i,processed:{projectName:i.projectName,projectGoal:i.projectGoal,projectDescription:i.projectDescription,billingClient:i.clientId}});try{const e={projectName:i.projectName,projectGoal:i.projectGoal,projectDescription:i.projectDescription,billingClient:i.clientId};console.log("Mutation Input:",e);const o=await ae({variables:{input:e}});console.log("Mutation Response:",o)}catch(o){console.error("Error creating project:",{error:o,formData:i,errorType:o.constructor.name,errorStack:o.stack})}}else c({title:"Error",description:"Please select a client",status:"error",duration:3e3,isClosable:!0})},children:(0,L.jsxs)(C.B,{spacing:6,children:[(0,L.jsxs)(j.MJ,{isRequired:!0,children:[(0,L.jsx)(g.l,{color:X,fontWeight:"500",fontSize:"sm",mb:2,children:"Client"}),(0,L.jsxs)(C.B,{direction:"row",spacing:4,children:[(0,L.jsx)(v.l,{name:"clientId",value:i.clientId,onChange:ce,placeholder:"Select client",isDisabled:te,bg:"rgba(0, 0, 0, 0.2)",border:"1px",borderColor:V,color:X,borderRadius:"lg",_placeholder:{color:oe},_focus:{borderColor:ee,boxShadow:"0 0 0 1px rgba(255, 255, 255, 0.1)",outline:"none"},_hover:{borderColor:ee},size:"lg",fontFamily:$.Kk.fonts.body,flex:"1",children:null===re||void 0===re||null===(e=re.clients)||void 0===e?void 0:e.map(e=>(0,L.jsxs)("option",{value:e.id,style:{backgroundColor:"#1a1a1a"},children:[e.fName," ",e.lName," (",e.email,")"]},e.id))}),(0,L.jsx)(p.$,{bg:"white",color:"black",_hover:{bg:"gray.100",transform:"translateY(-2px)"},onClick:()=>a("/newclient"),size:"lg",flexShrink:0,boxShadow:"0 2px 4px rgba(255, 255, 255, 0.1)",children:"New Client"})]})]}),(0,L.jsxs)(j.MJ,{isRequired:!0,children:[(0,L.jsxs)(y.z,{justify:"space-between",align:"center",mb:2,children:[(0,L.jsx)(g.l,{color:X,fontWeight:"500",fontSize:"sm",mb:0,children:"Project Name"}),(0,L.jsxs)(y.z,{spacing:2,children:[(0,L.jsx)(k.m,{label:(0,L.jsxs)(d.a,{p:2,maxW:"500px",children:[(0,L.jsx)(E.E,{fontWeight:"bold",fontSize:"sm",mb:2,children:"AI Context:"}),(0,L.jsx)(E.E,{fontSize:"xs",whiteSpace:"pre-wrap",children:de(i.projectName||"[your text here]")})]}),placement:"top",hasArrow:!0,bg:"gray.700",color:"white",children:(0,L.jsx)(p.$,{size:"sm",variant:"outline",borderColor:V,color:X,bg:"rgba(0, 0, 0, 0.2)",_hover:{borderColor:ee,bg:"rgba(255, 255, 255, 0.05)"},isDisabled:!i.projectName.trim(),isLoading:z,onClick:async()=>{const e=i.projectName;if(e.trim()){q(!0);try{const o=de(e),{data:r}=await ie({variables:{text:e,context:o}});null!==r&&void 0!==r&&r.improveDescription&&(n(e=>(0,s.A)((0,s.A)({},e),{},{projectName:le(r.improveDescription)})),c({title:"\u2728 Project name improved!",description:"Claude has enhanced your project name",status:"success",duration:3e3}))}catch(o){console.error("Error improving project name:",o),c({title:"Improvement failed",description:o instanceof Error?o.message:"Failed to improve project name. Please try again.",status:"error",duration:5e3})}finally{q(!1)}}else c({title:"No text to improve",description:"Please enter a project name first",status:"warning",duration:3e3})},leftIcon:(0,L.jsx)(E.E,{children:"\u2728"}),children:"AI Improve"})}),(0,L.jsx)(m.K,{"aria-label":"Copy AI context",icon:(0,L.jsx)(E.E,{children:"\ud83d\udccb"}),size:"sm",variant:"ghost",isDisabled:!i.projectName.trim(),onClick:()=>{i.projectName.trim()&&(navigator.clipboard.writeText(de(i.projectName)),c({title:"AI context copied!",description:"The project name context has been copied to your clipboard",status:"success",duration:2e3}))},title:"Copy AI context to clipboard"})]})]}),(0,L.jsx)(f.p,{name:"projectName",value:i.projectName,onChange:ce,placeholder:"Enter project name",bg:"rgba(0, 0, 0, 0.2)",border:"1px",borderColor:V,color:X,borderRadius:"lg",_placeholder:{color:oe},_focus:{borderColor:ee,boxShadow:"0 0 0 1px rgba(255, 255, 255, 0.1)",outline:"none"},_hover:{borderColor:ee},size:"lg",fontFamily:$.Kk.fonts.body})]}),(0,L.jsxs)(j.MJ,{isRequired:!0,children:[(0,L.jsxs)(y.z,{justify:"space-between",align:"center",mb:2,children:[(0,L.jsx)(g.l,{color:X,fontWeight:"500",fontSize:"sm",mb:0,children:"Project Goal"}),(0,L.jsxs)(y.z,{spacing:2,children:[(0,L.jsx)(k.m,{label:(0,L.jsxs)(d.a,{p:2,maxW:"500px",children:[(0,L.jsx)(E.E,{fontWeight:"bold",fontSize:"sm",mb:2,children:"AI Context:"}),(0,L.jsx)(E.E,{fontSize:"xs",whiteSpace:"pre-wrap",children:pe(i.projectGoal||"[your text here]")})]}),placement:"top",hasArrow:!0,bg:"gray.700",color:"white",children:(0,L.jsx)(p.$,{size:"sm",variant:"outline",borderColor:V,color:X,bg:"rgba(0, 0, 0, 0.2)",_hover:{borderColor:ee,bg:"rgba(255, 255, 255, 0.05)"},isDisabled:!i.projectGoal.trim(),isLoading:U,onClick:async()=>{const e=i.projectGoal;if(e.trim()){Y(!0);try{const o=pe(e),{data:r}=await ie({variables:{text:e,context:o}});null!==r&&void 0!==r&&r.improveDescription&&(n(e=>(0,s.A)((0,s.A)({},e),{},{projectGoal:le(r.improveDescription)})),c({title:"\u2728 Project goal improved!",description:"Claude has enhanced your project goal",status:"success",duration:3e3}))}catch(o){console.error("Error improving project goal:",o),c({title:"Improvement failed",description:o instanceof Error?o.message:"Failed to improve project goal. Please try again.",status:"error",duration:5e3})}finally{Y(!1)}}else c({title:"No text to improve",description:"Please enter a project goal first",status:"warning",duration:3e3})},leftIcon:(0,L.jsx)(E.E,{children:"\u2728"}),children:"AI Improve"})}),(0,L.jsx)(m.K,{"aria-label":"Copy AI context",icon:(0,L.jsx)(E.E,{children:"\ud83d\udccb"}),size:"sm",variant:"ghost",isDisabled:!i.projectGoal.trim(),onClick:()=>{i.projectGoal.trim()&&(navigator.clipboard.writeText(pe(i.projectGoal)),c({title:"AI context copied!",description:"The project goal context has been copied to your clipboard",status:"success",duration:2e3}))},title:"Copy AI context to clipboard"})]})]}),(0,L.jsx)(D.T,{name:"projectGoal",value:i.projectGoal,onChange:ce,placeholder:"Enter a concise project goal (max 17 words)...",rows:2,bg:"rgba(0, 0, 0, 0.2)",border:"1px",borderColor:V,color:X,borderRadius:"lg",_placeholder:{color:oe},_focus:{borderColor:ee,boxShadow:"0 0 0 1px rgba(255, 255, 255, 0.1)",outline:"none"},_hover:{borderColor:ee},fontFamily:$.Kk.fonts.body})]}),(0,L.jsxs)(j.MJ,{children:[(0,L.jsxs)(y.z,{justify:"space-between",align:"center",mb:2,children:[(0,L.jsx)(g.l,{color:X,fontWeight:"500",fontSize:"sm",mb:0,children:"Project Description"}),(0,L.jsxs)(y.z,{spacing:2,children:[(0,L.jsx)(k.m,{label:(0,L.jsxs)(d.a,{p:2,maxW:"600px",children:[(0,L.jsx)(E.E,{fontWeight:"bold",fontSize:"sm",mb:2,children:"AI Context:"}),(0,L.jsx)(E.E,{fontSize:"xs",whiteSpace:"pre-wrap",children:me(i.projectDescription||"[your text here]")})]}),placement:"top",hasArrow:!0,bg:"gray.700",color:"white",children:(0,L.jsx)(p.$,{size:"sm",variant:"outline",borderColor:V,color:X,bg:"rgba(0, 0, 0, 0.2)",_hover:{borderColor:ee,bg:"rgba(255, 255, 255, 0.05)"},isDisabled:!i.projectDescription.trim(),isLoading:Q,onClick:async()=>{const e=i.projectDescription;if(e.trim()){B(!0);try{const o=me(e),{data:r}=await ie({variables:{text:e,context:o}});null!==r&&void 0!==r&&r.improveDescription&&(n(e=>(0,s.A)((0,s.A)({},e),{},{projectDescription:le(r.improveDescription)})),c({title:"\u2728 Project description improved!",description:"Claude has enhanced your project description",status:"success",duration:3e3}))}catch(o){console.error("Error improving project description:",o),c({title:"Improvement failed",description:o instanceof Error?o.message:"Failed to improve project description. Please try again.",status:"error",duration:5e3})}finally{B(!1)}}else c({title:"No text to improve",description:"Please enter a project description first",status:"warning",duration:3e3})},leftIcon:(0,L.jsx)(E.E,{children:"\u2728"}),children:"AI Improve"})}),(0,L.jsx)(m.K,{"aria-label":"Copy AI context",icon:(0,L.jsx)(E.E,{children:"\ud83d\udccb"}),size:"sm",variant:"ghost",isDisabled:!i.projectDescription.trim(),onClick:()=>{i.projectDescription.trim()&&(navigator.clipboard.writeText(me(i.projectDescription)),c({title:"AI context copied!",description:"The project description context has been copied to your clipboard",status:"success",duration:2e3}))},title:"Copy AI context to clipboard"})]})]}),(0,L.jsx)(D.T,{name:"projectDescription",value:i.projectDescription,onChange:ce,placeholder:"Provide a brief description of what this project involves (max 70 words)...",rows:4,bg:"rgba(0, 0, 0, 0.2)",border:"1px",borderColor:V,color:X,borderRadius:"lg",_placeholder:{color:oe},_focus:{borderColor:ee,boxShadow:"0 0 0 1px rgba(255, 255, 255, 0.1)",outline:"none"},_hover:{borderColor:ee},fontFamily:$.Kk.fonts.body})]}),(0,L.jsx)(p.$,{type:"submit",bg:"white",color:"black",_hover:{bg:"gray.100",transform:"translateY(-2px)"},_active:{transform:"translateY(1px)"},isLoading:se,size:"lg",width:"full",borderRadius:"lg",fontWeight:"600",boxShadow:"0 2px 4px rgba(255, 255, 255, 0.1)",fontFamily:$.Kk.fonts.body,children:"Create Project"})]})})})]})}),(0,L.jsx)(T.n,{})]})}}}]);
//# sourceMappingURL=4002.daee1d62.chunk.js.map