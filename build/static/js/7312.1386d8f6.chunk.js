"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[7312],{17312:(e,n,t)=>{t.r(n),t.d(n,{default:()=>P});var i,r,s=t(57528),a=t(65043),o=t(22107),l=t(98662),d=t(42703),c=t(83169),h=t(24330),u=t(44093),g=t(73225),p=t(76668),x=t(35699),j=t(61724),m=t(96148),v=t(10202),f=t(14566),b=t(31411),C=t(10227),T=t(51794),E=t(3109),U=t(19077),k=t(30502),w=t(28846),S=t(39081),y=t(31881),R=t(10585),A=t(70459),I=t(73216),F=t(1009),N=t(64379),z=t(39985),D=t(63295),_=t(52003),M=t(70579);const G=(0,A.J1)(i||(i=(0,s.A)(["\n  mutation CreateFrontendUpgrade($input: CreateFrontendUpgradeInput!) {\n    createFrontendUpgrade(input: $input) {\n      id\n      title\n    }\n  }\n"]))),J=(0,A.J1)(r||(r=(0,s.A)(["\n  query GetTenants {\n    tenants {\n      id\n      name\n      status\n    }\n  }\n"]))),P=()=>{const{colorMode:e}=(0,u.G6)(),n=(0,I.Zp)(),t=(0,k.d)(),[i,r]=(0,a.useState)(""),[s,A]=(0,a.useState)(""),[P,q]=(0,a.useState)("UI_ENHANCEMENT"),[H,L]=(0,a.useState)(""),[O,B]=(0,a.useState)(""),[$,K]=(0,a.useState)([""]),[Z,W]=(0,a.useState)(""),{data:V,loading:X,error:Y}=(0,R.IT)(J),Q=(null===V||void 0===V?void 0:V.tenants)||[];a.useEffect(()=>{V&&(console.log("Tenants data:",V),console.log("All tenants:",Q),console.log("Active tenants:",Q.filter(e=>"active"===e.status))),Y&&console.error("Tenants error:",Y)},[V,Y,Q]);const[ee,{loading:ne}]=(0,y.n)(G,{onCompleted:e=>{t({title:"Upgrade Created",description:"Successfully tracked upgrade: ".concat(e.createFrontendUpgrade.title),status:"success",duration:5e3,isClosable:!0}),n("/frontend-upgrades")},onError:e=>{t({title:"Error",description:e.message,status:"error",duration:5e3,isClosable:!0})}});return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(_.m,{}),(0,M.jsx)(o.a,{p:6,children:(0,M.jsxs)(v.T,{spacing:6,align:"stretch",maxW:"1200px",mx:"auto",children:[(0,M.jsxs)(m.z,{children:[(0,M.jsx)(d.K,{"aria-label":"Go back",icon:(0,M.jsx)(F.kRp,{}),onClick:()=>n("/frontend-upgrades"),variant:"ghost"}),(0,M.jsx)(w.D,{size:"lg",children:"Track New Frontend Upgrade"})]}),(0,M.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!i||!s||!P||!H||!O)return void t({title:"Validation Error",description:"Please fill in all required fields",status:"warning",duration:3e3,isClosable:!0});const n=$.filter(e=>""!==e.trim());0!==n.length?await ee({variables:{input:{title:i,description:s,category:P,originTenantId:H,originTenantName:O,gitCommitUrls:n,markdownDocumentation:Z||void 0}}}):t({title:"Validation Error",description:"Please add at least one git commit URL",status:"warning",duration:3e3,isClosable:!0})},children:(0,M.jsxs)(v.T,{spacing:6,align:"stretch",children:[(0,M.jsx)(c.Z,{bg:"light"===e?"white":(0,z.oU)("background.darkSurface",e),children:(0,M.jsx)(h.b,{children:(0,M.jsxs)(v.T,{spacing:4,align:"stretch",children:[(0,M.jsx)(w.D,{size:"md",children:"Basic Information"}),(0,M.jsxs)(g.MJ,{isRequired:!0,children:[(0,M.jsx)(p.l,{children:"Title"}),(0,M.jsx)(x.p,{value:i,onChange:e=>r(e.target.value),placeholder:"e.g., Dynamic Color Configuration for FloatingNavbar"})]}),(0,M.jsxs)(g.MJ,{isRequired:!0,children:[(0,M.jsx)(p.l,{children:"Description"}),(0,M.jsx)(U.T,{value:s,onChange:e=>A(e.target.value),placeholder:"Brief description of what this upgrade improves",rows:3})]}),(0,M.jsxs)(g.MJ,{isRequired:!0,children:[(0,M.jsx)(p.l,{children:"Category"}),(0,M.jsxs)(j.l,{value:P,onChange:e=>q(e.target.value),children:[(0,M.jsx)("option",{value:"UI_ENHANCEMENT",children:"UI Enhancement"}),(0,M.jsx)("option",{value:"BUG_FIX",children:"Bug Fix"}),(0,M.jsx)("option",{value:"PERFORMANCE",children:"Performance"}),(0,M.jsx)("option",{value:"SECURITY",children:"Security"}),(0,M.jsx)("option",{value:"FEATURE",children:"Feature"}),(0,M.jsx)("option",{value:"REFACTOR",children:"Refactor"}),(0,M.jsx)("option",{value:"ACCESSIBILITY",children:"Accessibility"}),(0,M.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,M.jsxs)(g.MJ,{isRequired:!0,children:[(0,M.jsx)(p.l,{children:"Origin Tenant (Where was this first innovated?)"}),(0,M.jsx)(j.l,{value:H,onChange:e=>{const n=e.target.value;L(n);const t=Q.find(e=>e.id===n);t&&B(t.name)},placeholder:"Select tenant site",children:Q.map(e=>(0,M.jsx)("option",{value:e.id,children:e.name},e.id))})]})]})})}),(0,M.jsx)(c.Z,{bg:"light"===e?"white":(0,z.oU)("background.darkSurface",e),children:(0,M.jsx)(h.b,{children:(0,M.jsxs)(v.T,{spacing:4,align:"stretch",children:[(0,M.jsxs)(m.z,{justify:"space-between",children:[(0,M.jsx)(w.D,{size:"md",children:"Git Commit URLs"}),(0,M.jsx)(l.$,{leftIcon:(0,M.jsx)(F.GGD,{}),size:"sm",onClick:()=>{K([...$,""])},colorScheme:"blue",children:"Add URL"})]}),$.map((e,n)=>(0,M.jsxs)(m.z,{children:[(0,M.jsx)(g.MJ,{children:(0,M.jsx)(x.p,{value:e,onChange:e=>((e,n)=>{const t=[...$];t[e]=n,K(t)})(n,e.target.value),placeholder:"https://github.com/username/repo/commit/..."})}),$.length>1&&(0,M.jsx)(d.K,{"aria-label":"Remove URL",icon:(0,M.jsx)(F.IXo,{}),onClick:()=>(e=>{K($.filter((n,t)=>t!==e))})(n),colorScheme:"red",variant:"ghost"})]},n))]})})}),(0,M.jsx)(c.Z,{bg:"light"===e?"white":(0,z.oU)("background.darkSurface",e),children:(0,M.jsx)(h.b,{children:(0,M.jsxs)(v.T,{spacing:4,align:"stretch",children:[(0,M.jsx)(w.D,{size:"md",children:"Documentation (Optional)"}),(0,M.jsx)(S.E,{fontSize:"sm",color:"light"===e?"gray.600":"gray.400",children:"Add detailed markdown documentation about this upgrade, including implementation notes, gotchas, etc."}),(0,M.jsxs)(E.t,{children:[(0,M.jsxs)(b.w,{children:[(0,M.jsx)(f.o,{children:"Edit"}),(0,M.jsx)(f.o,{children:"Preview"})]}),(0,M.jsxs)(T.T,{children:[(0,M.jsx)(C.K,{px:0,children:(0,M.jsx)(U.T,{value:Z,onChange:e=>W(e.target.value),placeholder:"# Implementation Notes ## What Changed\n- Point 1\n- Point 2 ## How to Apply\n1. Step 1\n2. Step 2",rows:15,fontFamily:"monospace"})}),(0,M.jsx)(C.K,{children:Z?(0,M.jsx)(o.a,{p:4,border:"1px solid",borderColor:"light"===e?"gray.200":"gray.600",borderRadius:"md",minH:"300px",children:(0,M.jsx)(N.oz,{children:Z})}):(0,M.jsx)(S.E,{color:"gray.500",children:"No documentation yet. Add some markdown content to see the preview."})})]})]})]})})}),(0,M.jsxs)(m.z,{justify:"flex-end",spacing:4,children:[(0,M.jsx)(l.$,{variant:"ghost",onClick:()=>n("/frontend-upgrades"),children:"Cancel"}),(0,M.jsx)(l.$,{type:"submit",bg:(0,z.oU)("secondary",e),color:"white",isLoading:ne,_hover:{bg:(0,z.oU)("secondaryHover",e)},children:"Track Upgrade"})]})]})})]})}),(0,M.jsx)(D.n,{})]})}}}]);
//# sourceMappingURL=7312.1386d8f6.chunk.js.map