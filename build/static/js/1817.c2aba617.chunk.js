"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[1817],{91817:(e,n,s)=>{s.r(n),s.d(n,{default:()=>De});var i,l,o,t,r,a,d,c=s(57528),h=s(65043),x=s(96870),u=s(88787),j=s(85871),m=s(87139),p=s(22107),g=s(98662),b=s(42703),y=s(83169),f=s(24330),v=s(26201),T=s(34946),C=s(3053),S=s(44093),D=s(98939),z=s(73225),E=s(76668),w=s(73212),k=s(35699),I=s(67516),R=s(35929),$=s(56529),M=s(15071),N=s(11054),W=s(78460),U=s(25722),A=s(57371),F=s(61724),O=s(76659),G=s(96148),q=s(29904),_=s(10202),H=s(94217),J=s(53332),L=s(78149),Z=s(80511),P=s(82595),B=s(67813),K=s(83201),V=s(3313),Y=s(55395),X=s(30502),Q=s(47726),ee=s(28846),ne=s(39081),se=s(31881),ie=s(10585),le=s(70459),oe=s(12730),te=s(26262),re=s(25624),ae=s(37809),de=s(42128),ce=s(73216),he=s(52003),xe=s(63295),ue=s(95214),je=s(46898),me=s(39985),pe=s(66037),ge=s(70579);const be=(0,le.J1)(i||(i=(0,c.A)(["\n  query GetTenantsDeploymentStatus {\n    tenants {\n      id\n      name\n      status\n      subscriptionTier\n      githubRepo\n      githubOwner\n      deploymentUrl\n      lastDeployment\n      moduleConfig {\n        moduleId\n        version\n        enabled\n        enabledAt\n      }\n      branding {\n        siteName\n      }\n      client {\n        id\n        fName\n        lName\n        email\n        businessName\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]))),ye=(0,le.J1)(l||(l=(0,c.A)(["\n  query GetAvailableModules {\n    availableModules {\n      id\n      name\n      description\n      icon\n      version\n      requiredTier\n    }\n  }\n"]))),fe=(0,le.J1)(o||(o=(0,c.A)(["\n  mutation DeployModuleToTenants($moduleId: String!, $tenantIds: [ID!]!) {\n    deployModuleToTenants(moduleId: $moduleId, tenantIds: $tenantIds) {\n      moduleId\n      totalTenants\n      successfulDeployments\n      failedDeployments\n      results {\n        tenantId\n        tenantName\n        repoName\n        success\n        error\n        commitSha\n      }\n    }\n  }\n"]))),ve=(0,le.J1)(t||(t=(0,c.A)(["\n  mutation CreateClientRepo($clientRepoName: String!, $clientGithubOwner: String!, $clientGithubToken: String!) {\n    createClientRepo(clientRepoName: $clientRepoName, clientGithubOwner: $clientGithubOwner, clientGithubToken: $clientGithubToken)\n  }\n"]))),Te=(0,le.J1)(r||(r=(0,c.A)(["\n  mutation UpdateTenant($id: ID!, $input: UpdateTenantInput!) {\n    updateTenant(id: $id, input: $input) {\n      id\n      githubRepo\n      githubOwner\n      deploymentUrl\n      lastDeployment\n    }\n  }\n"]))),Ce=(0,le.J1)(a||(a=(0,c.A)(["\n  mutation DeployModuleToTenant($moduleId: String!, $tenantId: String!) {\n    deployModuleToTenant(moduleId: $moduleId, tenantId: $tenantId) {\n      tenantId\n      tenantName\n      success\n      error\n      commitSha\n    }\n  }\n"]))),Se=(0,le.J1)(d||(d=(0,c.A)(["\n  mutation EnableModuleForTenant($tenantId: ID!, $moduleId: String!, $version: String) {\n    enableModuleForTenant(tenantId: $tenantId, moduleId: $moduleId, version: $version) {\n      id\n      moduleConfig {\n        moduleId\n        version\n        enabled\n        enabledAt\n      }\n    }\n  }\n"]))),De=()=>{var e,n;(0,pe.H)("Module Deployment");const{colorMode:s}=(0,S.G6)(),i=(0,ce.Zp)(),l=(0,X.d)(),o=(0,me.oU)("background.main",s),t=(0,me.oU)("background.cardGradient",s),r=(0,me.oU)("border.darkCard",s),a=(0,me.oU)("light"===s?"text.primary":"text.primaryDark",s),d=((0,me.oU)("light"===s?"text.secondary":"text.secondaryDark",s),(0,me.oU)("light"===s?"text.muted":"text.mutedDark",s)),c=(0,me.oU)("light"===s?"background.light":"background.darkSurface",s),{isOpen:le,onOpen:De,onClose:ze}=(0,x.j)(),{isOpen:Ee,onOpen:we,onClose:ke}=(0,x.j)(),[Ie,Re]=h.useState(""),[$e,Me]=h.useState([]),[Ne,We]=h.useState(""),[Ue,Ae]=h.useState("tommycp3"),[Fe,Oe]=h.useState(""),[Ge,qe]=h.useState(null),[_e,He]=h.useState(!1),[Je,Le]=h.useState(!1),[Ze,Pe]=h.useState([]),[Be,Ke]=h.useState(""),[Ve,Ye]=h.useState(!1),{data:Xe,loading:Qe,error:en,refetch:nn}=(0,ie.IT)(be),{data:sn,loading:ln}=(0,ie.IT)(ye),[on]=(0,se.n)(fe),[tn]=(0,se.n)(Ce),[rn]=(0,se.n)(Se),[an]=(0,se.n)(ve),[dn]=(0,se.n)(Te),cn=(null===Xe||void 0===Xe?void 0:Xe.tenants)||[];if(Qe)return(0,ge.jsxs)(p.a,{bg:o,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,ge.jsx)(he.m,{}),(0,ge.jsx)(D.m,{maxW:"container.xl",py:12,flex:"1",children:(0,ge.jsxs)(_.T,{spacing:8,children:[(0,ge.jsx)(O.y,{size:"xl"}),(0,ge.jsx)(ne.E,{children:"Loading tenant deployment status..."})]})}),(0,ge.jsx)(xe.n,{})]});if(en)return(0,ge.jsxs)(p.a,{bg:o,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,ge.jsx)(he.m,{}),(0,ge.jsx)(D.m,{maxW:"container.xl",py:12,flex:"1",children:(0,ge.jsxs)(u.F,{status:"error",children:[(0,ge.jsx)(j._,{}),(0,ge.jsxs)(ne.E,{children:["Error loading deployment status: ",en.message]})]})}),(0,ge.jsx)(xe.n,{})]});const hn=cn.filter(e=>e.githubRepo),xn=cn.filter(e=>!e.githubRepo),un=cn.filter(e=>e.lastDeployment);return(0,ge.jsxs)(p.a,{bg:o,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,ge.jsx)(he.m,{}),(0,ge.jsx)(ue.y,{moduleConfig:je.default}),(0,ge.jsx)(D.m,{maxW:"container.xl",py:12,flex:"1",children:(0,ge.jsxs)(_.T,{spacing:8,align:"stretch",children:[(0,ge.jsxs)(G.z,{justify:"space-between",children:[(0,ge.jsxs)(_.T,{align:"start",spacing:2,children:[(0,ge.jsx)(G.z,{children:(0,ge.jsx)(g.$,{variant:"ghost",onClick:()=>i("/admin/tenants"),leftIcon:(0,ge.jsx)(ae.g,{}),children:"Back to Tenants"})}),(0,ge.jsx)(ee.D,{size:"lg",color:a,children:"\ud83d\udce6 Module Deployment"}),(0,ge.jsx)(ne.E,{color:d,children:"Deploy and manage modules across all tenant sites"})]}),(0,ge.jsxs)(G.z,{spacing:3,children:[(0,ge.jsx)(g.$,{colorScheme:"blue",onClick:()=>i("/tenants/quick-deploy"),leftIcon:(0,ge.jsx)(re.H,{}),children:"\u26a1 Quick Deploy"}),(0,ge.jsx)(g.$,{colorScheme:"green",onClick:()=>i("/admin/tenants/new"),leftIcon:(0,ge.jsx)(oe.R,{}),children:"Create New Site"})]})]}),(0,ge.jsxs)(w.r,{columns:{base:1,md:4},spacing:6,children:[(0,ge.jsx)(y.Z,{bg:t,borderColor:r,borderWidth:"1px",children:(0,ge.jsx)(f.b,{children:(0,ge.jsxs)(H.r,{children:[(0,ge.jsx)(J.v,{children:"Total Tenants"}),(0,ge.jsx)(L.k,{fontSize:"2xl",children:cn.length})]})})}),(0,ge.jsx)(y.Z,{bg:t,borderColor:r,borderWidth:"1px",children:(0,ge.jsx)(f.b,{children:(0,ge.jsxs)(H.r,{children:[(0,ge.jsx)(J.v,{children:"With Repositories"}),(0,ge.jsx)(L.k,{fontSize:"2xl",color:"green.500",children:hn.length})]})})}),(0,ge.jsx)(y.Z,{bg:t,borderColor:r,borderWidth:"1px",children:(0,ge.jsx)(f.b,{children:(0,ge.jsxs)(H.r,{children:[(0,ge.jsx)(J.v,{children:"Need Repository"}),(0,ge.jsx)(L.k,{fontSize:"2xl",color:"red.500",children:xn.length})]})})}),(0,ge.jsx)(y.Z,{bg:t,borderColor:r,borderWidth:"1px",children:(0,ge.jsx)(f.b,{children:(0,ge.jsxs)(H.r,{children:[(0,ge.jsx)(J.v,{children:"Recent Deployments"}),(0,ge.jsx)(L.k,{fontSize:"2xl",color:"blue.500",children:un.length})]})})})]}),(0,ge.jsxs)(y.Z,{bg:t,borderColor:r,borderWidth:"1px",children:[(0,ge.jsx)(v.a,{children:(0,ge.jsxs)(_.T,{align:"start",spacing:2,children:[(0,ge.jsx)(ee.D,{size:"md",color:a,children:"\ud83d\udcda Available Business Modules Reference"}),(0,ge.jsx)(ne.E,{color:d,fontSize:"sm",children:"Complete list of all available modules in the system with their requirements"})]})}),(0,ge.jsx)(f.b,{children:ln?(0,ge.jsxs)(_.T,{spacing:4,children:[(0,ge.jsx)(O.y,{}),(0,ge.jsx)(ne.E,{children:"Loading available modules..."})]}):null!==sn&&void 0!==sn&&sn.availableModules?(0,ge.jsx)(w.r,{columns:{base:1,sm:2,md:3,lg:4},spacing:4,children:sn.availableModules.map(e=>(0,ge.jsxs)(_.T,{align:"start",p:4,border:"1px",borderColor:r,borderRadius:"md",bg:c,spacing:3,children:[(0,ge.jsxs)(G.z,{spacing:3,children:[(0,ge.jsx)(ne.E,{fontSize:"xl",children:e.icon}),(0,ge.jsxs)(_.T,{align:"start",spacing:0,children:[(0,ge.jsx)(ne.E,{fontWeight:"bold",fontSize:"md",children:e.name}),(0,ge.jsx)(ne.E,{fontSize:"xs",color:"gray.500",children:e.id})]})]}),(0,ge.jsx)(ne.E,{fontSize:"sm",color:d,lineHeight:"short",children:e.description}),(0,ge.jsxs)(G.z,{spacing:2,children:[(0,ge.jsxs)(m.E,{size:"sm",colorScheme:"blue",children:["v",e.version]}),(0,ge.jsx)(m.E,{size:"sm",colorScheme:"FREE"===e.requiredTier?"green":"BASIC"===e.requiredTier?"blue":"PREMIUM"===e.requiredTier?"purple":"orange",children:e.requiredTier})]})]},e.id))}):(0,ge.jsxs)(u.F,{status:"warning",children:[(0,ge.jsx)(j._,{}),(0,ge.jsx)(ne.E,{children:"No modules available or failed to load"})]})})]}),(0,ge.jsxs)(y.Z,{bg:t,borderColor:r,borderWidth:"1px",children:[(0,ge.jsx)(v.a,{children:(0,ge.jsxs)(G.z,{justify:"space-between",children:[(0,ge.jsx)(ee.D,{size:"md",color:a,children:"Tenant Deployment Status"}),(0,ge.jsx)(g.$,{size:"sm",variant:"outline",onClick:()=>nn(),leftIcon:(0,ge.jsx)(re.H,{}),children:"Refresh"})]})}),(0,ge.jsx)(f.b,{p:0,children:(0,ge.jsx)(p.a,{overflowX:"auto",children:(0,ge.jsxs)(Z.X,{variant:"simple",children:[(0,ge.jsx)(V.d,{children:(0,ge.jsxs)(Y.Tr,{children:[(0,ge.jsx)(K.Th,{children:"Site Name"}),(0,ge.jsx)(K.Th,{children:"Client"}),(0,ge.jsx)(K.Th,{children:"Repository Status"}),(0,ge.jsx)(K.Th,{children:"Last Deployment"}),(0,ge.jsx)(K.Th,{children:"Enabled Modules"}),(0,ge.jsx)(K.Th,{children:"Actions"})]})}),(0,ge.jsx)(P.N,{children:cn.map(e=>{var n,s,l,o,t,r;const a=(e=>{if(!e.githubRepo)return{status:"No Repo",color:"red",icon:"\u274c"};if(!e.lastDeployment)return{status:"Never Deployed",color:"orange",icon:"\u26a0\ufe0f"};const n=Math.floor((Date.now()-new Date(e.lastDeployment).getTime())/864e5);return 0===n?{status:"Updated Today",color:"green",icon:"\u2705"}:n<7?{status:"".concat(n,"d ago"),color:"yellow",icon:"\ud83d\udfe1"}:{status:"".concat(n,"d ago"),color:"orange",icon:"\u26a0\ufe0f"}})(e),d=(null===(n=e.moduleConfig)||void 0===n?void 0:n.filter(e=>e.enabled))||[];return(0,ge.jsxs)(Y.Tr,{children:[(0,ge.jsx)(B.Td,{children:(0,ge.jsxs)(_.T,{align:"start",spacing:1,children:[(0,ge.jsx)(ne.E,{fontWeight:"bold",children:(null===(s=e.branding)||void 0===s?void 0:s.siteName)||e.name}),(0,ge.jsx)(m.E,{colorScheme:"ACTIVE"===e.status?"green":"gray",children:e.status})]})}),(0,ge.jsx)(B.Td,{children:(0,ge.jsxs)(_.T,{align:"start",spacing:1,children:[(0,ge.jsx)(ne.E,{fontSize:"sm",children:(null===(l=e.client)||void 0===l?void 0:l.businessName)||"".concat(null===(o=e.client)||void 0===o?void 0:o.fName," ").concat(null===(t=e.client)||void 0===t?void 0:t.lName)}),(0,ge.jsx)(ne.E,{fontSize:"xs",color:"gray.500",children:null===(r=e.client)||void 0===r?void 0:r.email})]})}),(0,ge.jsx)(B.Td,{children:(0,ge.jsxs)(_.T,{align:"start",spacing:1,children:[(0,ge.jsxs)(G.z,{children:[(0,ge.jsx)(ne.E,{children:a.icon}),(0,ge.jsx)(m.E,{colorScheme:a.color,children:a.status})]}),e.githubRepo&&(0,ge.jsxs)(ne.E,{fontSize:"xs",color:"gray.500",children:[e.githubOwner,"/",e.githubRepo]})]})}),(0,ge.jsx)(B.Td,{children:e.lastDeployment?(0,ge.jsxs)(_.T,{align:"start",spacing:1,children:[(0,ge.jsx)(ne.E,{fontSize:"sm",children:new Date(e.lastDeployment).toLocaleDateString()}),(0,ge.jsx)(ne.E,{fontSize:"xs",color:"gray.500",children:new Date(e.lastDeployment).toLocaleTimeString()})]}):(0,ge.jsx)(ne.E,{fontSize:"sm",color:"gray.500",children:"Never deployed"})}),(0,ge.jsx)(B.Td,{children:(0,ge.jsxs)(_.T,{align:"start",spacing:2,maxW:"300px",children:[(0,ge.jsx)(G.z,{spacing:1,flexWrap:"wrap",children:d.length>0?d.map(e=>{var n;const s=null===sn||void 0===sn||null===(n=sn.availableModules)||void 0===n?void 0:n.find(n=>n.id===e.moduleId);return(0,ge.jsxs)(m.E,{size:"sm",colorScheme:"green",title:"".concat((null===s||void 0===s?void 0:s.name)||e.moduleId," - v").concat(e.version," (").concat((null===s||void 0===s?void 0:s.requiredTier)||"Unknown",")"),children:[(null===s||void 0===s?void 0:s.icon)||"\ud83d\udce6"," ",(null===s||void 0===s?void 0:s.name)||e.moduleId]},e.moduleId)}):(0,ge.jsx)(m.E,{size:"sm",colorScheme:"gray",children:"No modules enabled"})}),d.length>0&&(0,ge.jsxs)(ne.E,{fontSize:"xs",color:"gray.500",children:[d.length," module",1!==d.length?"s":""," enabled"]})]})}),(0,ge.jsx)(B.Td,{children:(0,ge.jsxs)(G.z,{spacing:2,children:[e.githubRepo?(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(Q.m,{label:"Deploy Modules",children:(0,ge.jsx)(b.K,{"aria-label":"Deploy modules",icon:(0,ge.jsx)(re.H,{}),size:"sm",colorScheme:"blue",onClick:()=>{Me([e.id]),De()}})}),e.deploymentUrl&&(0,ge.jsx)(Q.m,{label:"View Repository",children:(0,ge.jsx)(b.K,{as:"a",href:e.deploymentUrl,target:"_blank","aria-label":"View repo",icon:(0,ge.jsx)(de.p,{}),size:"sm",variant:"outline"})})]}):(0,ge.jsx)(Q.m,{label:"Create GitHub Repository",children:(0,ge.jsx)(b.K,{"aria-label":"Create repo",icon:(0,ge.jsx)(oe.R,{}),size:"sm",colorScheme:"green",onClick:()=>(e=>{qe(e),We(e.name?"".concat(e.name.toLowerCase().replace(/[^a-z0-9]/g,"-"),"-frontend"):""),we()})(e)})}),(0,ge.jsx)(Q.m,{label:"Edit Tenant",children:(0,ge.jsx)(b.K,{"aria-label":"Edit tenant",icon:(0,ge.jsx)(te.Z,{}),size:"sm",variant:"outline",onClick:()=>i("/admin/tenants/".concat(e.id,"/edit"))})})]})})]},e.id)})})]})})})]})]})}),(0,ge.jsxs)(W.aF,{isOpen:le,onClose:ze,size:"xl",children:[(0,ge.jsx)(N.m,{}),(0,ge.jsxs)(U.$,{bg:t,color:a,borderColor:r,borderWidth:"1px",children:[(0,ge.jsx)(M.r,{color:a,children:"Deploy Module to Tenants"}),(0,ge.jsx)(R.s,{}),(0,ge.jsx)(I.c,{children:(0,ge.jsxs)(_.T,{spacing:6,align:"stretch",children:[(0,ge.jsxs)(z.MJ,{children:[(0,ge.jsx)(E.l,{children:"Select Module"}),(0,ge.jsx)(F.l,{placeholder:"Choose a module to deploy",value:Ie,onChange:e=>Re(e.target.value),disabled:ln,children:null===sn||void 0===sn||null===(e=sn.availableModules)||void 0===e?void 0:e.map(e=>(0,ge.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id))})]}),(0,ge.jsxs)(z.MJ,{children:[(0,ge.jsx)(E.l,{children:"Select Tenants"}),(0,ge.jsx)(p.a,{maxHeight:"300px",overflowY:"auto",border:"1px",borderColor:r,borderRadius:"md",p:4,children:(0,ge.jsx)(C.$,{value:$e,onChange:e=>Me(e),children:(0,ge.jsx)(q.B,{spacing:3,children:cn.map(e=>{var n;return(0,ge.jsx)(T.S,{value:e.id,children:(0,ge.jsxs)(_.T,{align:"start",spacing:0,children:[(0,ge.jsx)(ne.E,{fontWeight:"bold",children:(null===(n=e.branding)||void 0===n?void 0:n.siteName)||e.name}),(0,ge.jsx)(ne.E,{fontSize:"sm",color:"gray.500",children:e.githubRepo?"".concat(e.githubOwner,"/").concat(e.githubRepo):"No repository yet"})]})},e.id)})})})})]}),_e&&(0,ge.jsxs)(u.F,{status:"info",children:[(0,ge.jsx)(j._,{}),(0,ge.jsxs)(_.T,{align:"start",spacing:2,w:"full",children:[(0,ge.jsxs)(ne.E,{children:["Deploying ",Ie," to ",$e.length," tenant(s)..."]}),(0,ge.jsx)(A.k,{size:"sm",isIndeterminate:!0,w:"full"})]})]})]})}),(0,ge.jsxs)($.j,{children:[(0,ge.jsx)(g.$,{variant:"ghost",mr:3,onClick:ze,children:"Cancel"}),(0,ge.jsxs)(g.$,{colorScheme:"blue",onClick:async()=>{if(Ie&&0!==$e.length){He(!0);try{const e=(await on({variables:{moduleId:Ie,tenantIds:$e}})).data.deployModuleToTenants;l({title:"Deployment Complete",description:"".concat(e.successfulDeployments,"/").concat(e.totalTenants," deployments successful"),status:0===e.failedDeployments?"success":"warning",duration:5e3,isClosable:!0}),Re(""),Me([]),ze(),nn()}catch(en){l({title:"Deployment Failed",description:en instanceof Error?en.message:"Unknown error occurred",status:"error",duration:5e3,isClosable:!0})}finally{He(!1)}}else l({title:"Missing Information",description:"Please select a module and at least one tenant",status:"warning",duration:3e3,isClosable:!0})},isLoading:_e,loadingText:"Deploying...",isDisabled:!Ie||0===$e.length,children:["Deploy to ",$e.length," Tenant",1!==$e.length?"s":""]})]})]})]}),(0,ge.jsxs)(W.aF,{isOpen:Ee,onClose:ke,size:"lg",children:[(0,ge.jsx)(N.m,{}),(0,ge.jsxs)(U.$,{bg:t,color:a,borderColor:r,borderWidth:"1px",children:[(0,ge.jsx)(M.r,{color:a,children:"Create GitHub Repository"}),(0,ge.jsx)(R.s,{}),(0,ge.jsx)(I.c,{children:(0,ge.jsxs)(_.T,{spacing:6,align:"stretch",children:[Ge&&(0,ge.jsxs)(u.F,{status:"info",children:[(0,ge.jsx)(j._,{}),(0,ge.jsxs)(ne.E,{children:["Creating repository for: ",(0,ge.jsx)("strong",{children:(null===(n=Ge.branding)||void 0===n?void 0:n.siteName)||Ge.name})]})]}),(0,ge.jsxs)(z.MJ,{isRequired:!0,children:[(0,ge.jsx)(E.l,{children:"Repository Name"}),(0,ge.jsx)(k.p,{value:Ne,onChange:e=>We(e.target.value),placeholder:"client-business-frontend"})]}),(0,ge.jsxs)(z.MJ,{isRequired:!0,children:[(0,ge.jsx)(E.l,{children:"GitHub Owner"}),(0,ge.jsx)(k.p,{value:Ue,onChange:e=>Ae(e.target.value),placeholder:"tommycp3"})]}),(0,ge.jsxs)(z.MJ,{isRequired:!0,children:[(0,ge.jsx)(E.l,{children:"GitHub Personal Access Token"}),(0,ge.jsx)(k.p,{type:"password",value:Fe,onChange:e=>Oe(e.target.value),placeholder:"ghp_xxxxxxxxxxxxxxxxxxxx"}),(0,ge.jsx)(ne.E,{fontSize:"sm",color:"gray.500",mt:1,children:"Requires 'repo' permissions to create repositories"})]}),!(null!==Ge&&void 0!==Ge&&Ge.id)&&(0,ge.jsxs)(z.MJ,{children:[(0,ge.jsx)(E.l,{children:"Select Tenant (Optional)"}),(0,ge.jsx)(F.l,{placeholder:"Choose tenant to link repository",onChange:e=>{const n=cn.find(n=>n.id===e.target.value);qe(n||{})},children:cn.filter(e=>!e.githubRepo).map(e=>{var n;return(0,ge.jsx)("option",{value:e.id,children:(null===(n=e.branding)||void 0===n?void 0:n.siteName)||e.name},e.id)})})]}),Je&&(0,ge.jsxs)(u.F,{status:"info",children:[(0,ge.jsx)(j._,{}),(0,ge.jsxs)(_.T,{align:"start",spacing:2,w:"full",children:[(0,ge.jsxs)(ne.E,{children:["Creating repository ",Ue,"/",Ne,"..."]}),(0,ge.jsx)(A.k,{size:"sm",isIndeterminate:!0,w:"full"})]})]})]})}),(0,ge.jsxs)($.j,{children:[(0,ge.jsx)(g.$,{variant:"ghost",mr:3,onClick:ke,children:"Cancel"}),(0,ge.jsx)(g.$,{colorScheme:"green",onClick:async()=>{if(Ne&&Ue&&Fe&&Ge){Le(!0);try{await an({variables:{clientRepoName:Ne,clientGithubOwner:Ue,clientGithubToken:Fe}});await dn({variables:{id:Ge.id,input:{githubRepo:Ne,deploymentUrl:"https://github.com/".concat(Ue,"/").concat(Ne)}}}),l({title:"Repository Created",description:"Successfully created ".concat(Ue,"/").concat(Ne),status:"success",duration:5e3,isClosable:!0}),We(""),Ae("tommycp3"),Oe(""),qe(null),ke(),nn()}catch(en){l({title:"Repository Creation Failed",description:en instanceof Error?en.message:"Unknown error occurred",status:"error",duration:5e3,isClosable:!0})}finally{Le(!1)}}else l({title:"Missing Information",description:"Please fill in all required fields",status:"warning",duration:3e3,isClosable:!0})},isLoading:Je,loadingText:"Creating...",isDisabled:!Ne||!Ue||!Fe,children:"Create Repository"})]})]})]}),(0,ge.jsxs)(W.aF,{isOpen:Ve,onClose:()=>Ye(!1),size:"xl",children:[(0,ge.jsx)(N.m,{}),(0,ge.jsxs)(U.$,{bg:t,color:a,borderColor:r,borderWidth:"1px",children:[(0,ge.jsx)(M.r,{color:a,children:(0,ge.jsxs)(G.z,{children:[(0,ge.jsxs)(ne.E,{children:["\ud83d\ude80 Deploying to ",Be]}),_e&&(0,ge.jsx)(O.y,{size:"sm"})]})}),(0,ge.jsx)(R.s,{}),(0,ge.jsx)(I.c,{children:(0,ge.jsxs)(_.T,{spacing:4,align:"stretch",children:[(0,ge.jsxs)(u.F,{status:_e?"info":"success",children:[(0,ge.jsx)(j._,{}),(0,ge.jsx)(ne.E,{children:_e?"Deployment in progress... Please wait":"Deployment completed! Check the logs below for details."})]}),(0,ge.jsxs)(p.a,{children:[(0,ge.jsx)(ne.E,{fontWeight:"bold",mb:2,children:"\ud83d\udccb Deployment Logs:"}),(0,ge.jsxs)(p.a,{bg:"gray.900",color:"green.300",p:4,borderRadius:"md",fontFamily:"mono",fontSize:"sm",maxHeight:"400px",overflowY:"auto",border:"1px solid",borderColor:"gray.600",children:[Ze.length>0?Ze.map((e,n)=>(0,ge.jsx)(p.a,{mb:1,children:e},n)):(0,ge.jsx)(ne.E,{color:"gray.500",children:"No logs yet..."}),_e&&(0,ge.jsx)(p.a,{children:(0,ge.jsx)(ne.E,{color:"yellow.300",children:"\u23f3 Waiting for deployment to complete..."})})]})]}),!_e&&(0,ge.jsxs)(u.F,{status:"success",children:[(0,ge.jsx)(j._,{}),(0,ge.jsxs)(_.T,{align:"start",spacing:1,children:[(0,ge.jsx)(ne.E,{fontWeight:"bold",children:"Deployment Summary:"}),(0,ge.jsx)(ne.E,{fontSize:"sm",children:"\u2022 Module files have been copied to the target repository"}),(0,ge.jsx)(ne.E,{fontSize:"sm",children:"\u2022 Repository has been updated with the latest changes"}),(0,ge.jsx)(ne.E,{fontSize:"sm",children:"\u2022 You can now access the deployed module on the client site"})]})]})]})}),(0,ge.jsxs)($.j,{children:[(0,ge.jsx)(g.$,{variant:"ghost",mr:3,onClick:()=>{navigator.clipboard.writeText(Ze.join("\n")),l({title:"Logs copied to clipboard",status:"success",duration:2e3})},children:"\ud83d\udccb Copy Logs"}),(0,ge.jsx)(g.$,{colorScheme:"blue",onClick:()=>Ye(!1),isDisabled:_e,children:_e?"Please wait...":"Close"})]})]})]}),(0,ge.jsx)(xe.n,{})]})}}}]);
//# sourceMappingURL=1817.c2aba617.chunk.js.map