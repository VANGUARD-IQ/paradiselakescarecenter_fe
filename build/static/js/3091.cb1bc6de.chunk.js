"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[3091],{83091:(e,r,i)=>{i.r(r),i.d(r,{default:()=>oe});var n,s,o,l,t=i(89379),a=i(57528),c=i(65043),d=i(31881),h=i(10585),b=i(70459),x=i(73216),p=i(88787),g=i(34334),m=i(85871),j=i(33430),u=i(87139),C=i(22107),f=i(98662),w=i(42703),v=i(83169),y=i(24330),z=i(26201),N=i(91751),I=i(44093),k=i(98939),S=i(82459),_=i(73225),E=i(76668),D=i(43533),T=i(73212),$=i(35699),B=i(99032),A=i(96148),R=i(29904),F=i(10202),V=i(30502),W=i(47726),U=i(28846),P=i(39081),J=i(63295),M=i(52003),Z=i(66037),H=i(80810),q=i(12730),G=i(99973),O=i(42128),K=i(82497),L=i(1009),X=i(39985),Q=i(95214),Y=i(95314),ee=i(70579);const re=(0,b.J1)(n||(n=(0,a.A)(["\n  query GetClient($id: ID!) {\n    client(id: $id) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      createdAt\n      updatedAt\n    }\n  }\n"]))),ie=(0,b.J1)(s||(s=(0,a.A)(["\n  mutation UpdateClient($id: ID!, $input: UpdateClientInput!) {\n    updateClient(id: $id, input: $input) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n    }\n  }\n"]))),ne=(0,b.J1)(o||(o=(0,a.A)(["\n  query GetWebsitesByClient($clientId: ID!) {\n    websitesByClient(clientId: $clientId) {\n      id\n      name\n      domain\n      websiteUrl\n      clientId\n      createdAt\n      updatedAt\n    }\n  }\n"]))),se=(0,b.J1)(l||(l=(0,a.A)(["\n  query GetProductsByClient($clientId: ID!) {\n    productsByClient(clientId: $clientId) {\n      id\n      name\n      description\n      price\n      status\n      createdAt\n    }\n  }\n"])));function oe(){var e,r;(0,Z.H)("Client Details");const{id:i}=(0,x.g)(),n=(0,V.d)(),s=(0,x.Zp)(),{colorMode:o}=(0,I.G6)(),[l,a]=c.useState(!1),[b,oe]=c.useState({fName:"",lName:"",email:"",phoneNumber:""}),le=(0,X.oU)("background.main",o),te=(0,X.oU)("background.cardGradient",o),ae=(0,X.oU)("border.darkCard",o),ce=(0,X.oU)("light"===o?"text.primary":"text.primaryDark",o),de=(0,X.oU)("light"===o?"text.secondary":"text.secondaryDark",o),he=(0,X.oU)("light"===o?"text.muted":"text.mutedDark",o),be="light"===o?"#007AFF":"#3B82F6",xe="light"===o?"#0051D0":"#2563EB",{loading:pe,error:ge,data:me}=(0,h.IT)(re,{variables:{id:i},onCompleted:e=>{oe({fName:e.client.fName||"",lName:e.client.lName||"",email:e.client.email||"",phoneNumber:e.client.phoneNumber||""})}}),{data:je,loading:ue}=(0,h.IT)(ne,{variables:{clientId:i}}),{data:Ce,loading:fe}=(0,h.IT)(se,{variables:{clientId:i},skip:!i}),[we,{loading:ve}]=(0,d.n)(ie,{onCompleted:()=>{n({title:"Success",description:"Client information updated successfully",status:"success",duration:5e3}),a(!1)},onError:e=>{n({title:"Error",description:e.message,status:"error",duration:5e3})}}),ye=e=>{e.preventDefault();const r={};b.fName&&b.fName.trim()&&(r.fName=b.fName.trim()),b.lName&&b.lName.trim()&&(r.lName=b.lName.trim()),b.email&&b.email.trim()&&(r.email=b.email.trim()),b.phoneNumber&&b.phoneNumber.trim()&&(r.phoneNumber=b.phoneNumber.trim()),we({variables:{id:i,input:r}})},ze=e=>{oe((0,t.A)((0,t.A)({},b),{},{[e.target.name]:e.target.value}))};if(pe)return(0,ee.jsxs)(C.a,{bg:le,minHeight:"100vh",children:[(0,ee.jsx)(M.m,{}),(0,ee.jsx)(k.m,{maxW:"6xl",py:12,children:(0,ee.jsx)(B.E,{height:"400px",borderRadius:"lg"})}),(0,ee.jsx)(J.n,{})]});if(ge||null===me||void 0===me||!me.client)return(0,ee.jsxs)(C.a,{bg:le,minHeight:"100vh",children:[(0,ee.jsx)(M.m,{}),(0,ee.jsx)(k.m,{maxW:"6xl",py:12,children:(0,ee.jsxs)(p.F,{status:"error",children:[(0,ee.jsx)(m._,{}),(0,ee.jsx)(j.X,{children:"Error!"}),(0,ee.jsx)(g.T,{children:(null===ge||void 0===ge?void 0:ge.message)||"Client not found"})]})}),(0,ee.jsx)(J.n,{})]});const Ne=me.client;return(0,ee.jsxs)(C.a,{bg:le,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,ee.jsx)(M.m,{}),(0,ee.jsx)(Q.y,{moduleConfig:Y.default}),(0,ee.jsx)(k.m,{maxW:"100%",py:4,px:{base:4,md:8},flex:"1",children:(0,ee.jsxs)(F.T,{spacing:6,align:"stretch",children:[(0,ee.jsxs)(v.Z,{bg:te,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderRadius:"lg",border:"1px",borderColor:ae,children:[(0,ee.jsx)(z.a,{children:(0,ee.jsxs)(A.z,{justify:"space-between",children:[(0,ee.jsxs)(F.T,{align:"start",spacing:1,children:[(0,ee.jsx)(U.D,{size:"lg",color:ce,children:"Client Details"}),(0,ee.jsx)(P.E,{fontSize:"sm",color:he,children:"Manage client information and related services"})]}),l?(0,ee.jsxs)(A.z,{spacing:2,children:[(0,ee.jsx)(f.$,{onClick:()=>a(!1),variant:"ghost",color:ce,_hover:{bg:"light"===o?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},children:"Cancel"}),(0,ee.jsx)(f.$,{onClick:ye,isLoading:ve,bg:be,color:"white",_hover:{bg:xe},children:"Save Changes"})]}):(0,ee.jsx)(f.$,{onClick:()=>a(!0),leftIcon:(0,ee.jsx)(G.q,{}),variant:"outline",borderColor:ae,color:ce,_hover:{bg:"light"===o?"rgba(0, 122, 255, 0.05)":"rgba(59, 130, 246, 0.1)",borderColor:be},children:"Edit Client"})]})}),(0,ee.jsx)(y.b,{children:(0,ee.jsxs)(R.B,{spacing:6,children:[(0,ee.jsxs)(C.a,{children:[(0,ee.jsxs)(A.z,{mb:2,children:[(0,ee.jsx)(P.E,{fontSize:"sm",fontWeight:"semibold",color:de,children:"Client/Practitioner ID"}),(0,ee.jsx)(W.m,{label:"This unique ID identifies the client in the system. It also serves as their Practitioner ID when they provide services to other clients.",hasArrow:!0,placement:"top",children:(0,ee.jsx)(K.m,{boxSize:3,color:he})})]}),(0,ee.jsxs)(A.z,{spacing:2,p:3,bg:"light"===o?"rgba(0, 0, 0, 0.05)":"rgba(0, 0, 0, 0.2)",borderRadius:"md",cursor:"pointer",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),n({title:"ID Copied",description:"Client ID has been copied to clipboard",status:"success",duration:2e3})}catch(ge){n({title:"Error",description:"Failed to copy ID",status:"error",duration:3e3})}})(Ne.id),_hover:{bg:"light"===o?"rgba(0, 122, 255, 0.1)":"rgba(59, 130, 246, 0.1)"},transition:"all 0.2s",children:[(0,ee.jsx)(N.C,{fontSize:"sm",bg:"transparent",color:ce,wordBreak:"break-all",children:Ne.id}),(0,ee.jsx)(w.K,{"aria-label":"Copy ID",icon:(0,ee.jsx)(H.T,{}),size:"sm",variant:"ghost",color:he,_hover:{color:ce}})]})]}),(0,ee.jsx)(S.c,{borderColor:ae}),(0,ee.jsx)("form",{onSubmit:ye,children:(0,ee.jsxs)(D.x,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)"},gap:6,children:[(0,ee.jsxs)(_.MJ,{children:[(0,ee.jsx)(E.l,{color:de,fontSize:"sm",children:"First Name"}),(0,ee.jsx)($.p,{name:"fName",value:b.fName,onChange:ze,isReadOnly:!l,bg:l?"light"===o?"white":"rgba(255, 255, 255, 0.05)":"transparent",border:"1px",borderColor:ae,color:ce,_hover:{borderColor:l?be:ae},_focus:{borderColor:be,boxShadow:"0 0 0 1px ".concat(be)}})]}),(0,ee.jsxs)(_.MJ,{children:[(0,ee.jsx)(E.l,{color:de,fontSize:"sm",children:"Last Name"}),(0,ee.jsx)($.p,{name:"lName",value:b.lName,onChange:ze,isReadOnly:!l,bg:l?"light"===o?"white":"rgba(255, 255, 255, 0.05)":"transparent",border:"1px",borderColor:ae,color:ce,_hover:{borderColor:l?be:ae},_focus:{borderColor:be,boxShadow:"0 0 0 1px ".concat(be)}})]}),(0,ee.jsxs)(_.MJ,{children:[(0,ee.jsx)(E.l,{color:de,fontSize:"sm",children:"Email Address"}),(0,ee.jsx)($.p,{name:"email",type:"email",value:b.email,onChange:ze,isReadOnly:!l,bg:l?"light"===o?"white":"rgba(255, 255, 255, 0.05)":"transparent",border:"1px",borderColor:ae,color:ce,_hover:{borderColor:l?be:ae},_focus:{borderColor:be,boxShadow:"0 0 0 1px ".concat(be)}})]}),(0,ee.jsxs)(_.MJ,{children:[(0,ee.jsx)(E.l,{color:de,fontSize:"sm",children:"Phone Number"}),(0,ee.jsx)($.p,{name:"phoneNumber",value:b.phoneNumber,onChange:ze,isReadOnly:!l,bg:l?"light"===o?"white":"rgba(255, 255, 255, 0.05)":"transparent",border:"1px",borderColor:ae,color:ce,_hover:{borderColor:l?be:ae},_focus:{borderColor:be,boxShadow:"0 0 0 1px ".concat(be)}})]})]})})]})})]}),(0,ee.jsxs)(T.r,{columns:{base:1,md:2},spacing:6,children:[(0,ee.jsxs)(v.Z,{bg:te,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderRadius:"lg",border:"1px",borderColor:ae,children:[(0,ee.jsx)(z.a,{children:(0,ee.jsxs)(A.z,{justify:"space-between",children:[(0,ee.jsxs)(F.T,{align:"start",spacing:1,children:[(0,ee.jsxs)(A.z,{children:[(0,ee.jsx)(L.est,{color:ce}),(0,ee.jsx)(U.D,{size:"md",color:ce,children:"Products"})]}),(0,ee.jsx)(W.m,{label:"View and manage products created by this client for sale on the platform",hasArrow:!0,children:(0,ee.jsx)(P.E,{fontSize:"xs",color:he,cursor:"help",children:"Client's product catalog"})})]}),(0,ee.jsx)(f.$,{size:"sm",leftIcon:(0,ee.jsx)(q.R,{}),bg:be,color:"white",_hover:{bg:xe},onClick:()=>s("/products/new?clientId=".concat(i)),children:"New Product"})]})}),(0,ee.jsx)(y.b,{children:fe?(0,ee.jsxs)(F.T,{spacing:3,children:[(0,ee.jsx)(B.E,{height:"60px",width:"100%"}),(0,ee.jsx)(B.E,{height:"60px",width:"100%"})]}):(null===Ce||void 0===Ce||null===(e=Ce.productsByClient)||void 0===e?void 0:e.length)>0?(0,ee.jsxs)(F.T,{spacing:3,align:"stretch",children:[Ce.productsByClient.slice(0,3).map(e=>(0,ee.jsx)(C.a,{p:3,bg:"rgba(0, 0, 0, 0.2)",borderRadius:"md",cursor:"pointer",onClick:()=>s("/products/".concat(e.id)),_hover:{bg:"rgba(59, 130, 246, 0.1)"},transition:"all 0.2s",children:(0,ee.jsxs)(A.z,{justify:"space-between",children:[(0,ee.jsxs)(F.T,{align:"start",spacing:0,children:[(0,ee.jsx)(P.E,{fontSize:"sm",color:ce,fontWeight:"medium",children:e.name}),(0,ee.jsxs)(P.E,{fontSize:"xs",color:he,children:["$",e.price]})]}),(0,ee.jsx)(u.E,{colorScheme:"ACTIVE"===e.status?"green":"gray",children:e.status})]})},e.id)),Ce.productsByClient.length>3&&(0,ee.jsxs)(f.$,{size:"sm",variant:"ghost",color:de,onClick:()=>s("/products?clientId=".concat(i)),children:["View all ",Ce.productsByClient.length," products"]})]}):(0,ee.jsx)(P.E,{fontSize:"sm",color:he,children:"No products created yet"})})]}),(0,ee.jsxs)(v.Z,{bg:te,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderRadius:"lg",border:"1px",borderColor:ae,children:[(0,ee.jsx)(z.a,{children:(0,ee.jsxs)(A.z,{justify:"space-between",children:[(0,ee.jsxs)(F.T,{align:"start",spacing:1,children:[(0,ee.jsxs)(A.z,{children:[(0,ee.jsx)(L.VeH,{color:ce}),(0,ee.jsx)(U.D,{size:"md",color:ce,children:"Websites"})]}),(0,ee.jsx)(W.m,{label:"Manage websites owned by this client including domains and hosting",hasArrow:!0,children:(0,ee.jsx)(P.E,{fontSize:"xs",color:he,cursor:"help",children:"Client's web properties"})})]}),(0,ee.jsx)(f.$,{size:"sm",leftIcon:(0,ee.jsx)(q.R,{}),bg:be,color:"white",_hover:{bg:xe},onClick:()=>s("/websites/new?clientId=".concat(i)),children:"New Website"})]})}),(0,ee.jsx)(y.b,{children:ue?(0,ee.jsxs)(F.T,{spacing:3,children:[(0,ee.jsx)(B.E,{height:"60px",width:"100%"}),(0,ee.jsx)(B.E,{height:"60px",width:"100%"})]}):(null===je||void 0===je||null===(r=je.websitesByClient)||void 0===r?void 0:r.length)>0?(0,ee.jsxs)(F.T,{spacing:3,align:"stretch",children:[je.websitesByClient.slice(0,3).map(e=>(0,ee.jsx)(C.a,{p:3,bg:"rgba(0, 0, 0, 0.2)",borderRadius:"md",cursor:"pointer",onClick:()=>s("/websites/".concat(e.id)),_hover:{bg:"rgba(59, 130, 246, 0.1)"},transition:"all 0.2s",children:(0,ee.jsxs)(A.z,{justify:"space-between",children:[(0,ee.jsxs)(F.T,{align:"start",spacing:0,children:[(0,ee.jsx)(P.E,{fontSize:"sm",color:ce,fontWeight:"medium",children:e.name}),(0,ee.jsx)(P.E,{fontSize:"xs",color:he,children:e.domain||"No domain"})]}),(0,ee.jsx)(w.K,{"aria-label":"View website",icon:(0,ee.jsx)(O.p,{}),size:"sm",variant:"ghost",color:he,onClick:r=>{r.stopPropagation(),e.websiteUrl&&window.open(e.websiteUrl,"_blank")}})]})},e.id)),je.websitesByClient.length>3&&(0,ee.jsxs)(f.$,{size:"sm",variant:"ghost",color:de,onClick:()=>s("/websites?clientId=".concat(i)),children:["View all ",je.websitesByClient.length," websites"]})]}):(0,ee.jsx)(P.E,{fontSize:"sm",color:he,children:"No websites created yet"})})]})]}),(0,ee.jsxs)(T.r,{columns:{base:1,md:3},spacing:6,children:[(0,ee.jsx)(v.Z,{bg:te,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderRadius:"lg",border:"1px",borderColor:ae,children:(0,ee.jsx)(y.b,{children:(0,ee.jsxs)(F.T,{spacing:3,align:"stretch",children:[(0,ee.jsxs)(A.z,{children:[(0,ee.jsx)(L.z8N,{color:ce}),(0,ee.jsx)(P.E,{fontWeight:"medium",color:ce,children:"Bills & Invoices"})]}),(0,ee.jsx)(W.m,{label:"View all bills and invoices for this client",children:(0,ee.jsx)(f.$,{size:"sm",variant:"outline",borderColor:ae,color:de,_hover:{bg:"rgba(59, 130, 246, 0.1)",borderColor:be},onClick:()=>s("/bills?clientId=".concat(i)),children:"View Bills"})})]})})}),(0,ee.jsx)(v.Z,{bg:te,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderRadius:"lg",border:"1px",borderColor:ae,children:(0,ee.jsx)(y.b,{children:(0,ee.jsxs)(F.T,{spacing:3,align:"stretch",children:[(0,ee.jsxs)(A.z,{children:[(0,ee.jsx)(L.wIk,{color:ce}),(0,ee.jsx)(P.E,{fontWeight:"medium",color:ce,children:"Sessions"})]}),(0,ee.jsx)(W.m,{label:"View all sessions and appointments for this client",children:(0,ee.jsx)(f.$,{size:"sm",variant:"outline",borderColor:ae,color:de,_hover:{bg:"rgba(59, 130, 246, 0.1)",borderColor:be},onClick:()=>s("/sessions?clientId=".concat(i)),children:"View Sessions"})})]})})}),(0,ee.jsx)(v.Z,{bg:te,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderRadius:"lg",border:"1px",borderColor:ae,children:(0,ee.jsx)(y.b,{children:(0,ee.jsxs)(F.T,{spacing:3,align:"stretch",children:[(0,ee.jsxs)(A.z,{children:[(0,ee.jsx)(L.jH2,{color:ce}),(0,ee.jsx)(P.E,{fontWeight:"medium",color:ce,children:"Projects"})]}),(0,ee.jsx)(W.m,{label:"View all projects for this client",children:(0,ee.jsx)(f.$,{size:"sm",variant:"outline",borderColor:ae,color:de,_hover:{bg:"rgba(59, 130, 246, 0.1)",borderColor:be},onClick:()=>s("/projects?clientId=".concat(i)),children:"View Projects"})})]})})})]})]})}),(0,ee.jsx)(J.n,{})]})}}}]);
//# sourceMappingURL=3091.cb1bc6de.chunk.js.map