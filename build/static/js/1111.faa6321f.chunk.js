"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[1111],{1111:(e,i,o)=>{o.r(i),o.d(i,{default:()=>ce});var s,r,l,n=o(57528),t=o(65043),d=o(96870),c=o(87139),a=o(22107),h=o(98662),x=o(42703),j=o(83169),u=o(24330),p=o(68659),b=o(98939),g=o(73212),m=o(33572),y=o(59883),f=o(86236),v=o(53560),S=o(91872),k=o(67516),C=o(35929),I=o(56529),U=o(15071),V=o(11054),z=o(78460),F=o(25722),P=o(76659),w=o(96148),E=o(10202),A=o(94217),D=o(94085),T=o(53332),G=o(78149),_=o(14566),B=o(31411),H=o(10227),O=o(51794),R=o(3109),$=o(30502),W=o(28846),L=o(39081),M=o(1009),Z=o(73216),Y=o(31881),N=o(10585),Q=o(70459),J=o(52003),K=o(63295),q=o(95214),X=o(93128),ee=o(39985),ie=o(44093),oe=o(74204),se=o(66037),re=o(70579);const le=(0,Q.J1)(s||(s=(0,n.A)(["\n  query MyIPFSVideos {\n    myIPFSVideos {\n      id\n      title\n      description\n      ipfsHash\n      ipfsUrl\n      thumbnailUrl\n      source\n      fileSize\n      mimeType\n      tags\n      viewCount\n      isPublic\n      createdAt\n      updatedAt\n    }\n    myIPFSVideoCount\n    totalIPFSStorageUsed\n  }\n"]))),ne=(0,Q.J1)(r||(r=(0,n.A)(["\n  query PublicIPFSVideos($limit: Float!) {\n    publicIPFSVideos(limit: $limit) {\n      id\n      title\n      description\n      ipfsHash\n      ipfsUrl\n      thumbnailUrl\n      uploadedByName\n      viewCount\n      tags\n      createdAt\n    }\n  }\n"]))),te=(0,Q.J1)(l||(l=(0,n.A)(["\n  mutation DeleteIPFSVideo($id: String!) {\n    deleteIPFSVideo(id: $id)\n  }\n"]))),de=e=>{var i;let{video:o,isOwner:s,onView:r,onEdit:l,onDelete:n}=e;const{colorMode:t}=(0,ie.G6)(),d=(0,ee.oU)("light"===t?"background.card":"background.cardGradient",t),h=(0,ee.oU)("light"===t?"border.light":"border.darkCard",t),p=(0,ee.oU)("light"===t?"text.primary":"text.primaryDark",t),b=(0,ee.oU)("light"===t?"text.secondary":"text.secondaryDark",t),g=(0,$.d)();return(0,re.jsx)(j.Z,{bg:d,border:"1px solid",borderColor:h,cursor:"pointer",onClick:r,_hover:{shadow:"lg",borderColor:"blue.400"},children:(0,re.jsxs)(u.b,{children:[(0,re.jsxs)(a.a,{h:"200px",bg:"gray.800",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",mb:4,position:"relative",overflow:"hidden",children:[o.thumbnailUrl?(0,re.jsx)(m._,{src:o.thumbnailUrl,alt:o.title,objectFit:"cover",w:"full",h:"full",borderRadius:"md"}):o.ipfsUrl||o.ipfsHash?(0,re.jsxs)(a.a,{position:"relative",w:"full",h:"full",children:[(0,re.jsx)("video",{style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"0.375rem"},preload:"metadata",muted:!0,children:(0,re.jsx)("source",{src:"".concat(null!==(i=o.ipfsUrl)&&void 0!==i&&i.startsWith("http")?o.ipfsUrl:oe.O.getIPFSUrl(o.ipfsHash||o.ipfsUrl),"#t=0.1"),type:"video/mp4"})}),(0,re.jsx)(a.a,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bg:"blackAlpha.600",borderRadius:"full",p:3,children:(0,re.jsx)(M.aze,{size:24,color:"white"})})]}):(0,re.jsx)(M.pVQ,{size:48,color:"gray"}),(0,re.jsx)(c.E,{position:"absolute",top:2,left:2,colorScheme:"blackAlpha",variant:"solid",children:(0,re.jsxs)(w.z,{spacing:1,children:[(0,re.jsx)(M.Vap,{size:12}),(0,re.jsx)(L.E,{fontSize:"xs",children:o.viewCount})]})}),(0,re.jsx)(c.E,{position:"absolute",top:2,right:2,colorScheme:o.isPublic?"green":"gray",variant:"solid",children:o.isPublic?(0,re.jsx)(M.VeH,{size:12}):(0,re.jsx)(M.F5$,{size:12})})]}),(0,re.jsxs)(E.T,{align:"stretch",spacing:2,children:[(0,re.jsxs)(w.z,{justify:"space-between",align:"start",children:[(0,re.jsx)(L.E,{fontWeight:"bold",fontSize:"md",color:p,flex:"1",wordBreak:"break-word",children:o.title}),s&&(0,re.jsxs)(y.W,{children:[(0,re.jsx)(f.I,{as:x.K,icon:(0,re.jsx)(M.ZZB,{}),variant:"ghost",size:"sm",onClick:e=>e.stopPropagation()}),(0,re.jsxs)(S.c,{onClick:e=>e.stopPropagation(),children:[(0,re.jsx)(v.D,{icon:(0,re.jsx)(M.SG1,{}),onClick:l,children:"Edit"}),(0,re.jsx)(v.D,{icon:(0,re.jsx)(M.nxz,{}),onClick:()=>{return e=o.ipfsHash,navigator.clipboard.writeText(e),void g({title:"Copied to clipboard",status:"success",duration:2e3});var e},children:"Copy IPFS Hash"}),(0,re.jsx)(v.D,{icon:(0,re.jsx)(M.HaR,{}),as:"a",href:oe.O.getIPFSUrl(o.ipfsHash),target:"_blank",children:"Open in IPFS"}),(0,re.jsx)(v.D,{icon:(0,re.jsx)(M.IXo,{}),onClick:n,color:"red.500",children:"Delete"})]})]})]}),o.description&&(0,re.jsx)(L.E,{fontSize:"sm",color:b,noOfLines:2,children:o.description}),o.tags&&o.tags.length>0&&(0,re.jsxs)(w.z,{spacing:1,flexWrap:"wrap",children:[o.tags.slice(0,3).map(e=>(0,re.jsx)(c.E,{size:"sm",colorScheme:"blue",children:e},e)),o.tags.length>3&&(0,re.jsxs)(c.E,{size:"sm",children:["+",o.tags.length-3]})]}),(0,re.jsxs)(w.z,{justify:"space-between",fontSize:"xs",color:b,children:[(0,re.jsx)(L.E,{children:(e=>{if(!e)return"Unknown";return"".concat((e/1048576).toFixed(2)," MB")})(o.fileSize)}),(0,re.jsx)(L.E,{children:new Date(o.createdAt).toLocaleDateString()})]}),!s&&o.uploadedByName&&(0,re.jsxs)(L.E,{fontSize:"xs",color:b,children:["By ",o.uploadedByName]})]})]})})},ce=()=>{var e,i;(0,se.H)("Video Gallery");const o=(0,Z.Zp)(),s=(0,$.d)(),{colorMode:r}=(0,ie.G6)(),l=(0,ee.oU)("background.main",r),n=(0,ee.oU)("light"===r?"background.card":"background.cardGradient",r),c=(0,ee.oU)("light"===r?"border.light":"border.darkCard",r),x=(0,ee.oU)("light"===r?"text.primary":"text.primaryDark",r),m=((0,ee.oU)("light"===r?"text.secondary":"text.secondaryDark",r),(0,ee.oU)("light"===r?"text.muted":"text.mutedDark",r)),{isOpen:y,onOpen:f,onClose:v}=(0,d.j)(),[S,Q]=(0,t.useState)(null),{data:oe,loading:ce,refetch:ae}=(0,N.IT)(le),{data:he,loading:xe}=(0,N.IT)(ne,{variables:{limit:50}}),[je]=(0,Y.n)(te,{onCompleted:()=>{s({title:"Video deleted",status:"success",duration:3e3}),ae(),v()},onError:e=>{s({title:"Failed to delete video",description:e.message,status:"error",duration:5e3})}});return(0,re.jsxs)(a.a,{bg:l,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,re.jsx)(J.m,{}),(0,re.jsx)(q.y,{moduleConfig:X.default}),(0,re.jsx)(a.a,{flex:"1",children:(0,re.jsx)(b.m,{maxW:"7xl",py:8,children:(0,re.jsxs)(E.T,{spacing:6,align:"stretch",children:[(0,re.jsxs)(w.z,{justify:"space-between",children:[(0,re.jsxs)(E.T,{align:"start",spacing:1,children:[(0,re.jsx)(W.D,{size:"lg",color:x,children:"IPFS Video Gallery"}),(0,re.jsx)(L.E,{color:m,children:"Your decentralized video library"})]}),(0,re.jsxs)(w.z,{spacing:3,children:[(0,re.jsx)(h.$,{leftIcon:(0,re.jsx)(M.Qz2,{}),variant:"outline",onClick:()=>o("/youtubetoipfs/add-by-cid"),children:"Add by CID"}),(0,re.jsx)(h.$,{leftIcon:(0,re.jsx)(M.GGD,{}),colorScheme:"blue",onClick:()=>o("/youtubetoipfs/upload"),children:"Upload Video"})]})]}),oe&&(0,re.jsxs)(g.r,{columns:{base:1,md:3},spacing:4,children:[(0,re.jsx)(j.Z,{bg:n,border:"1px solid",borderColor:c,children:(0,re.jsx)(u.b,{children:(0,re.jsxs)(A.r,{children:[(0,re.jsx)(T.v,{color:m,children:"My Videos"}),(0,re.jsx)(G.k,{color:x,children:oe.myIPFSVideoCount}),(0,re.jsx)(D.h,{color:"gray.400",children:(0,re.jsxs)(w.z,{children:[(0,re.jsx)(M.pVQ,{}),(0,re.jsx)(L.E,{children:"Total uploads"})]})})]})})}),(0,re.jsx)(j.Z,{bg:n,border:"1px solid",borderColor:c,children:(0,re.jsx)(u.b,{children:(0,re.jsxs)(A.r,{children:[(0,re.jsx)(T.v,{color:m,children:"Storage Used"}),(0,re.jsx)(G.k,{color:x,children:(e=>{const i=e/1073741824;if(i>=1)return"".concat(i.toFixed(2)," GB");return"".concat((e/1048576).toFixed(2)," MB")})(oe.totalIPFSStorageUsed)}),(0,re.jsx)(D.h,{color:"gray.400",children:(0,re.jsxs)(w.z,{children:[(0,re.jsx)(M.nOB,{}),(0,re.jsx)(L.E,{children:"IPFS storage"})]})})]})})}),(0,re.jsx)(j.Z,{bg:n,border:"1px solid",borderColor:c,children:(0,re.jsx)(u.b,{children:(0,re.jsxs)(A.r,{children:[(0,re.jsx)(T.v,{color:m,children:"Total Views"}),(0,re.jsx)(G.k,{color:x,children:oe.myIPFSVideos.reduce((e,i)=>e+i.viewCount,0)}),(0,re.jsx)(D.h,{color:"gray.400",children:(0,re.jsxs)(w.z,{children:[(0,re.jsx)(M.Vap,{}),(0,re.jsx)(L.E,{children:"Across all videos"})]})})]})})})]}),(0,re.jsxs)(R.t,{colorScheme:"blue",children:[(0,re.jsxs)(B.w,{children:[(0,re.jsx)(_.o,{children:"My Videos"}),(0,re.jsx)(_.o,{children:"Public Gallery"})]}),(0,re.jsxs)(O.T,{children:[(0,re.jsx)(H.K,{children:ce?(0,re.jsx)(p.o,{py:10,children:(0,re.jsx)(P.y,{size:"xl"})}):(null===oe||void 0===oe||null===(e=oe.myIPFSVideos)||void 0===e?void 0:e.length)>0?(0,re.jsx)(g.r,{columns:{base:1,md:2,lg:3},spacing:6,children:oe.myIPFSVideos.map(e=>(0,re.jsx)(de,{video:e,isOwner:!0,onView:()=>o("/youtubetoipfs/video/".concat(e.id)),onEdit:()=>o("/youtubetoipfs/video/".concat(e.id,"/edit")),onDelete:()=>{Q(e),f()}},e.id))}):(0,re.jsx)(p.o,{py:10,children:(0,re.jsxs)(E.T,{spacing:4,children:[(0,re.jsx)(M.pVQ,{size:48,color:"gray"}),(0,re.jsx)(L.E,{color:m,children:"No videos uploaded yet"}),(0,re.jsx)(h.$,{leftIcon:(0,re.jsx)(M.GGD,{}),colorScheme:"blue",onClick:()=>o("/youtubetoipfs/upload"),children:"Upload Your First Video"})]})})}),(0,re.jsx)(H.K,{children:xe?(0,re.jsx)(p.o,{py:10,children:(0,re.jsx)(P.y,{size:"xl"})}):(null===he||void 0===he||null===(i=he.publicIPFSVideos)||void 0===i?void 0:i.length)>0?(0,re.jsx)(g.r,{columns:{base:1,md:2,lg:3},spacing:6,children:he.publicIPFSVideos.map(e=>(0,re.jsx)(de,{video:e,isOwner:!1,onView:()=>o("/youtubetoipfs/video/".concat(e.id))},e.id))}):(0,re.jsx)(p.o,{py:10,children:(0,re.jsxs)(E.T,{spacing:4,children:[(0,re.jsx)(M.VeH,{size:48,color:"gray"}),(0,re.jsx)(L.E,{color:m,children:"No public videos available"})]})})})]})]})]})})}),(0,re.jsxs)(z.aF,{isOpen:y,onClose:v,children:[(0,re.jsx)(V.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px)"}),(0,re.jsxs)(F.$,{bg:n,border:"1px solid",borderColor:c,children:[(0,re.jsx)(U.r,{color:x,children:"Delete Video"}),(0,re.jsx)(C.s,{color:x}),(0,re.jsx)(k.c,{children:(0,re.jsxs)(L.E,{color:x,children:['Are you sure you want to delete "',null===S||void 0===S?void 0:S.title,'"? This action cannot be undone.']})}),(0,re.jsxs)(I.j,{children:[(0,re.jsx)(h.$,{variant:"ghost",mr:3,onClick:v,color:x,children:"Cancel"}),(0,re.jsx)(h.$,{colorScheme:"red",onClick:()=>{S&&je({variables:{id:S.id}})},children:"Delete"})]})]})]}),(0,re.jsx)(K.n,{})]})}},74204:(e,i,o)=>{o.d(i,{O:()=>s});const s={PRIVATE_GATEWAY_URL:"https://scarlet-professional-perch-484.mypinata.cloud/ipfs",PUBLIC_GATEWAY_URL:"https://gateway.pinata.cloud/ipfs",getIPFSUrl:function(e){const i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?s.PRIVATE_GATEWAY_URL:s.PUBLIC_GATEWAY_URL;return"".concat(i,"/").concat(e)}}}}]);
//# sourceMappingURL=1111.faa6321f.chunk.js.map