"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[2191],{22191:(e,t,l)=>{l.r(t),l.d(t,{default:()=>H});var n,i,s,o,r,a,d=l(57528),c=l(65043),u=l(73216),m=l(10585),h=l(70459),b=l(96870),g=l(88787),y=l(85871),x=l(87139),p=l(22107),j=l(98662),f=l(68659),D=l(98939),v=l(99032),B=l(76659),I=l(96148),C=l(10202),S=l(30502),E=l(28846),w=l(39081),A=l(58797),P=l(37809),N=l(52003),Y=l(63295),R=l(66037),T=l(95214),k=l(192),F=l(29066),z=l(27682),W=l(22992),L=l(82892),U=l(39985),$=l(70579);const _=(0,h.J1)(n||(n=(0,d.A)(["\n  query GetBillById($id: ID!) {\n    bill(id: $id) {\n      id\n      isPaid\n      status\n      paymentMethod\n      currency\n      acceptCardPayment\n      acceptCryptoPayment\n      projectId\n      issuedBy\n      lineItems {\n        id\n        description\n        amount\n        createdAt\n        updatedAt\n      }\n      totalAmount\n      tenantId\n      createdAt\n      updatedAt\n    }\n  }\n"]))),O=(0,h.J1)(i||(i=(0,d.A)(["\n  query GetClientDetailsByBillId($billId: ID!) {\n    getClientDetailsByBillId(billId: $billId) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      businessName\n    }\n  }\n"]))),q=(0,h.J1)(s||(s=(0,d.A)(["\n  query GetBillIssuerDetails($billId: ID!) {\n    getBillIssuerDetails(billId: $billId) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      businessName\n      businessRegistrationNumber\n      paymentReceivingDetails {\n        acceptedMethods\n        bankAccount {\n          accountName\n          bsb\n          accountNumber\n          bankName\n          swiftCode\n        }\n        cryptoWallets {\n          walletAddress\n          network\n          memo\n        }\n        stripeConnect {\n          stripeAccountId\n          accountVerified\n          verifiedAt\n        }\n        paypalEmail\n        isVerified\n        cryptoDiscountPercentage\n      }\n    }\n  }\n"]))),M=(0,h.J1)(o||(o=(0,d.A)(["\n  query PublicGetBillById($id: ID!) {\n    publicBill(id: $id) {\n      id\n      isPaid\n      status\n      paymentMethod\n      currency\n      acceptCardPayment\n      acceptCryptoPayment\n      projectId\n      issuedBy\n      lineItems {\n        id\n        description\n        amount\n        createdAt\n        updatedAt\n      }\n      totalAmount\n      tenantId\n      createdAt\n      updatedAt\n    }\n  }\n"]))),K=(0,h.J1)(r||(r=(0,d.A)(["\n  query PublicGetClientDetailsByBillId($billId: ID!) {\n    publicGetClientDetailsByBillId(billId: $billId) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      businessName\n    }\n  }\n"]))),G=(0,h.J1)(a||(a=(0,d.A)(["\n  query PublicGetBillIssuerDetails($billId: ID!) {\n    publicGetBillIssuerDetails(billId: $billId) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      businessName\n      businessRegistrationNumber\n      paymentReceivingDetails {\n        acceptedMethods\n        bankAccount {\n          accountName\n          bsb\n          accountNumber\n          bankName\n          swiftCode\n        }\n        cryptoWallets {\n          walletAddress\n          network\n          memo\n        }\n        stripeConnect {\n          stripeAccountId\n          accountVerified\n          verifiedAt\n        }\n        paypalEmail\n        isVerified\n        cryptoDiscountPercentage\n      }\n    }\n  }\n"]))),H=()=>{(0,R.H)("Bill PDF Preview");const{id:e}=(0,u.g)(),t=(0,u.Zp)(),{user:l,isAuthenticated:n}=(0,F.A)(),i=(0,S.d)(),[s,o]=(0,c.useState)(null),[r,a]=(0,c.useState)(!0),[d,h]=(0,c.useState)(800),{isOpen:H,onOpen:V,onClose:J}=(0,b.j)(),Q=(0,U.oU)("background.main"),Z="rgba(255, 255, 255, 0.1)",X=U.Kk.colors.text.inverse||"#FFFFFF",ee=(U.Kk.colors.text.secondaryDark,U.Kk.colors.text.mutedDark||"#888888"),te=e=>e.substring(0,4),le=n?_:M,ne=n?O:K,ie=n?q:G;console.log("\ud83d\udd0d BillPDFPreview Debug:",{isAuthenticated:n,user:l,billId:e,usingPublicQuery:!n,queryName:n?"Authenticated queries":"Public queries"});const{loading:se,error:oe,data:re}=(0,m.IT)(le,{variables:{id:e},onCompleted:e=>{console.log("\u2705 Bill query completed:",{hasData:!!e,billData:(null===e||void 0===e?void 0:e.bill)||(null===e||void 0===e?void 0:e.publicBill),dataKeys:Object.keys(e||{})})},onError:e=>{console.error("\u274c Bill query error:",e)}}),{data:ae,loading:de}=(0,m.IT)(ne,{variables:{billId:e},onCompleted:e=>{console.log("\u2705 Client query completed:",e)},onError:e=>{console.error("\u274c Client query error:",e)}}),{data:ce,loading:ue}=(0,m.IT)(ie,{variables:{billId:e},onCompleted:e=>{console.log("\u2705 Issuer query completed:",e)},onError:e=>{console.error("\u274c Issuer query error:",e)}});(0,c.useEffect)(()=>((async()=>{const e=(null===re||void 0===re?void 0:re.bill)||(null===re||void 0===re?void 0:re.publicBill);if(e&&!se&&!de&&!ue)try{a(!0);const t=(0,$.jsx)(W.C,{bill:e,clientData:ae,issuerData:ce}),l=(0,z.x8)(t),n=await l.toBlob(),i=me(e);h(i);const s=URL.createObjectURL(n);o(s)}catch(oe){i({title:"Error generating PDF preview",description:oe instanceof Error?oe.message:"Unknown error occurred",status:"error",duration:5e3,isClosable:!0})}finally{a(!1)}})(),()=>{s&&URL.revokeObjectURL(s)}),[re,ae,ce,se,de,ue,i]);const me=e=>{var t,l;let n=200;n+=200;if(n+=60+45*((null===(t=e.lineItems)||void 0===t?void 0:t.length)||0),n+=100,null!==ce&&void 0!==ce&&null!==(l=ce.getBillIssuerDetails)&&void 0!==l&&l.paymentReceivingDetails){var i;const e=ce.getBillIssuerDetails.paymentReceivingDetails;e.bankAccount&&(n+=120),(null===(i=e.cryptoWallets)||void 0===i?void 0:i.length)>0&&(n+=80+60*e.cryptoWallets.length),(e.paypalEmail||e.stripeConnect)&&(n+=100),n+=80}return n+=100,n+=50,Math.max(n,600)};if(se||de||ue)return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(N.m,{}),(0,$.jsx)(T.y,{moduleConfig:k.default}),(0,$.jsx)(D.m,{maxW:"container.xl",py:8,children:(0,$.jsxs)(C.T,{spacing:6,children:[(0,$.jsx)(v.E,{height:"60px",width:"100%"}),(0,$.jsx)(v.E,{height:"200px",width:"100%"}),(0,$.jsx)(v.E,{height:"100%",width:"100%"})]})}),(0,$.jsx)(Y.n,{})]});if(oe)return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(N.m,{}),(0,$.jsx)(T.y,{moduleConfig:k.default}),(0,$.jsx)(D.m,{maxW:"container.xl",py:8,children:(0,$.jsxs)(g.F,{status:"error",children:[(0,$.jsx)(y._,{}),"Error loading bill: ",oe.message]})}),(0,$.jsx)(Y.n,{})]});const he=(null===re||void 0===re?void 0:re.bill)||(null===re||void 0===re?void 0:re.publicBill);return he?(0,$.jsxs)(p.a,{bg:Q,minHeight:"100vh",children:[(0,$.jsx)(N.m,{}),(0,$.jsx)(T.y,{moduleConfig:k.default}),(0,$.jsx)(D.m,{maxW:"container.xl",py:8,children:(0,$.jsx)(C.T,{spacing:6,align:"stretch",children:(0,$.jsxs)(p.a,{bg:"linear-gradient(135deg, rgba(20, 20, 20, 0.8) 0%, rgba(30, 30, 30, 0.6) 50%, rgba(20, 20, 20, 0.8) 100%)",backdropFilter:"blur(10px)",borderRadius:"lg",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderWidth:"1px",borderColor:Z,overflow:"hidden",children:[(0,$.jsx)(p.a,{p:6,borderBottom:"1px solid",borderColor:Z,children:(0,$.jsx)(C.T,{spacing:4,width:"100%",children:(0,$.jsxs)(I.z,{justify:"space-between",width:"100%",children:[(0,$.jsxs)(C.T,{align:"start",spacing:2,children:[(0,$.jsx)(E.D,{size:{base:"md",md:"lg"},color:X,children:"\ud83d\udcc4 Bill PDF Preview"}),(0,$.jsxs)(w.E,{color:ee,fontSize:{base:"sm",md:"md"},children:["Invoice ID: ",te(he.id)]})]}),(0,$.jsxs)(I.z,{spacing:{base:2,md:4},flexWrap:"wrap",children:[(0,$.jsx)(j.$,{size:{base:"sm",md:"md"},onClick:()=>{n?t("/bill/".concat(e)):V()},leftIcon:(0,$.jsx)(P.g,{}),bg:"rgba(255, 255, 255, 0.1)",color:X,borderWidth:"1px",borderColor:"rgba(255, 255, 255, 0.2)",_hover:{bg:"rgba(255, 255, 255, 0.15)",transform:"translateY(-2px)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},children:"Back to Details"}),(0,$.jsx)(j.$,{size:{base:"sm",md:"md"},onClick:async()=>{const e=(null===re||void 0===re?void 0:re.bill)||(null===re||void 0===re?void 0:re.publicBill);if(e)try{const t=(0,$.jsx)(W.C,{bill:e,clientData:ae,issuerData:ce}),l=await(0,z.x8)(t).toBlob(),n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download="Invoice_".concat(te(e.id),"_").concat((new Date).toISOString().split("T")[0],".pdf"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),i({title:"PDF downloaded successfully",status:"success",duration:3e3,isClosable:!0})}catch(oe){i({title:"Error downloading PDF",description:oe instanceof Error?oe.message:"Unknown error occurred",status:"error",duration:5e3,isClosable:!0})}},leftIcon:(0,$.jsx)(A.s,{}),bg:"white",color:"black",_hover:{bg:"gray.100",transform:"translateY(-2px)",boxShadow:"0 8px 30px rgba(54, 158, 255, 0.25)"},children:"Download PDF"}),(0,$.jsx)(x.E,{fontSize:{base:"md",md:"lg"},p:2,borderRadius:"md",bg:"SENT"===he.status?"rgba(54, 158, 255, 0.2)":"rgba(107, 114, 128, 0.2)",color:"SENT"===he.status?"#369EFF":"#6B7280",border:"1px solid",borderColor:"SENT"===he.status?"rgba(54, 158, 255, 0.3)":"rgba(107, 114, 128, 0.3)",children:he.status})]})]})})}),(0,$.jsx)(p.a,{p:6,children:(0,$.jsx)(p.a,{children:r?(0,$.jsx)(f.o,{h:"".concat(d,"px"),children:(0,$.jsxs)(C.T,{spacing:4,children:[(0,$.jsx)(B.y,{size:"xl",color:(0,U.oU)("primary"),thickness:"4px"}),(0,$.jsx)(w.E,{color:X,children:"Generating PDF preview..."})]})}):s?(0,$.jsx)(p.a,{border:"1px solid",borderColor:Z,borderRadius:"md",overflow:"hidden",bg:"rgba(255, 255, 255, 0.95)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",children:(0,$.jsx)("iframe",{src:s,width:"100%",height:"".concat(d,"px"),title:"Bill PDF Preview",style:{border:"none"}})}):(0,$.jsx)(f.o,{h:"".concat(d,"px"),children:(0,$.jsxs)(g.F,{status:"error",children:[(0,$.jsx)(y._,{}),"Failed to generate PDF preview"]})})})})]})})}),(0,$.jsx)(Y.n,{}),(0,$.jsx)(L.cf,{isOpen:H,onClose:J,onLoginSuccess:()=>{J(),t("/bill/".concat(e))}})]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(N.m,{}),(0,$.jsx)(T.y,{moduleConfig:k.default}),(0,$.jsx)(D.m,{maxW:"container.xl",py:8,children:(0,$.jsxs)(g.F,{status:"info",children:[(0,$.jsx)(y._,{}),"Bill not found"]})}),(0,$.jsx)(Y.n,{})]})}},22992:(e,t,l)=>{l.d(t,{C:()=>r});l(65043);var n=l(27682),i=l(39985),s=l(70579);const o=n.vv.create({page:{fontFamily:"Helvetica",fontSize:11,paddingTop:30,paddingLeft:60,paddingRight:60,paddingBottom:40,lineHeight:1.5,flexDirection:"column"},header:{flexDirection:"row",marginBottom:20,paddingBottom:20,borderBottomWidth:2,borderBottomColor:"#112233"},headerLeft:{flex:1},headerRight:{flex:1,textAlign:"right"},title:{fontSize:24,marginBottom:10,fontWeight:"bold",color:"#112233"},billInfo:{flexDirection:"row",marginBottom:20},billInfoLeft:{flex:1},billInfoRight:{flex:1},section:{marginBottom:15},sectionTitle:{fontSize:14,fontWeight:"bold",marginBottom:8,color:"#112233",borderBottomWidth:1,borderBottomColor:"#112233",paddingBottom:4},row:{flexDirection:"row",marginBottom:5},label:{fontSize:10,fontWeight:"bold",marginRight:10,color:"#666",width:100},value:{fontSize:10,flex:1},table:{marginTop:15,marginBottom:20},tableHeader:{flexDirection:"row",borderBottomWidth:2,borderBottomColor:"#112233",backgroundColor:"#f5f5f5",paddingTop:8,paddingBottom:8},tableRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#e0e0e0",paddingTop:8,paddingBottom:8},tableCol:{fontSize:10,paddingLeft:8,paddingRight:8},tableColHeader:{fontSize:11,fontWeight:"bold",paddingLeft:8,paddingRight:8,color:"#112233"},descriptionCol:{width:"50%"},dateCol:{width:"25%"},amountCol:{width:"25%",textAlign:"right"},totalSection:{flexDirection:"row",justifyContent:"flex-end",marginTop:15,paddingTop:15,borderTopWidth:2,borderTopColor:"#112233"},totalLabel:{fontSize:14,fontWeight:"bold",marginRight:20,color:"#112233"},totalAmount:{fontSize:14,fontWeight:"bold",color:"#112233",width:100,textAlign:"right"},paymentStatus:{marginTop:20,padding:10,backgroundColor:"#f9f9f9",borderRadius:4},paymentStatusText:{fontSize:12,fontWeight:"bold",textAlign:"center"},paymentPaid:{color:"#22c55e"},paymentUnpaid:{color:"#ef4444"},footer:{marginTop:40,paddingTop:20,borderTopWidth:1,borderTopColor:"#e0e0e0",textAlign:"center",fontSize:9,color:"#666"}}),r=e=>{var t,l,r;let{bill:a,clientData:d,issuerData:c}=e;console.log("[BillPDF] Bill data:",{id:null===a||void 0===a?void 0:a.id,acceptCardPayment:null===a||void 0===a?void 0:a.acceptCardPayment,acceptCryptoPayment:null===a||void 0===a?void 0:a.acceptCryptoPayment,status:null===a||void 0===a?void 0:a.status});const u=e=>{const t=e instanceof Object?e.$date:e;return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},m=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),h=()=>{var e;return a.totalAmount&&a.totalAmount>0?a.totalAmount:(null===(e=a.lineItems)||void 0===e?void 0:e.length)>0?a.lineItems.reduce((e,t)=>e+Number(t.amount),0):0};return(0,s.jsx)(n.yo,{children:(0,s.jsxs)(n.YW,{size:"A4",style:o.page,children:[(0,s.jsxs)(n.Ss,{style:o.header,children:[(0,s.jsxs)(n.Ss,{style:o.headerLeft,children:[(0,s.jsx)(n.EY,{style:o.title,children:"INVOICE"}),(0,s.jsxs)(n.EY,{children:["Invoice ID: ",(b=a.id,b.substring(0,4))]}),(0,s.jsxs)(n.EY,{children:["Status: ",a.status]})]}),(0,s.jsxs)(n.Ss,{style:o.headerRight,children:[(0,s.jsxs)(n.EY,{children:["Date: ",u(a.createdAt)]}),"SENT"===a.status&&(0,s.jsxs)(n.EY,{children:["Sent: ",u(a.updatedAt)]})]})]}),(0,s.jsxs)(n.Ss,{style:o.billInfo,children:[(0,s.jsx)(n.Ss,{style:o.billInfoLeft,children:(0,s.jsxs)(n.Ss,{style:o.section,children:[(0,s.jsx)(n.EY,{style:o.sectionTitle,children:"Bill From:"}),null!==c&&void 0!==c&&c.getBillIssuerDetails?(0,s.jsxs)(s.Fragment,{children:[(i.Kk.contact.businessName||c.getBillIssuerDetails.businessName)&&(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Business:"}),(0,s.jsx)(n.EY,{style:o.value,children:i.Kk.contact.businessName||c.getBillIssuerDetails.businessName})]}),(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Contact:"}),(0,s.jsx)(n.EY,{style:o.value,children:i.Kk.contact.contactName||"".concat(c.getBillIssuerDetails.fName," ").concat(c.getBillIssuerDetails.lName)})]}),(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Email:"}),(0,s.jsx)(n.EY,{style:o.value,children:i.Kk.contact.email||c.getBillIssuerDetails.email})]}),(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Phone:"}),(0,s.jsx)(n.EY,{style:o.value,children:i.Kk.contact.phone||c.getBillIssuerDetails.phoneNumber})]}),c.getBillIssuerDetails.businessRegistrationNumber&&(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"ABN/ACN:"}),(0,s.jsx)(n.EY,{style:o.value,children:c.getBillIssuerDetails.businessRegistrationNumber})]})]}):(0,s.jsx)(n.EY,{style:o.value,children:"Issuer information not available"})]})}),(0,s.jsx)(n.Ss,{style:o.billInfoRight,children:(0,s.jsxs)(n.Ss,{style:o.section,children:[(0,s.jsx)(n.EY,{style:o.sectionTitle,children:"Bill To:"}),null!==d&&void 0!==d&&d.getClientDetailsByBillId?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Name:"}),(0,s.jsxs)(n.EY,{style:o.value,children:[d.getClientDetailsByBillId.fName," ",d.getClientDetailsByBillId.lName]})]}),(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Email:"}),(0,s.jsx)(n.EY,{style:o.value,children:d.getClientDetailsByBillId.email})]}),d.getClientDetailsByBillId.phoneNumber&&(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Phone:"}),(0,s.jsx)(n.EY,{style:o.value,children:d.getClientDetailsByBillId.phoneNumber})]}),d.getClientDetailsByBillId.businessName&&(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Business:"}),(0,s.jsx)(n.EY,{style:o.value,children:d.getClientDetailsByBillId.businessName})]})]}):(0,s.jsx)(n.EY,{style:o.value,children:"Client information not available"})]})})]}),(0,s.jsxs)(n.Ss,{style:o.section,children:[(0,s.jsx)(n.EY,{style:o.sectionTitle,children:"Services & Items"}),(0,s.jsxs)(n.Ss,{style:o.table,children:[(0,s.jsxs)(n.Ss,{style:o.tableHeader,children:[(0,s.jsx)(n.EY,{style:[o.tableColHeader,o.descriptionCol],children:"Description"}),(0,s.jsx)(n.EY,{style:[o.tableColHeader,o.dateCol],children:"Date"}),(0,s.jsx)(n.EY,{style:[o.tableColHeader,o.amountCol],children:"Amount (AUD)"})]}),a.lineItems&&a.lineItems.map((e,t)=>(0,s.jsxs)(n.Ss,{style:o.tableRow,children:[(0,s.jsx)(n.EY,{style:[o.tableCol,o.descriptionCol],children:e.description}),(0,s.jsx)(n.EY,{style:[o.tableCol,o.dateCol],children:u(e.createdAt)}),(0,s.jsxs)(n.EY,{style:[o.tableCol,o.amountCol],children:["$",m(Number(e.amount))]})]},t))]})]}),(0,s.jsxs)(n.Ss,{style:o.totalSection,children:[(0,s.jsxs)(n.EY,{style:o.totalLabel,children:["Total Amount (",a.currency||"AUD","):"]}),(0,s.jsxs)(n.EY,{style:o.totalAmount,children:["$",(()=>{var e;if(a.totalAmount&&a.totalAmount>0)return m(a.totalAmount);if((null===(e=a.lineItems)||void 0===e?void 0:e.length)>0){const e=a.lineItems.reduce((e,t)=>e+Number(t.amount),0);return m(e)}return"0.00"})()," ",a.currency||"AUD"]})]}),(0,s.jsx)(n.Ss,{style:o.paymentStatus,children:(0,s.jsxs)(n.EY,{style:[o.paymentStatusText,a.isPaid?o.paymentPaid:o.paymentUnpaid],children:["Payment Status: ",a.isPaid?"PAID":"UNPAID"]})}),(null===c||void 0===c||null===(t=c.getBillIssuerDetails)||void 0===t?void 0:t.paymentReceivingDetails)&&(0,s.jsxs)(n.Ss,{style:[o.section,{marginBottom:30}],children:[(0,s.jsx)(n.EY,{style:o.sectionTitle,children:"Payment Information"}),c.getBillIssuerDetails.paymentReceivingDetails.bankAccount&&(0,s.jsxs)(n.Ss,{style:{marginBottom:10},children:[(0,s.jsx)(n.EY,{style:{fontSize:11,fontWeight:"bold",marginBottom:5},children:"Bank Transfer:"}),(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Account Name:"}),(0,s.jsx)(n.EY,{style:o.value,children:c.getBillIssuerDetails.paymentReceivingDetails.bankAccount.accountName})]}),(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"BSB:"}),(0,s.jsx)(n.EY,{style:o.value,children:c.getBillIssuerDetails.paymentReceivingDetails.bankAccount.bsb})]}),(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Account:"}),(0,s.jsx)(n.EY,{style:o.value,children:c.getBillIssuerDetails.paymentReceivingDetails.bankAccount.accountNumber})]})]}),(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Reference:"}),(0,s.jsxs)(n.EY,{style:o.value,children:["INV-",a.id.substring(0,4).toUpperCase()]})]}),((null===(l=c.getBillIssuerDetails.paymentReceivingDetails.acceptedMethods)||void 0===l?void 0:l.includes("STRIPE"))&&!1!==a.acceptCardPayment||(null===(r=c.getBillIssuerDetails.paymentReceivingDetails.acceptedMethods)||void 0===r?void 0:r.includes("CRYPTO"))&&!0===a.acceptCryptoPayment)&&(0,s.jsxs)(n.Ss,{style:{marginTop:10,marginBottom:15,padding:10,backgroundColor:"#f7f9fc",borderRadius:5,border:"1px solid #e0e0e0"},children:[(0,s.jsx)(n.EY,{style:{fontSize:11,fontWeight:"bold",marginBottom:8,color:"#333"},children:"Online Payment Options"}),((e,t)=>{const l="".concat("https://tommillerservices.com","/bill/").concat(a.id);return(0,s.jsxs)(n.Ss,{children:[(null===(e=c.getBillIssuerDetails.paymentReceivingDetails.acceptedMethods)||void 0===e?void 0:e.includes("STRIPE"))&&!1!==a.acceptCardPayment&&(0,s.jsx)(n.Ss,{style:{marginBottom:5},children:(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Credit/Debit Card:"}),(0,s.jsx)(n.N_,{src:l,style:{fontSize:10,color:"#007AFF",textDecoration:"underline",flex:1},children:"Pay with Visa, Mastercard, or Amex"})]})}),(null===(t=c.getBillIssuerDetails.paymentReceivingDetails.acceptedMethods)||void 0===t?void 0:t.includes("CRYPTO"))&&!0===a.acceptCryptoPayment&&(0,s.jsx)(n.Ss,{style:{marginBottom:5},children:(0,s.jsxs)(n.Ss,{style:o.row,children:[(0,s.jsx)(n.EY,{style:o.label,children:"Bitcoin (BTC):"}),(0,s.jsxs)(n.Ss,{style:{flex:1},children:[(0,s.jsxs)(n.N_,{src:l,style:{fontSize:10,color:"#007AFF",textDecoration:"underline"},children:["Pay with Bitcoin Silent Payments",c.getBillIssuerDetails.paymentReceivingDetails.cryptoDiscountPercentage&&" (".concat(c.getBillIssuerDetails.paymentReceivingDetails.cryptoDiscountPercentage,"% discount)")]}),c.getBillIssuerDetails.paymentReceivingDetails.cryptoDiscountPercentage&&(0,s.jsxs)(n.EY,{style:{fontSize:9,color:"#28a745",marginTop:2},children:["Save $",m(h()*c.getBillIssuerDetails.paymentReceivingDetails.cryptoDiscountPercentage/100)," ",a.currency||"AUD"]})]})]})}),(0,s.jsxs)(n.Ss,{style:{marginTop:8,padding:5,backgroundColor:"#e8f4f8",borderRadius:3},children:[(0,s.jsx)(n.EY,{style:{fontSize:9,color:"#666",marginBottom:3},children:"Payment Link:"}),(0,s.jsx)(n.N_,{src:l,style:{fontSize:9,color:"#007AFF",textDecoration:"underline"},children:l})]})]})})()]}),c.getBillIssuerDetails.paymentReceivingDetails.acceptedMethods&&(0,s.jsxs)(n.Ss,{style:[o.row,{marginTop:10,marginBottom:20}],children:[(0,s.jsx)(n.EY,{style:o.label,children:"All Methods:"}),(0,s.jsx)(n.EY,{style:o.value,children:c.getBillIssuerDetails.paymentReceivingDetails.acceptedMethods.filter(e=>"BANK_TRANSFER"===e||("STRIPE"===e?!1!==a.acceptCardPayment:"CRYPTO"!==e||!0===a.acceptCryptoPayment)).map(e=>{switch(e){case"BANK_TRANSFER":return"Bank Transfer";case"STRIPE":return"Credit Card";case"CRYPTO":return"Bitcoin";case"PAYPAL":return"PayPal";default:return e}}).join(", ")})]})]}),(0,s.jsx)(n.Ss,{style:o.footer,children:(0,s.jsxs)(n.EY,{style:{fontSize:10,color:"#666"},children:["Thank you for your business! \u2022 Generated on ",(new Date).toLocaleDateString()]})})]})});var b}}}]);
//# sourceMappingURL=2191.dd3809dd.chunk.js.map