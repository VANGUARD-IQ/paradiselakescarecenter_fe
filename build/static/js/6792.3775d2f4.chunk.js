"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[6792],{13241:(s,e,r)=>{r.d(e,{O:()=>i});var o=r(70579);const i=(0,r(14010).w)({displayName:"ViewOffIcon",path:(0,o.jsxs)("g",{fill:"currentColor",children:[(0,o.jsx)("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),(0,o.jsx)("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"})]})})},36792:(s,e,r)=>{r.r(e),r.d(e,{default:()=>G});var o,i=r(57528),c=r(65043),a=r(73216),n=r(86011),l=r(70459),t=r(88787),d=r(34334),x=r(85871),h=r(33430),b=r(87139),p=r(22107),u=r(98662),j=r(42703),m=r(83169),w=r(24330),g=r(44093),f=r(98939),A=r(82459),P=r(25011),y=r(7189),S=r(96148),C=r(10202),z=r(30502),k=r(28846),v=r(39081),E=r(80810),U=r(57712),F=r(55206),T=r(13241),_=r(42128),N=r(39985),D=r(82892),I=r(49539),K=r(29066),M=r(80454),O=r(66037),R=r(70579);const Z=(0,l.J1)(o||(o=(0,i.A)(["\n    query PublicPasswordAccess($input: PublicPasswordAccessInput!) {\n        publicPasswordAccess(input: $input) {\n            id\n            serviceName\n            loginUrl\n            dashboardUrl\n            username\n            email\n            password\n            twoFactorSecret\n            twoFactorBackupCodes\n            notes\n            expiresAt\n            issuedTo {\n                id\n                fName\n                lName\n            }\n        }\n    }\n"]))),G=()=>{(0,O.H)("Password Access");const{id:s}=(0,a.g)(),e=(0,z.d)(),{user:r}=(0,K.A)(),{colorMode:o}=(0,g.G6)(),i=!1,[l,G]=(0,c.useState)(!1),[L,$]=(0,c.useState)(!1),[B,H]=(0,c.useState)(!1),[X,V]=(0,c.useState)(!1),[q,J]=(0,c.useState)(null),[W,Y]=(0,c.useState)(""),Q=(0,N.oU)("background.main",o),ss=(0,N.oU)("background.cardGradient",o),es=(0,N.oU)("border.darkCard",o),rs=(0,N.oU)("light"===o?"text.primary":"text.primaryDark",o),os=(0,N.oU)("light"===o?"text.secondary":"text.secondaryDark",o),is=(0,N.oU)("light"===o?"text.muted":"text.mutedDark",o),cs=(0,N.oU)("primary",o),as=(0,N.oU)("primaryHover",o),ns=(0,N.oU)("successGreen",o),ls=(0,N.oU)("status.error",o),ts=(0,N.oU)("status.info",o),[ds,{data:xs,loading:hs,error:bs}]=(0,n._)(Z);(0,c.useEffect)(()=>{r||l||L||G(!0)},[i,r,l,L]);const ps=(s,r)=>{navigator.clipboard.writeText(s),e({title:"".concat(r," copied to clipboard"),status:"success",duration:2e3,isClosable:!0})},us=s=>!!s&&new Date(s)<new Date;return hs?(0,R.jsx)(p.a,{bg:Q,minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",children:(0,R.jsx)(v.E,{color:rs,children:"Loading..."})}):(0,R.jsx)(p.a,{bg:Q,minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",py:8,children:(0,R.jsxs)(f.m,{maxW:"container.md",children:[(0,R.jsx)(D.tX,{isOpen:l,onClose:()=>G(!1),onLoginSuccess:()=>{if(G(!1),!r||r.firstName&&r.lastName){if(r&&s&&s){const e={passwordId:s,mobileNumber:r.mobileNumber||"",verificationCode:"verified"};J(e),ds({variables:{input:e}})}}else Y(r.id||""),$(!0)}}),(0,R.jsx)(I.f,{isOpen:L,onClose:()=>$(!1),userId:W,onUpdateSuccess:()=>{$(!1),q&&ds({variables:{input:q}})}}),bs&&(0,R.jsxs)(t.F,{status:"error",borderRadius:"lg",bg:ls,color:"white",children:[(0,R.jsx)(x._,{}),(0,R.jsxs)(p.a,{children:[(0,R.jsx)(h.X,{children:"Access Denied"}),(0,R.jsx)(d.T,{children:bs.message})]})]}),(null===xs||void 0===xs?void 0:xs.publicPasswordAccess)&&(0,R.jsx)(m.Z,{bg:ss,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:es,borderRadius:"lg",children:(0,R.jsx)(w.b,{children:(0,R.jsxs)(C.T,{spacing:6,align:"stretch",children:[(0,R.jsxs)(p.a,{children:[(0,R.jsxs)(S.z,{justify:"space-between",mb:2,children:[(0,R.jsxs)(k.D,{size:"lg",color:rs,fontFamily:N.Kk.fonts.heading,children:[(0,R.jsx)(P.I,{as:U.X,mr:2}),xs.publicPasswordAccess.serviceName]}),xs.publicPasswordAccess.expiresAt&&(0,R.jsx)(b.E,{colorScheme:us(xs.publicPasswordAccess.expiresAt)?"red":"green",fontSize:"sm",px:3,py:1,children:us(xs.publicPasswordAccess.expiresAt)?"Expired":"Expires ".concat((0,M.GP)(new Date(xs.publicPasswordAccess.expiresAt),"MMM dd, yyyy"))})]}),(0,R.jsxs)(v.E,{color:is,fontSize:"sm",children:["Issued to: ",xs.publicPasswordAccess.issuedTo.name]})]}),(0,R.jsx)(A.c,{borderColor:es}),(0,R.jsxs)(C.T,{align:"stretch",spacing:3,children:[(0,R.jsxs)(p.a,{children:[(0,R.jsx)(v.E,{color:is,fontSize:"sm",mb:2,children:"Login URL"}),(0,R.jsxs)(S.z,{children:[(0,R.jsx)(y.N,{href:xs.publicPasswordAccess.loginUrl,isExternal:!0,color:ts,fontSize:"sm",children:xs.publicPasswordAccess.loginUrl}),(0,R.jsx)(j.K,{size:"sm",variant:"ghost","aria-label":"Open login page",icon:(0,R.jsx)(_.p,{}),onClick:()=>window.open(xs.publicPasswordAccess.loginUrl,"_blank")})]})]}),xs.publicPasswordAccess.dashboardUrl&&(0,R.jsxs)(p.a,{children:[(0,R.jsx)(v.E,{color:is,fontSize:"sm",mb:2,children:"Dashboard URL (after login)"}),(0,R.jsxs)(S.z,{children:[(0,R.jsx)(y.N,{href:xs.publicPasswordAccess.dashboardUrl,isExternal:!0,color:ns,fontSize:"sm",children:xs.publicPasswordAccess.dashboardUrl}),(0,R.jsx)(j.K,{size:"sm",variant:"ghost","aria-label":"Open dashboard",icon:(0,R.jsx)(_.p,{}),onClick:()=>window.open(xs.publicPasswordAccess.dashboardUrl,"_blank")})]})]})]}),(0,R.jsx)(A.c,{borderColor:es}),(0,R.jsxs)(C.T,{align:"stretch",spacing:4,children:[xs.publicPasswordAccess.email&&(0,R.jsxs)(p.a,{children:[(0,R.jsx)(v.E,{color:is,fontSize:"sm",mb:2,children:"Email"}),(0,R.jsxs)(S.z,{children:[(0,R.jsx)(v.E,{color:rs,fontFamily:"mono",children:xs.publicPasswordAccess.email}),(0,R.jsx)(j.K,{size:"sm",variant:"ghost","aria-label":"Copy email",icon:(0,R.jsx)(E.T,{}),onClick:()=>ps(xs.publicPasswordAccess.email,"Email")})]})]}),xs.publicPasswordAccess.username&&(0,R.jsxs)(p.a,{children:[(0,R.jsx)(v.E,{color:is,fontSize:"sm",mb:2,children:"Username"}),(0,R.jsxs)(S.z,{children:[(0,R.jsx)(v.E,{color:rs,fontFamily:"mono",children:xs.publicPasswordAccess.username}),(0,R.jsx)(j.K,{size:"sm",variant:"ghost","aria-label":"Copy username",icon:(0,R.jsx)(E.T,{}),onClick:()=>ps(xs.publicPasswordAccess.username,"Username")})]})]}),(0,R.jsxs)(p.a,{children:[(0,R.jsx)(v.E,{color:is,fontSize:"sm",mb:2,children:"Password"}),(0,R.jsxs)(S.z,{children:[(0,R.jsx)(v.E,{color:rs,fontFamily:"mono",fontSize:"lg",children:B?xs.publicPasswordAccess.password:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,R.jsx)(j.K,{size:"sm",variant:"ghost","aria-label":"Toggle password",icon:B?(0,R.jsx)(T.O,{}):(0,R.jsx)(F.t,{}),onClick:()=>H(!B)}),(0,R.jsx)(j.K,{size:"sm",variant:"ghost","aria-label":"Copy password",icon:(0,R.jsx)(E.T,{}),onClick:()=>ps(xs.publicPasswordAccess.password,"Password")})]})]}),xs.publicPasswordAccess.twoFactorSecret&&(0,R.jsxs)(p.a,{children:[(0,R.jsx)(v.E,{color:is,fontSize:"sm",mb:2,children:"2FA Secret Key"}),(0,R.jsxs)(S.z,{children:[(0,R.jsx)(v.E,{color:rs,fontFamily:"mono",children:X?xs.publicPasswordAccess.twoFactorSecret:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,R.jsx)(j.K,{size:"sm",variant:"ghost","aria-label":"Toggle 2FA",icon:X?(0,R.jsx)(T.O,{}):(0,R.jsx)(F.t,{}),onClick:()=>V(!X)}),(0,R.jsx)(j.K,{size:"sm",variant:"ghost","aria-label":"Copy 2FA",icon:(0,R.jsx)(E.T,{}),onClick:()=>ps(xs.publicPasswordAccess.twoFactorSecret,"2FA Secret")})]}),(0,R.jsx)(v.E,{color:is,fontSize:"xs",mt:1,children:"Add this to your authenticator app (Google Authenticator, Authy, etc.)"})]}),xs.publicPasswordAccess.twoFactorBackupCodes&&(0,R.jsxs)(p.a,{children:[(0,R.jsx)(v.E,{color:is,fontSize:"sm",mb:2,children:"Backup Codes"}),(0,R.jsx)(m.Z,{bg:"rgba(0, 0, 0, 0.2)",p:3,children:(0,R.jsx)(v.E,{color:rs,fontFamily:"mono",fontSize:"sm",whiteSpace:"pre",children:xs.publicPasswordAccess.twoFactorBackupCodes})}),(0,R.jsx)(v.E,{color:ls,fontSize:"xs",mt:1,children:"\u26a0\ufe0f Save these codes securely. Each can only be used once."})]}),xs.publicPasswordAccess.notes&&(0,R.jsxs)(p.a,{children:[(0,R.jsx)(v.E,{color:is,fontSize:"sm",mb:2,children:"Notes"}),(0,R.jsx)(m.Z,{bg:"rgba(0, 0, 0, 0.2)",p:3,children:(0,R.jsx)(v.E,{color:rs,whiteSpace:"pre-wrap",children:xs.publicPasswordAccess.notes})})]})]}),(0,R.jsx)(A.c,{borderColor:es}),(0,R.jsxs)(S.z,{justify:"center",spacing:4,children:[(0,R.jsx)(u.$,{bg:cs,color:"white",_hover:{bg:as},leftIcon:(0,R.jsx)(_.p,{}),onClick:()=>window.open(xs.publicPasswordAccess.loginUrl,"_blank"),children:"Go to Login Page"}),(0,R.jsx)(u.$,{variant:"outline",borderColor:cs,color:cs,onClick:()=>window.location.href="/passwords",children:"View All My Passwords"})]}),(0,R.jsxs)(t.F,{status:"warning",borderRadius:"md",bg:"rgba(251, 146, 60, 0.1)",borderColor:"orange.500",border:"1px",children:[(0,R.jsx)(x._,{color:"orange.500"}),(0,R.jsx)(v.E,{fontSize:"sm",color:rs,children:"This password information is sensitive. Do not share this page or leave it open on shared devices."})]})]})})}),!r&&!l&&!L&&(0,R.jsx)(m.Z,{bg:ss,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:es,borderRadius:"lg",children:(0,R.jsx)(w.b,{children:(0,R.jsxs)(C.T,{spacing:4,children:[(0,R.jsx)(P.I,{as:U.X,boxSize:12,color:cs}),(0,R.jsx)(k.D,{size:"md",color:rs,children:"Authentication Required"}),(0,R.jsx)(v.E,{color:os,textAlign:"center",children:"You need to verify your identity to access this password."}),(0,R.jsx)(u.$,{bg:cs,color:"white",_hover:{bg:as},onClick:()=>G(!0),children:"Verify with SMS"})]})})})]})})}}}]);
//# sourceMappingURL=6792.3775d2f4.chunk.js.map