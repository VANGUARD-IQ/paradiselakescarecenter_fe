"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[2374],{52374:(e,r,o)=>{o.r(r),o.d(r,{default:()=>Ne});var i=o(89379),l=o(57528),s=o(65043),n=o(44093),t=o(22107),a=o(96148),d=o(94217),c=o(53332),h=o(78149),x=o(30502),b=o(96870),g=o(98939),p=o(83169),u=o(26201),m=o(28846),j=o(98662),C=o(88787),v=o(85871),f=o(33430),y=o(34334),T=o(10202),w=o(45973),k=o(29244),S=o(35699),z=o(39081),E=o(58861),F=o(48239),D=o(87139),A=o(73212),I=o(24330),_=o(80511),N=o(3313),B=o(55395),$=o(83201),P=o(82595),U=o(67813),M=o(99032),L=o(47726),W=o(91751),J=o(42703),R=o(61724),q=o(68455),O=o(11054),Q=o(15071),G=o(67516),K=o(56529),V=o(78460),X=o(25722),H=o(35929),Z=o(73225),Y=o(76668),ee=o(70459),re=o(10585),oe=o(31881),ie=o(12733),le=o(37575),se=o(80810),ne=o(70579);const te=(0,o(14010).w)({displayName:"SmallCloseIcon",viewBox:"0 0 16 16",path:(0,ne.jsx)("path",{d:"M9.41 8l2.29-2.29c.19-.18.3-.43.3-.71a1.003 1.003 0 0 0-1.71-.71L8 6.59l-2.29-2.3a1.003 1.003 0 0 0-1.42 1.42L6.59 8 4.3 10.29c-.19.18-.3.43-.3.71a1.003 1.003 0 0 0 1.71.71L8 9.41l2.29 2.29c.18.19.43.3.71.3a1.003 1.003 0 0 0 .71-1.71L9.41 8z",fillRule:"evenodd",fill:"currentColor"})});var ae,de,ce,he,xe,be,ge,pe=o(12730),ue=o(99973),me=o(58584),je=o(73216),Ce=o(63295),ve=o(52003),fe=o(66037),ye=o(1009),Te=o(39985),we=o(95214),ke=o(95314);const Se=(0,ee.J1)(ae||(ae=(0,l.A)(["\n  query GetClients {\n    clients {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      permissions\n      tags\n    }\n  }\n"]))),ze=(0,ee.J1)(de||(de=(0,l.A)(['\n  query GetPermissionEnum {\n    __type(name: "ClientPermission") {\n      enumValues {\n        name\n        description\n      }\n    }\n  }\n']))),Ee=(0,ee.J1)(ce||(ce=(0,l.A)(["\n  mutation AddClientPermission($clientId: ID!, $permission: ClientPermission!) {\n    addClientPermission(clientId: $clientId, permission: $permission) {\n      id\n      permissions\n    }\n  }\n"]))),Fe=(0,ee.J1)(he||(he=(0,l.A)(["\n  mutation RemoveClientPermission($clientId: ID!, $permission: ClientPermission!) {\n    removeClientPermission(clientId: $clientId, permission: $permission) {\n      id\n      permissions\n    }\n  }\n"]))),De=(0,ee.J1)(xe||(xe=(0,l.A)(["\n  query GetAllClientTags {\n    allClientTags\n  }\n"]))),Ae=(0,ee.J1)(be||(be=(0,l.A)(["\n  mutation DeleteClient($id: ID!) {\n    deleteClient(id: $id)\n  }\n"]))),Ie=(0,ee.J1)(ge||(ge=(0,l.A)(["\n  mutation UpdateClient($id: ID!, $input: UpdateClientInput!) {\n    updateClient(id: $id, input: $input) {\n      id\n      tags\n    }\n  }\n"]))),_e=e=>{let{title:r,stat:o,icon:i,color:l}=e;const{colorMode:s}=(0,n.G6)(),x=(0,Te.oU)("background.cardGradient",s),b=(0,Te.oU)("border.darkCard",s),g=(0,Te.oU)("light"===s?"text.primary":"text.primaryDark",s),p=(0,Te.oU)("light"===s?"text.secondary":"text.secondaryDark",s);return(0,ne.jsx)(t.a,{p:6,bg:x,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderRadius:"lg",border:"1px",borderColor:b,children:(0,ne.jsxs)(a.z,{spacing:4,children:[(0,ne.jsx)(t.a,{color:l,children:i}),(0,ne.jsxs)(d.r,{children:[(0,ne.jsx)(c.v,{color:p,children:r}),(0,ne.jsx)(h.k,{fontSize:"2xl",fontWeight:"bold",color:g,children:o})]})]})})},Ne=()=>{var e,r,o;(0,fe.H)("Clients");const l=(0,je.Zp)(),{colorMode:d}=(0,n.G6)(),{loading:c,error:h,data:ee,refetch:ae}=(0,re.IT)(Se),{data:de}=(0,re.IT)(De),{data:ce}=(0,re.IT)(ze),he=(0,x.d)(),[xe,{loading:be}]=(0,oe.n)(Ae),[ge]=(0,oe.n)(Ie),[Ne]=(0,oe.n)(Ee),[Be]=(0,oe.n)(Fe),{isOpen:$e,onOpen:Pe,onClose:Ue}=(0,b.j)(),{isOpen:Me,onOpen:Le,onClose:We}=(0,b.j)(),Je=s.useRef(null),[Re,qe]=s.useState(null),[Oe,Qe]=s.useState(null),[Ge,Ke]=s.useState(""),[Ve,Xe]=s.useState([]),[He,Ze]=s.useState(""),[Ye,er]=s.useState([]),[rr,or]=s.useState({}),ir=(0,Te.oU)("background.main",d),lr=(0,Te.oU)("background.cardGradient",d),sr=(0,Te.oU)("border.darkCard",d),nr=(0,Te.oU)("light"===d?"text.primary":"text.primaryDark",d),tr=(0,Te.oU)("light"===d?"text.secondary":"text.secondaryDark",d),ar=(0,Te.oU)("light"===d?"text.muted":"text.mutedDark",d),dr=(null===ce||void 0===ce||null===(e=ce.__type)||void 0===e||null===(r=e.enumValues)||void 0===r?void 0:r.map(e=>e.name))||[],cr=s.useMemo(()=>{if(null===ee||void 0===ee||!ee.clients)return[];let e=[...ee.clients];if(Ge){const r=Ge.toLowerCase();e=e.filter(e=>{var o,i,l,s;return(null===(o=e.fName)||void 0===o?void 0:o.toLowerCase().includes(r))||(null===(i=e.lName)||void 0===i?void 0:i.toLowerCase().includes(r))||(null===(l=e.email)||void 0===l?void 0:l.toLowerCase().includes(r))||(null===(s=e.phoneNumber)||void 0===s?void 0:s.toLowerCase().includes(r))})}return Ve.length>0&&(e=e.filter(e=>e.tags&&Ve.some(r=>{var o;return null===(o=e.tags)||void 0===o?void 0:o.includes(r)}))),e},[null===ee||void 0===ee?void 0:ee.clients,Ge,Ve]),hr=()=>{He&&!Ye.includes(He)&&(er([...Ye,He]),Ze(""))};return h&&he({title:"Error loading clients",description:h.message,status:"error",duration:5e3,isClosable:!0}),(0,ne.jsxs)(t.a,{bg:ir,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,ne.jsx)(ve.m,{}),(0,ne.jsx)(we.y,{moduleConfig:ke.default}),(0,ne.jsx)(g.m,{maxW:"100%",px:{base:4,md:8},py:4,flex:"1",children:(0,ne.jsxs)(p.Z,{bg:lr,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:sr,children:[(0,ne.jsx)(u.a,{borderBottom:"1px",borderColor:sr,children:(0,ne.jsxs)(a.z,{justify:"space-between",children:[(0,ne.jsx)(m.D,{size:"lg",color:nr,children:"\ud83d\udc65 Clients"}),(0,ne.jsx)(j.$,{bg:"light"===d?"#007AFF":"white",color:"light"===d?"white":"black",_hover:{bg:"light"===d?"#0051D0":"gray.100",transform:"translateY(-2px)"},onClick:()=>l("/newclient"),boxShadow:"light"===d?"0 2px 4px rgba(0, 122, 255, 0.2)":"0 2px 4px rgba(255, 255, 255, 0.1)",children:"New Client"})]})}),(0,ne.jsxs)(t.a,{px:6,pb:4,children:[(0,ne.jsxs)(C.F,{status:"info",mb:4,bg:"light"===d?"rgba(0, 122, 255, 0.05)":"rgba(59, 130, 246, 0.1)",borderColor:"light"===d?"rgba(0, 122, 255, 0.2)":"rgba(59, 130, 246, 0.3)",borderWidth:"1px",children:[(0,ne.jsx)(v._,{color:"light"===d?"#007AFF":"#3B82F6"}),(0,ne.jsxs)(t.a,{children:[(0,ne.jsx)(f.X,{color:nr,children:"Practitioner ID Information"}),(0,ne.jsx)(y.T,{color:tr,children:"Each client has a unique ID that serves as their Practitioner ID. When booking appointments with other clients, this same ID is referred to as the Practitioner ID. Click any ID below to copy it for lookup or booking purposes."})]})]}),(0,ne.jsxs)(T.T,{spacing:4,mb:6,children:[(0,ne.jsxs)(w.M,{size:"lg",children:[(0,ne.jsx)(k.W,{pointerEvents:"none",children:(0,ne.jsx)(ie.W,{color:ar})}),(0,ne.jsx)(S.p,{placeholder:"Search clients by name, email or phone...",value:Ge,onChange:e=>Ke(e.target.value),bg:"light"===d?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:sr,color:nr,_placeholder:{color:ar},_focus:{borderColor:"light"===d?"#007AFF":"#3B82F6",boxShadow:"light"===d?"0 0 0 1px #007AFF":"0 0 0 1px #3B82F6"}})]}),(null===de||void 0===de?void 0:de.allClientTags)&&de.allClientTags.length>0&&(0,ne.jsxs)(t.a,{width:"100%",children:[(0,ne.jsxs)(a.z,{justify:"space-between",mb:2,children:[(0,ne.jsx)(z.E,{fontSize:"sm",color:tr,children:"Filter by Tags:"}),(Ve.length>0||Ge)&&(0,ne.jsx)(j.$,{size:"xs",variant:"ghost",onClick:()=>{Ke(""),Xe([])},color:tr,leftIcon:(0,ne.jsx)(le.U,{}),children:"Clear Filters"})]}),(0,ne.jsx)(E.B,{spacing:2,children:de.allClientTags.map(e=>(0,ne.jsx)(E.Q,{children:(0,ne.jsx)(F.vw,{size:"md",variant:Ve.includes(e)?"solid":"outline",colorScheme:Ve.includes(e)?"blue":"gray",cursor:"pointer",onClick:()=>(e=>{Xe(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])})(e),borderColor:Ve.includes(e)?"#3B82F6":sr,_hover:{transform:"scale(1.05)",boxShadow:"0 0 0 1px #3B82F6"},children:(0,ne.jsx)(F.d1,{children:e})})},e))})]}),(Ge||Ve.length>0)&&(0,ne.jsxs)(a.z,{width:"100%",justify:"space-between",p:3,bg:"light"===d?"rgba(0, 122, 255, 0.05)":"rgba(59, 130, 246, 0.1)",borderRadius:"md",children:[(0,ne.jsxs)(z.E,{fontSize:"sm",color:nr,children:["Showing ",cr.length," of ",(null===ee||void 0===ee||null===(o=ee.clients)||void 0===o?void 0:o.length)||0," clients"]}),Ve.length>0&&(0,ne.jsxs)(D.E,{colorScheme:"blue",fontSize:"xs",children:[Ve.length," tag",1!==Ve.length?"s":""," selected"]})]})]}),(0,ne.jsxs)(A.r,{columns:{base:1,md:2,lg:4},spacing:6,children:[(0,ne.jsx)(_e,{title:"Total Clients",stat:cr.length,icon:(0,ne.jsx)(ye.cfS,{size:"3em"}),color:"#3B82F6"}),(0,ne.jsx)(_e,{title:"Active Clients",stat:cr.filter(e=>e.email).length,icon:(0,ne.jsx)(ye.p45,{size:"3em"}),color:"#22C55E"}),(0,ne.jsx)(_e,{title:"New This Month",stat:(xr=cr,xr?Math.floor(.2*xr.length):0),icon:(0,ne.jsx)(ye.vq3,{size:"3em"}),color:"#A855F7"}),(0,ne.jsx)(_e,{title:"With Phone Numbers",stat:cr.filter(e=>e.phoneNumber).length,icon:(0,ne.jsx)(ye.QFc,{size:"3em"}),color:"#FB923C"})]})]}),(0,ne.jsx)(I.b,{children:(0,ne.jsx)(t.a,{overflowX:"auto",children:(0,ne.jsxs)(_.X,{variant:"simple",children:[(0,ne.jsx)(N.d,{children:(0,ne.jsxs)(B.Tr,{children:[(0,ne.jsx)($.Th,{color:tr,borderColor:sr,children:"Client/Practitioner ID"}),(0,ne.jsx)($.Th,{color:tr,borderColor:sr,children:"Name"}),(0,ne.jsx)($.Th,{color:tr,borderColor:sr,children:"Email"}),(0,ne.jsx)($.Th,{color:tr,borderColor:sr,children:"Phone"}),(0,ne.jsx)($.Th,{color:tr,borderColor:sr,children:"Permissions"}),(0,ne.jsx)($.Th,{color:tr,borderColor:sr,children:"Tags"}),(0,ne.jsx)($.Th,{color:tr,borderColor:sr,children:"Actions"})]})}),(0,ne.jsx)(P.N,{children:c?[...Array(3)].map((e,r)=>(0,ne.jsxs)(B.Tr,{children:[(0,ne.jsx)(U.Td,{children:(0,ne.jsx)(M.E,{height:"20px"})}),(0,ne.jsx)(U.Td,{children:(0,ne.jsx)(M.E,{height:"20px"})}),(0,ne.jsx)(U.Td,{children:(0,ne.jsx)(M.E,{height:"20px"})}),(0,ne.jsx)(U.Td,{children:(0,ne.jsx)(M.E,{height:"20px"})}),(0,ne.jsx)(U.Td,{children:(0,ne.jsx)(M.E,{height:"20px"})}),(0,ne.jsx)(U.Td,{children:(0,ne.jsx)(M.E,{height:"20px"})}),(0,ne.jsx)(U.Td,{children:(0,ne.jsx)(M.E,{height:"20px"})})]},"skeleton-".concat(r))):cr.length?cr.map(e=>(0,ne.jsxs)(B.Tr,{children:[(0,ne.jsx)(U.Td,{borderColor:sr,children:(0,ne.jsx)(L.m,{label:"Click to copy ID",hasArrow:!0,children:(0,ne.jsxs)(a.z,{spacing:2,cursor:"pointer",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e),he({title:"ID Copied",description:"Client ID has been copied to clipboard",status:"success",duration:2e3,isClosable:!0})}catch(h){he({title:"Error",description:"Failed to copy ID to clipboard",status:"error",duration:3e3,isClosable:!0})}})(e.id),_hover:{bg:"rgba(255, 255, 255, 0.05)"},p:1,borderRadius:"md",children:[(0,ne.jsx)(W.C,{fontSize:"xs",wordBreak:"break-all",bg:"light"===d?"rgba(0, 122, 255, 0.1)":"rgba(59, 130, 246, 0.2)",color:"light"===d?"#007AFF":"#3B82F6",border:"1px solid",borderColor:"light"===d?"rgba(0, 122, 255, 0.2)":"rgba(59, 130, 246, 0.3)",children:e.id}),(0,ne.jsx)(se.T,{boxSize:3,color:ar})]})})}),(0,ne.jsx)(U.Td,{borderColor:sr,children:(0,ne.jsx)(z.E,{fontWeight:"medium",color:nr,cursor:"pointer",_hover:{color:"#3B82F6",textDecoration:"underline"},onClick:()=>window.open("/client/".concat(e.id),"_blank"),children:"".concat(e.fName," ").concat(e.lName)})}),(0,ne.jsx)(U.Td,{borderColor:sr,children:(0,ne.jsx)(z.E,{fontSize:"sm",color:tr,children:e.email})}),(0,ne.jsx)(U.Td,{borderColor:sr,children:(0,ne.jsx)(z.E,{fontSize:"sm",color:tr,children:e.phoneNumber})}),(0,ne.jsx)(U.Td,{borderColor:sr,children:(0,ne.jsxs)(T.T,{align:"start",spacing:2,children:[(0,ne.jsx)(E.B,{spacing:1,children:e.permissions&&e.permissions.length>0?e.permissions.map(r=>(0,ne.jsx)(E.Q,{children:(0,ne.jsxs)(D.E,{size:"sm",colorScheme:"purple",variant:"subtle",fontSize:"xs",pr:1,children:[r,(0,ne.jsx)(J.K,{"aria-label":"Remove permission",icon:(0,ne.jsx)(te,{}),size:"xs",variant:"ghost",ml:1,minW:"auto",h:"auto",color:"purple.500",_hover:{color:"red.500"},onClick:()=>(async(e,r)=>{try{await Be({variables:{clientId:e,permission:r}}),he({title:"Permission removed",description:"Successfully removed ".concat(r," permission"),status:"success",duration:3e3,isClosable:!0}),ae()}catch(h){he({title:"Error removing permission",description:h.message,status:"error",duration:4e3,isClosable:!0})}})(e.id,r)})]})},r)):(0,ne.jsx)(z.E,{fontSize:"xs",color:ar,children:"No permissions"})}),(0,ne.jsxs)(a.z,{spacing:2,children:[(0,ne.jsx)(R.l,{size:"xs",placeholder:"Add permission...",value:rr[e.id]||"",onChange:r=>or((0,i.A)((0,i.A)({},rr),{},{[e.id]:r.target.value})),bg:"rgba(147, 51, 234, 0.1)",borderColor:"rgba(147, 51, 234, 0.3)",color:nr,_hover:{borderColor:"rgba(147, 51, 234, 0.5)"},fontSize:"xs",maxW:"150px",children:dr.filter(r=>{var o;return!(null!==(o=e.permissions)&&void 0!==o&&o.includes(r))}).map(e=>(0,ne.jsx)("option",{value:e,children:e},e))}),rr[e.id]&&(0,ne.jsx)(J.K,{"aria-label":"Add permission",icon:(0,ne.jsx)(pe.R,{}),size:"xs",colorScheme:"purple",onClick:()=>(async e=>{const r=rr[e];if(r)try{await Ne({variables:{clientId:e,permission:r}}),he({title:"Permission added",description:"Successfully added ".concat(r," permission"),status:"success",duration:3e3,isClosable:!0}),ae(),or((0,i.A)((0,i.A)({},rr),{},{[e]:""}))}catch(h){he({title:"Error adding permission",description:h.message,status:"error",duration:4e3,isClosable:!0})}else he({title:"No permission selected",description:"Please select a permission to add",status:"warning",duration:3e3,isClosable:!0})})(e.id)})]})]})}),(0,ne.jsx)(U.Td,{borderColor:sr,children:(0,ne.jsxs)(a.z,{spacing:2,children:[(0,ne.jsx)(E.B,{spacing:1,flex:"1",children:e.tags&&e.tags.length>0?e.tags.map(e=>(0,ne.jsx)(E.Q,{children:(0,ne.jsx)(F.vw,{size:"sm",variant:"subtle",colorScheme:"blue",children:(0,ne.jsx)(F.d1,{children:e})})},e)):(0,ne.jsx)(z.E,{fontSize:"sm",color:ar,children:"No tags"})}),(0,ne.jsx)(J.K,{"aria-label":"Manage tags",icon:(0,ne.jsx)(ue.q,{}),size:"sm",variant:"ghost",colorScheme:"blue",onClick:()=>(e=>{Qe(e),er(e.tags||[]),Le()})(e),_hover:{bg:"rgba(59, 130, 246, 0.2)"}})]})}),(0,ne.jsx)(U.Td,{borderColor:sr,children:(0,ne.jsxs)(a.z,{spacing:2,children:[(0,ne.jsx)(L.m,{label:"Create Opportunity",hasArrow:!0,children:(0,ne.jsx)(J.K,{"aria-label":"Create opportunity",icon:(0,ne.jsx)(ye.z8N,{}),size:"sm",bg:"rgba(34, 197, 94, 0.2)",color:"#22C55E",border:"1px solid",borderColor:"rgba(34, 197, 94, 0.3)",_hover:{bg:"rgba(34, 197, 94, 0.3)"},onClick:()=>l("/opportunities/new?clientId=".concat(e.id))})}),(0,ne.jsx)(L.m,{label:"Delete Client",hasArrow:!0,children:(0,ne.jsx)(J.K,{"aria-label":"Delete client",icon:(0,ne.jsx)(me.d,{}),size:"sm",bg:"rgba(239, 68, 68, 0.2)",color:"#EF4444",border:"1px solid",borderColor:"rgba(239, 68, 68, 0.3)",_hover:{bg:"rgba(239, 68, 68, 0.3)"},onClick:()=>(e=>{qe(e),Pe()})(e)})})]})})]},e.id)):(0,ne.jsx)(B.Tr,{children:(0,ne.jsx)(U.Td,{colSpan:7,textAlign:"center",py:8,borderColor:sr,children:(0,ne.jsx)(z.E,{color:ar,children:"No clients found"})})})})]})})})]})}),(0,ne.jsx)(Ce.n,{}),(0,ne.jsx)(q.Lt,{isOpen:$e,leastDestructiveRef:Je,onClose:Ue,children:(0,ne.jsx)(O.m,{bg:"rgba(0, 0, 0, 0.8)",children:(0,ne.jsxs)(q.EO,{bg:lr,backdropFilter:"blur(10px)",border:"1px",borderColor:sr,children:[(0,ne.jsx)(Q.r,{fontSize:"lg",fontWeight:"bold",color:nr,borderBottom:"1px",borderColor:sr,children:"Delete Client"}),(0,ne.jsxs)(G.c,{color:tr,children:["Are you sure you want to delete ",null===Re||void 0===Re?void 0:Re.fName," ",null===Re||void 0===Re?void 0:Re.lName,"? This action cannot be undone."]}),(0,ne.jsxs)(K.j,{borderTop:"1px",borderColor:sr,children:[(0,ne.jsx)(j.$,{ref:Je,onClick:Ue,variant:"ghost",color:nr,_hover:{bg:"rgba(255, 255, 255, 0.05)"},children:"Cancel"}),(0,ne.jsx)(j.$,{bg:"#EF4444",color:"white",_hover:{bg:"#DC2626"},onClick:async()=>{if(Re)try{var e;if(null===(e=(await xe({variables:{id:Re.id},update(e){const r=e.readQuery({query:Se});r&&e.writeQuery({query:Se,data:{clients:r.clients.filter(e=>e.id!==Re.id)}})}})).data)||void 0===e||!e.deleteClient)throw new Error("Failed to delete client");he({title:"Client deleted",description:"".concat(Re.fName," ").concat(Re.lName," has been successfully removed."),status:"success",duration:5e3,isClosable:!0}),Ue(),qe(null)}catch(h){he({title:"Error",description:h instanceof Error?h.message:"Failed to delete client",status:"error",duration:5e3,isClosable:!0})}},ml:3,isLoading:be,children:"Delete"})]})]})})}),(0,ne.jsxs)(V.aF,{isOpen:Me,onClose:We,size:"lg",children:[(0,ne.jsx)(O.m,{bg:"rgba(0, 0, 0, 0.8)"}),(0,ne.jsxs)(X.$,{bg:lr,backdropFilter:"blur(10px)",border:"1px",borderColor:sr,children:[(0,ne.jsxs)(Q.r,{color:nr,borderBottom:"1px",borderColor:sr,children:["Manage Tags for ",null===Oe||void 0===Oe?void 0:Oe.fName," ",null===Oe||void 0===Oe?void 0:Oe.lName]}),(0,ne.jsx)(H.s,{color:nr}),(0,ne.jsx)(G.c,{py:4,children:(0,ne.jsxs)(T.T,{spacing:4,align:"stretch",children:[(0,ne.jsxs)(Z.MJ,{children:[(0,ne.jsx)(Y.l,{color:tr,children:"Current Tags"}),(0,ne.jsx)(E.B,{spacing:2,children:Ye.length>0?Ye.map(e=>(0,ne.jsx)(E.Q,{children:(0,ne.jsxs)(F.vw,{size:"md",variant:"solid",colorScheme:"blue",children:[(0,ne.jsx)(F.d1,{children:e}),(0,ne.jsx)(F.TV,{onClick:()=>(e=>{er(Ye.filter(r=>r!==e))})(e)})]})},e)):(0,ne.jsx)(z.E,{color:ar,children:"No tags added yet"})})]}),(0,ne.jsxs)(Z.MJ,{children:[(0,ne.jsx)(Y.l,{color:tr,children:"Add New Tag"}),(0,ne.jsxs)(a.z,{children:[(0,ne.jsx)(S.p,{placeholder:"Enter tag name",value:He,onChange:e=>Ze(e.target.value),onKeyDown:e=>{"Enter"===e.key&&hr()},bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:sr,color:nr,_hover:{borderColor:"rgba(59, 130, 246, 0.5)"},_focus:{borderColor:"#3B82F6",boxShadow:"0 0 0 1px #3B82F6"}}),(0,ne.jsx)(j.$,{colorScheme:"blue",onClick:hr,bg:"#3B82F6",_hover:{bg:"#2563EB"},children:"Add"})]})]}),(null===de||void 0===de?void 0:de.allClientTags)&&de.allClientTags.length>0&&(0,ne.jsxs)(Z.MJ,{children:[(0,ne.jsx)(Y.l,{color:tr,children:"Existing Tags"}),(0,ne.jsx)(E.B,{spacing:2,children:de.allClientTags.filter(e=>!Ye.includes(e)).map(e=>(0,ne.jsx)(E.Q,{children:(0,ne.jsx)(F.vw,{size:"sm",variant:"outline",colorScheme:"gray",cursor:"pointer",onClick:()=>er([...Ye,e]),_hover:{bg:"rgba(59, 130, 246, 0.1)"},children:(0,ne.jsx)(F.d1,{children:e})})},e))})]})]})}),(0,ne.jsxs)(K.j,{borderTop:"1px",borderColor:sr,children:[(0,ne.jsx)(j.$,{variant:"ghost",mr:3,onClick:We,color:nr,_hover:{bg:"rgba(255, 255, 255, 0.05)"},children:"Cancel"}),(0,ne.jsx)(j.$,{colorScheme:"blue",onClick:async()=>{if(Oe)try{await ge({variables:{id:Oe.id,input:{tags:Ye}}}),he({title:"Tags updated",description:"Client tags have been successfully updated.",status:"success",duration:3e3,isClosable:!0}),ae(),We(),Qe(null)}catch(h){he({title:"Error",description:"Failed to update client tags",status:"error",duration:3e3,isClosable:!0})}},bg:"#3B82F6",_hover:{bg:"#2563EB"},children:"Save Tags"})]})]})]})]});var xr}}}]);
//# sourceMappingURL=2374.acbda359.chunk.js.map