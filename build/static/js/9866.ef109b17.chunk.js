"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[9866],{19866:(e,s,r)=>{r.r(s),r.d(s,{default:()=>ae});var i,n,l,o=r(89379),a=r(57528),t=r(65043),d=r(96870),c=r(87139),x=r(22107),h=r(98662),u=r(42703),j=r(83169),p=r(24330),m=r(44093),g=r(98939),y=r(5371),b=r(73225),v=r(76668),f=r(35699),A=r(67516),T=r(35929),C=r(56529),F=r(15071),q=r(11054),E=r(78460),k=r(25722),w=r(44860),D=r(61724),I=r(76659),z=r(96148),S=r(10202),_=r(80511),M=r(18965),U=r(82595),J=r(67813),$=r(83201),O=r(3313),R=r(55395),H=r(19077),K=r(30502),L=r(39081),W=r(12730),B=r(58584),G=r(37809),N=r(73216),V=r(31881),P=r(10585),Q=r(70459),X=r(39985),Z=r(52003),Y=r(63295),ee=r(95214),se=r(66037),re=r(41737),ie=r(70579);const ne=(0,Q.J1)(i||(i=(0,a.A)(["\n  query GetAssetTypes {\n    assetTypes {\n      id\n      name\n      description\n      category\n      icon\n      requiredFields\n      maintenanceIntervalDays\n      isActive\n    }\n  }\n"]))),le=(0,Q.J1)(n||(n=(0,a.A)(["\n  mutation CreateAssetType($input: AssetTypeInput!) {\n    createAssetType(input: $input) {\n      id\n      name\n      category\n      icon\n    }\n  }\n"]))),oe=(0,Q.J1)(l||(l=(0,a.A)(["\n  mutation DeleteAssetType($id: ID!) {\n    deleteAssetType(id: $id)\n  }\n"]))),ae=()=>{var e,s;(0,se.H)("Asset Types");const r=(0,N.Zp)(),i=(0,K.d)(),{isOpen:n,onOpen:l,onClose:a}=(0,d.j)(),{colorMode:Q}=(0,m.G6)(),ae=(0,X.oU)("background.main",Q),te=(0,X.oU)("background.cardGradient",Q),de=(0,X.oU)("border.darkCard",Q),ce=(0,X.oU)("light"===Q?"text.primary":"text.primaryDark",Q),xe=(0,X.oU)("light"===Q?"text.secondary":"text.secondaryDark",Q),he=(0,X.oU)("light"===Q?"text.muted":"text.mutedDark",Q),ue=(0,X.oU)("primary",Q),je=(0,X.oU)("primaryHover",Q),pe=((0,X.oU)("successGreen",Q),(0,X.oU)("status.error",Q)),[me,ge]=(0,t.useState)({name:"",description:"",category:"",icon:"",requiredFields:[],maintenanceIntervalDays:0}),[ye,be]=(0,t.useState)(""),{loading:ve,error:fe,data:Ae,refetch:Te}=(0,P.IT)(ne),[Ce,{loading:Fe}]=(0,V.n)(le,{onCompleted:()=>{i({title:"Asset type created",description:"The asset type has been created successfully.",status:"success",duration:3e3,isClosable:!0}),a(),Ee(),Te()},onError:e=>{i({title:"Error creating asset type",description:e.message,status:"error",duration:5e3,isClosable:!0})}}),[qe]=(0,V.n)(oe,{onCompleted:()=>{i({title:"Asset type deleted",description:"The asset type has been deleted successfully.",status:"success",duration:3e3,isClosable:!0}),Te()},onError:e=>{i({title:"Error deleting asset type",description:e.message,status:"error",duration:5e3,isClosable:!0})}}),Ee=()=>{ge({name:"",description:"",category:"",icon:"",requiredFields:[],maintenanceIntervalDays:0}),be("")},ke=()=>{ye&&!me.requiredFields.includes(ye)&&(ge(e=>(0,o.A)((0,o.A)({},e),{},{requiredFields:[...e.requiredFields,ye]})),be(""))};return ve?(0,ie.jsxs)(x.a,{bg:ae,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,ie.jsx)(Z.m,{}),(0,ie.jsx)(ee.y,{moduleConfig:re.default}),(0,ie.jsx)(g.m,{maxW:"container.xl",px:{base:4,md:8},py:{base:6,md:8},flex:"1",children:(0,ie.jsxs)(S.T,{spacing:6,children:[(0,ie.jsx)(I.y,{size:"xl",color:ue}),(0,ie.jsx)(L.E,{color:ce,children:"Loading asset types..."})]})}),(0,ie.jsx)(Y.n,{})]}):fe?(0,ie.jsxs)(x.a,{bg:ae,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,ie.jsx)(Z.m,{}),(0,ie.jsx)(ee.y,{moduleConfig:re.default}),(0,ie.jsx)(g.m,{maxW:"container.xl",px:{base:4,md:8},py:{base:6,md:8},flex:"1",children:(0,ie.jsxs)(L.E,{color:pe,children:["Error loading asset types: ",fe.message]})}),(0,ie.jsx)(Y.n,{})]}):(0,ie.jsxs)(x.a,{bg:ae,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,ie.jsx)(Z.m,{}),(0,ie.jsx)(ee.y,{moduleConfig:re.default}),(0,ie.jsx)(g.m,{maxW:"container.xl",px:{base:4,md:8},py:{base:6,md:8},flex:"1",children:(0,ie.jsxs)(S.T,{spacing:6,align:"stretch",children:[(0,ie.jsxs)(y.s,{justify:"space-between",align:"center",direction:{base:"column",md:"row"},gap:4,children:[(0,ie.jsxs)(z.z,{spacing:4,align:"start",w:{base:"100%",md:"auto"},children:[(0,ie.jsx)(u.K,{icon:(0,ie.jsx)(G.g,{}),"aria-label":"Back",variant:"ghost",color:ce,_hover:{bg:te},onClick:()=>r("/assets")}),(0,ie.jsxs)(x.a,{children:[(0,ie.jsx)(L.E,{fontSize:{base:"xl",md:"2xl"},fontWeight:"bold",color:ce,children:"Asset Types"}),(0,ie.jsx)(L.E,{color:he,children:"Configure asset categories and types"})]})]}),(0,ie.jsx)(h.$,{bg:ue,color:"white",_hover:{bg:je},leftIcon:(0,ie.jsx)(W.R,{}),onClick:l,size:{base:"sm",md:"md"},width:{base:"100%",md:"auto"},children:"Add Asset Type"})]}),(0,ie.jsx)(j.Z,{bg:te,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:de,borderRadius:"lg",children:(0,ie.jsxs)(p.b,{children:[(0,ie.jsx)(x.a,{overflowX:"auto",children:(0,ie.jsx)(M.K,{children:(0,ie.jsxs)(_.X,{variant:"simple",size:{base:"sm",md:"md"},children:[(0,ie.jsx)(O.d,{children:(0,ie.jsxs)(R.Tr,{children:[(0,ie.jsx)($.Th,{color:xe,children:"Type"}),(0,ie.jsx)($.Th,{color:xe,children:"Category"}),(0,ie.jsx)($.Th,{color:xe,children:"Description"}),(0,ie.jsx)($.Th,{color:xe,children:"Maintenance Interval"}),(0,ie.jsx)($.Th,{color:xe,children:"Required Fields"}),(0,ie.jsx)($.Th,{color:xe,children:"Status"}),(0,ie.jsx)($.Th,{color:xe,children:"Actions"})]})}),(0,ie.jsx)(U.N,{children:null===Ae||void 0===Ae||null===(e=Ae.assetTypes)||void 0===e?void 0:e.map(e=>{var s;return(0,ie.jsxs)(R.Tr,{children:[(0,ie.jsx)(J.Td,{children:(0,ie.jsxs)(z.z,{children:[(0,ie.jsx)(L.E,{fontSize:"lg",children:e.icon}),(0,ie.jsx)(L.E,{fontWeight:"medium",color:ce,children:e.name})]})}),(0,ie.jsx)(J.Td,{color:ce,children:e.category}),(0,ie.jsx)(J.Td,{children:(0,ie.jsx)(L.E,{fontSize:"sm",noOfLines:2,color:ce,children:e.description||"-"})}),(0,ie.jsx)(J.Td,{color:ce,children:e.maintenanceIntervalDays?"".concat(e.maintenanceIntervalDays," days"):"-"}),(0,ie.jsx)(J.Td,{children:(null===(s=e.requiredFields)||void 0===s?void 0:s.length)>0?(0,ie.jsxs)(L.E,{fontSize:"sm",color:ce,children:[e.requiredFields.length," fields"]}):(0,ie.jsx)(L.E,{color:ce,children:'"-"'})}),(0,ie.jsx)(J.Td,{children:(0,ie.jsx)(c.E,{colorScheme:e.isActive?"green":"gray",children:e.isActive?"Active":"Inactive"})}),(0,ie.jsx)(J.Td,{children:(0,ie.jsx)(u.K,{icon:(0,ie.jsx)(B.d,{}),"aria-label":"Delete",size:"sm",variant:"ghost",color:pe,_hover:{bg:"red.50"},onClick:()=>(async(e,s)=>{window.confirm('Are you sure you want to delete the asset type "'.concat(s,'"?'))&&await qe({variables:{id:e}})})(e.id,e.name)})})]},e.id)})})]})})}),0===(null===Ae||void 0===Ae||null===(s=Ae.assetTypes)||void 0===s?void 0:s.length)&&(0,ie.jsxs)(S.T,{py:8,children:[(0,ie.jsx)(L.E,{color:xe,children:"No asset types configured"}),(0,ie.jsx)(h.$,{bg:ue,color:"white",_hover:{bg:je},leftIcon:(0,ie.jsx)(W.R,{}),onClick:l,size:{base:"sm",md:"md"},width:{base:"100%",md:"auto"},children:"Add First Type"})]})]})})]})}),(0,ie.jsx)(Y.n,{}),(0,ie.jsxs)(E.aF,{isOpen:n,onClose:a,size:"xl",children:[(0,ie.jsx)(q.m,{}),(0,ie.jsxs)(k.$,{bg:te,backdropFilter:"blur(10px)",border:"1px",borderColor:de,children:[(0,ie.jsx)(F.r,{color:ce,children:"Add Asset Type"}),(0,ie.jsx)(T.s,{}),(0,ie.jsx)(A.c,{children:(0,ie.jsxs)(S.T,{spacing:4,children:[(0,ie.jsxs)(b.MJ,{isRequired:!0,children:[(0,ie.jsx)(v.l,{children:"Name"}),(0,ie.jsx)(f.p,{value:me.name,onChange:e=>ge((0,o.A)((0,o.A)({},me),{},{name:e.target.value})),placeholder:"e.g., IVAC Pump, Hospital Bed, Laptop",bg:"light"===Q?"white":"rgba(255, 255, 255, 0.05)",borderColor:"light"===Q?"gray.200":de,color:ce,_placeholder:{color:he},_focus:{borderColor:"light"===Q?"#007AFF":"#3B82F6",boxShadow:"light"===Q?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"}})]}),(0,ie.jsxs)(b.MJ,{children:[(0,ie.jsx)(v.l,{children:"Description"}),(0,ie.jsx)(H.T,{value:me.description,onChange:e=>ge((0,o.A)((0,o.A)({},me),{},{description:e.target.value})),placeholder:"Brief description of this asset type",rows:2})]}),(0,ie.jsxs)(z.z,{spacing:4,w:"full",children:[(0,ie.jsxs)(b.MJ,{children:[(0,ie.jsx)(v.l,{children:"Category"}),(0,ie.jsx)(D.l,{value:me.category,onChange:e=>ge((0,o.A)((0,o.A)({},me),{},{category:e.target.value})),placeholder:"Select category",children:Object.keys({"Medical Equipment":"\ud83c\udfe5","IT Equipment":"\ud83d\udcbb",Furniture:"\ud83e\ude91",Vehicles:"\ud83d\ude97",Tools:"\ud83d\udd27",Electronics:"\ud83d\udcf1","Office Supplies":"\ud83d\udcce","Safety Equipment":"\ud83e\uddba"}).map(e=>(0,ie.jsx)("option",{value:e,children:e},e))})]}),(0,ie.jsxs)(b.MJ,{children:[(0,ie.jsx)(v.l,{children:"Icon"}),(0,ie.jsx)(f.p,{value:me.icon,onChange:e=>ge((0,o.A)((0,o.A)({},me),{},{icon:e.target.value})),placeholder:"Emoji icon",maxLength:2})]})]}),(0,ie.jsxs)(b.MJ,{children:[(0,ie.jsx)(v.l,{children:"Maintenance Interval (Days)"}),(0,ie.jsxs)(w.Q7,{value:me.maintenanceIntervalDays,onChange:e=>ge((0,o.A)((0,o.A)({},me),{},{maintenanceIntervalDays:Number(e)})),min:0,children:[(0,ie.jsx)(w.OO,{}),(0,ie.jsxs)(w.lw,{children:[(0,ie.jsx)(w.Q0,{}),(0,ie.jsx)(w.Sh,{})]})]})]}),(0,ie.jsxs)(b.MJ,{children:[(0,ie.jsx)(v.l,{children:"Required Fields"}),(0,ie.jsxs)(z.z,{children:[(0,ie.jsx)(f.p,{value:ye,onChange:e=>be(e.target.value),placeholder:"Add required field",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),ke())}),(0,ie.jsx)(u.K,{icon:(0,ie.jsx)(W.R,{}),"aria-label":"Add field",onClick:ke})]}),me.requiredFields.length>0&&(0,ie.jsx)(S.T,{align:"start",mt:2,children:me.requiredFields.map(e=>(0,ie.jsxs)(z.z,{children:[(0,ie.jsxs)(L.E,{fontSize:"sm",children:["\u2022 ",e]}),(0,ie.jsx)(u.K,{icon:(0,ie.jsx)(B.d,{}),"aria-label":"Remove",size:"xs",variant:"ghost",onClick:()=>(e=>{ge(s=>(0,o.A)((0,o.A)({},s),{},{requiredFields:s.requiredFields.filter(s=>s!==e)}))})(e)})]},e))})]})]})}),(0,ie.jsxs)(C.j,{children:[(0,ie.jsx)(h.$,{variant:"outline",mr:3,onClick:a,borderColor:de,color:ce,_hover:{bg:te},children:"Cancel"}),(0,ie.jsx)(h.$,{bg:ue,color:"white",_hover:{bg:je},onClick:async()=>{if(!me.name.trim())return void i({title:"Validation Error",description:"Asset type name is required",status:"error",duration:3e3,isClosable:!0});const e=(0,o.A)((0,o.A)({},me),{},{requiredFields:me.requiredFields.length>0?me.requiredFields:void 0,maintenanceIntervalDays:me.maintenanceIntervalDays||void 0});await Ce({variables:{input:e}})},isLoading:Fe,children:"Create Type"})]})]})]})]})}}}]);
//# sourceMappingURL=9866.ef109b17.chunk.js.map