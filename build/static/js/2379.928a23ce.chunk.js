"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[2379],{12379:(e,r,o)=>{o.r(r),o.d(r,{default:()=>Z});var n,s,a,i=o(89379),l=o(57528),d=o(65043),t=o(73216),c=o(31881),m=o(10585),h=o(70459),b=o(87139),g=o(22107),x=o(98662),p=o(44093),u=o(98939),j=o(82459),C=o(73225),f=o(76668),y=o(35699),S=o(80006),w=o(45973),k=o(18876),v=o(61724),z=o(96148),A=o(29904),E=o(10202),D=o(98481),_=o(19077),M=o(30502),T=o(28846),R=o(39081),U=o(37809),I=o(98971),Y=o(72515),W=o(29066),J=o(39985),F=o(52003),B=o(63295),H=o(95214),N=o(60319),P=o(66037),O=o(66801),q=o(70579);const L=(0,h.J1)(n||(n=(0,l.A)(["\n  mutation CreateCalendar($input: BusinessCalendarInput!) {\n    createCalendar(input: $input) {\n      id\n      name\n      type\n    }\n  }\n"]))),G=(0,h.J1)(s||(s=(0,l.A)(["\n  query GetCompanies {\n    companies {\n      id\n      name\n    }\n  }\n"]))),$=(0,h.J1)(a||(a=(0,l.A)(["\n  query GetEmployees {\n    employees {\n      id\n      fName\n      lName\n      email\n    }\n  }\n"]))),Z=()=>{const e=(0,t.Zp)(),r=(0,M.d)(),{user:o}=(0,W.A)(),{colorMode:n}=(0,p.G6)(),s=((0,k.A)({base:!0,md:!1}),(0,J.oU)("background.main",n)),a=(0,J.oU)("background.cardGradient",n),l=(0,J.oU)("border.darkCard",n),h=(0,J.oU)("light"===n?"text.primary":"text.primaryDark",n),Z=(0,J.oU)("light"===n?"text.secondary":"text.secondaryDark",n),K=(0,J.oU)("light"===n?"text.muted":"text.mutedDark",n),V=(0,J.oU)("primary",n),Q=(0,J.oU)("primaryHover",n);(0,J.oU)("successGreen",n),(0,J.oU)("status.error",n),(0,J.oU)("status.info",n);(0,P.H)("New Calendar");const[X,ee]=(0,d.useState)({name:"",description:"",type:"BUSINESS",color:"#4A90E2",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,isShared:!1,publicRead:!1,publicWrite:!1,requireAuth:!0,allowedUsers:[],linkedCompanyId:"",linkedEmployeeId:"",defaultReminders:!0,reminderMinutes:15,workingHoursStart:"09:00",workingHoursEnd:"17:00",workingDays:["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"]}),{data:re}=(0,m.IT)(G),{data:oe}=(0,m.IT)($),ne=Object.entries(O.Bx).map(e=>{let[r,o]=e;return{name:o,label:r.replace(/([A-Z])/g," $1").trim()}}),[se,{loading:ae}]=(Object.entries(O.Vd).map(e=>{let[r,o]=e;return{name:o,label:r}}),(0,c.n)(L,{onCompleted:o=>{r({title:"Calendar created",description:"".concat(o.createCalendar.name," has been created successfully"),status:"success",duration:3e3}),e("/calendars/".concat(o.createCalendar.id,"/view"))},onError:e=>{r({title:"Error creating calendar",description:e.message,status:"error",duration:5e3})}})),ie=e=>{const{name:r,value:o}=e.target;ee(e=>(0,i.A)((0,i.A)({},e),{},{[r]:o}))},le=e=>r=>{ee(o=>(0,i.A)((0,i.A)({},o),{},{[e]:r}))};return(0,q.jsxs)(g.a,{bg:s,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,q.jsx)(F.m,{}),(0,q.jsx)(H.y,{moduleConfig:N.calendarsModuleConfig}),(0,q.jsx)(u.m,{maxW:{base:"container.sm",md:"container.md",lg:"container.lg"},py:{base:6,md:8},flex:"1",children:(0,q.jsxs)(A.B,{spacing:{base:4,md:6},children:[(0,q.jsx)(E.T,{align:"stretch",spacing:4,children:(0,q.jsxs)(z.z,{justify:"space-between",flexDirection:{base:"column",md:"row"},spacing:{base:3,md:0},align:{base:"stretch",md:"center"},children:[(0,q.jsx)(T.D,{size:{base:"md",md:"lg"},color:h,fontFamily:J.Kk.fonts.heading,children:(0,q.jsxs)(z.z,{children:[(0,q.jsx)(I.C,{color:V}),(0,q.jsx)(R.E,{children:"Create New Calendar"})]})}),(0,q.jsx)(x.$,{leftIcon:(0,q.jsx)(U.g,{}),bg:"rgba(255, 255, 255, 0.1)",color:h,_hover:{bg:"rgba(255, 255, 255, 0.2)",transform:"translateY(-2px)"},_active:{transform:"translateY(0)"},transition:"all 0.2s",onClick:()=>e("/calendars"),size:{base:"md",md:"lg"},width:{base:"100%",md:"auto"},minW:{md:"100px"},children:"Back"})]})}),(0,q.jsx)(g.a,{as:"form",onSubmit:e=>{e.preventDefault();const r={name:X.name,description:X.description,type:X.type,color:X.color};r.settings={timezone:X.timezone,defaultReminderMinutes:X.defaultReminders?X.reminderMinutes:0,workingHoursStart:X.workingHoursStart,workingHoursEnd:X.workingHoursEnd,workingDays:X.workingDays},X.isShared&&(r.isPublic=X.publicRead,X.allowedUsers&&X.allowedUsers.length>0&&(r.shares=X.allowedUsers.map(e=>({sharedWithId:e,sharedWithType:"Client",permissions:X.publicWrite?["READ","WRITE"]:["READ"]})))),"COMPANY"===X.type&&X.linkedCompanyId?r.companyId=X.linkedCompanyId:"EMPLOYEE"===X.type&&X.linkedEmployeeId,se({variables:{input:r}})},bg:a,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:l,borderRadius:"lg",p:{base:4,md:6},children:(0,q.jsxs)(A.B,{spacing:6,children:[(0,q.jsxs)(A.B,{spacing:4,children:[(0,q.jsx)(R.E,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",color:h,children:"Basic Information"}),(0,q.jsxs)(C.MJ,{isRequired:!0,children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Calendar Name"}),(0,q.jsx)(y.p,{name:"name",value:X.name,onChange:ie,placeholder:"e.g., Company Events, Team Schedule",bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_placeholder:{color:K},_hover:{borderColor:Z},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"0 0 0 1px ".concat("light"===n?"#007AFF":"#3B82F6")},size:{base:"md",md:"lg"}})]}),(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Description"}),(0,q.jsx)(_.T,{name:"description",value:X.description,onChange:ie,placeholder:"Describe the purpose of this calendar",rows:3,bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_placeholder:{color:K},_hover:{borderColor:Z},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"0 0 0 1px ".concat("light"===n?"#007AFF":"#3B82F6")},fontSize:{base:"sm",md:"md"}})]}),(0,q.jsxs)(C.MJ,{isRequired:!0,children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Calendar Type"}),(0,q.jsx)(v.l,{name:"type",value:X.type,onChange:ie,bg:"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_hover:{borderColor:Z},_focus:{borderColor:V,boxShadow:"0 0 0 1px ".concat(V)},size:{base:"md",md:"lg"},children:ne.map(e=>(0,q.jsx)("option",{value:e.name,children:e.label},e.name))}),(0,q.jsx)(C.eK,{color:K,fontSize:{base:"xs",md:"sm"},children:"Choose the type that best fits your calendar's purpose"})]}),"COMPANY"===X.type&&(null===re||void 0===re?void 0:re.companies)&&(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Link to Company"}),(0,q.jsxs)(v.l,{name:"linkedCompanyId",value:X.linkedCompanyId,onChange:ie,bg:"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_hover:{borderColor:Z},_focus:{borderColor:V,boxShadow:"0 0 0 1px ".concat(V)},size:{base:"md",md:"lg"},children:[(0,q.jsx)("option",{value:"",children:"Select a company"}),re.companies.map(e=>(0,q.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),"EMPLOYEE"===X.type&&(null===oe||void 0===oe?void 0:oe.employees)&&(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Link to Employee"}),(0,q.jsxs)(v.l,{name:"linkedEmployeeId",value:X.linkedEmployeeId,onChange:ie,bg:"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_hover:{borderColor:Z},_focus:{borderColor:V,boxShadow:"0 0 0 1px ".concat(V)},size:{base:"md",md:"lg"},children:[(0,q.jsx)("option",{value:"",children:"Select an employee"}),oe.employees.map(e=>(0,q.jsxs)("option",{value:e.id,children:[e.fName," ",e.lName," (",e.email,")"]},e.id))]})]}),(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Calendar Color"}),(0,q.jsxs)(z.z,{spacing:{base:2,md:3},children:[(0,q.jsx)(y.p,{type:"color",name:"color",value:X.color,onChange:ie,width:{base:"80px",md:"100px"},bg:"rgba(255, 255, 255, 0.05)",borderColor:l,_hover:{borderColor:Z}}),(0,q.jsx)(y.p,{name:"color",value:X.color,onChange:ie,placeholder:"#4A90E2",bg:"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_placeholder:{color:K},_hover:{borderColor:Z},_focus:{borderColor:V,boxShadow:"0 0 0 1px ".concat(V)},size:{base:"md",md:"lg"}})]})]}),(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Timezone"}),(0,q.jsxs)(v.l,{name:"timezone",value:X.timezone,onChange:ie,bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:"light"===n?"gray.300":l,color:"light"===n?"gray.900":h,_hover:{borderColor:V},size:{base:"md",md:"lg"},children:[(0,q.jsx)("option",{value:"UTC",children:"UTC"}),(0,q.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,q.jsx)("option",{value:"America/Chicago",children:"Central Time"}),(0,q.jsx)("option",{value:"America/Denver",children:"Mountain Time"}),(0,q.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,q.jsx)("option",{value:"Europe/London",children:"London"}),(0,q.jsx)("option",{value:"Europe/Paris",children:"Paris"}),(0,q.jsx)("option",{value:"Asia/Tokyo",children:"Tokyo"}),(0,q.jsx)("option",{value:"Australia/Sydney",children:"Sydney"}),(0,q.jsx)("option",{value:"Australia/Brisbane",children:"Brisbane"})]})]})]}),(0,q.jsx)(j.c,{borderColor:l}),(0,q.jsxs)(A.B,{spacing:4,children:[(0,q.jsx)(R.E,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",color:h,children:"Sharing Settings"}),(0,q.jsx)(C.MJ,{children:(0,q.jsxs)(z.z,{justify:"space-between",children:[(0,q.jsxs)(E.T,{align:"start",spacing:1,children:[(0,q.jsx)(f.l,{mb:0,color:Z,fontSize:{base:"sm",md:"md"},children:"Share Calendar"}),(0,q.jsx)(R.E,{fontSize:{base:"xs",md:"sm"},color:K,children:"Allow others to view or edit this calendar"})]}),(0,q.jsx)(D.d,{isChecked:X.isShared,onChange:e=>le("isShared")(e.target.checked)})]})}),X.isShared&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(C.MJ,{children:(0,q.jsxs)(z.z,{justify:"space-between",children:[(0,q.jsxs)(E.T,{align:"start",spacing:1,children:[(0,q.jsx)(f.l,{mb:0,color:Z,fontSize:{base:"sm",md:"md"},children:"Public Read Access"}),(0,q.jsx)(R.E,{fontSize:{base:"xs",md:"sm"},color:K,children:"Anyone can view events"})]}),(0,q.jsx)(D.d,{isChecked:X.publicRead,onChange:e=>le("publicRead")(e.target.checked)})]})}),(0,q.jsx)(C.MJ,{children:(0,q.jsxs)(z.z,{justify:"space-between",children:[(0,q.jsxs)(E.T,{align:"start",spacing:1,children:[(0,q.jsx)(f.l,{mb:0,color:Z,fontSize:{base:"sm",md:"md"},children:"Public Write Access"}),(0,q.jsx)(R.E,{fontSize:{base:"xs",md:"sm"},color:K,children:"Anyone can create events"})]}),(0,q.jsx)(D.d,{isChecked:X.publicWrite,onChange:e=>le("publicWrite")(e.target.checked)})]})}),(0,q.jsx)(C.MJ,{children:(0,q.jsxs)(z.z,{justify:"space-between",children:[(0,q.jsxs)(E.T,{align:"start",spacing:1,children:[(0,q.jsx)(f.l,{mb:0,color:Z,fontSize:{base:"sm",md:"md"},children:"Require Authentication"}),(0,q.jsx)(R.E,{fontSize:{base:"xs",md:"sm"},color:K,children:"Users must be logged in to access"})]}),(0,q.jsx)(D.d,{isChecked:X.requireAuth,onChange:e=>le("requireAuth")(e.target.checked)})]})})]})]}),(0,q.jsx)(j.c,{borderColor:l}),(0,q.jsxs)(A.B,{spacing:4,children:[(0,q.jsx)(R.E,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",color:h,children:"Working Hours"}),(0,q.jsxs)(z.z,{spacing:{base:2,md:4},flexDirection:{base:"column",md:"row"},align:{base:"stretch",md:"center"},children:[(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Start Time"}),(0,q.jsx)(y.p,{type:"time",name:"workingHoursStart",value:X.workingHoursStart,onChange:ie,bg:"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_hover:{borderColor:Z},_focus:{borderColor:V,boxShadow:"0 0 0 1px ".concat(V)},size:{base:"md",md:"lg"}})]}),(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"End Time"}),(0,q.jsx)(y.p,{type:"time",name:"workingHoursEnd",value:X.workingHoursEnd,onChange:ie,bg:"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_hover:{borderColor:Z},_focus:{borderColor:V,boxShadow:"0 0 0 1px ".concat(V)},size:{base:"md",md:"lg"}})]})]}),(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Working Days"}),(0,q.jsx)(z.z,{wrap:"wrap",spacing:2,children:["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"].map(e=>(0,q.jsx)(b.E,{bg:X.workingDays.includes(e)?"rgba(59, 130, 246, 0.2)":"rgba(156, 163, 175, 0.2)",color:X.workingDays.includes(e)?V:K,border:"1px solid",borderColor:X.workingDays.includes(e)?"rgba(59, 130, 246, 0.3)":"rgba(156, 163, 175, 0.3)",px:3,py:1,cursor:"pointer",onClick:()=>(e=>{ee(r=>(0,i.A)((0,i.A)({},r),{},{workingDays:r.workingDays.includes(e)?r.workingDays.filter(r=>r!==e):[...r.workingDays,e]}))})(e),children:e.slice(0,3)},e))})]})]}),(0,q.jsx)(j.c,{borderColor:l}),(0,q.jsxs)(A.B,{spacing:4,children:[(0,q.jsx)(R.E,{fontSize:{base:"md",md:"lg"},fontWeight:"bold",color:h,children:"Default Reminders"}),(0,q.jsx)(C.MJ,{children:(0,q.jsxs)(z.z,{justify:"space-between",children:[(0,q.jsxs)(E.T,{align:"start",spacing:1,children:[(0,q.jsx)(f.l,{mb:0,color:Z,fontSize:{base:"sm",md:"md"},children:"Enable Default Reminders"}),(0,q.jsx)(R.E,{fontSize:{base:"xs",md:"sm"},color:K,children:"Automatically add reminders to new events"})]}),(0,q.jsx)(D.d,{isChecked:X.defaultReminders,onChange:e=>le("defaultReminders")(e.target.checked)})]})}),X.defaultReminders&&(0,q.jsxs)(C.MJ,{children:[(0,q.jsx)(f.l,{color:Z,fontSize:{base:"sm",md:"md"},children:"Reminder Time"}),(0,q.jsxs)(w.M,{size:{base:"md",md:"lg"},children:[(0,q.jsx)(y.p,{type:"number",name:"reminderMinutes",value:X.reminderMinutes,onChange:ie,min:1,bg:"rgba(255, 255, 255, 0.05)",borderColor:l,color:h,_hover:{borderColor:Z},_focus:{borderColor:V,boxShadow:"0 0 0 1px ".concat(V)}}),(0,q.jsx)(S.G6,{bg:"rgba(255, 255, 255, 0.03)",borderColor:l,color:Z,children:"minutes before"})]})]})]}),(0,q.jsxs)(z.z,{spacing:{base:2,md:4},justify:"flex-end",flexDirection:{base:"column-reverse",md:"row"},align:{base:"stretch",md:"center"},children:[(0,q.jsx)(x.$,{bg:"rgba(255, 255, 255, 0.1)",color:h,_hover:{bg:"rgba(255, 255, 255, 0.2)"},onClick:()=>e("/calendars"),width:{base:"100%",md:"auto"},size:{base:"md",md:"lg"},children:"Cancel"}),(0,q.jsx)(x.$,{type:"submit",bg:V,color:"white",_hover:{bg:Q,transform:"translateY(-2px)"},_active:{transform:"translateY(0)"},transition:"all 0.2s",fontWeight:"semibold",isLoading:ae,leftIcon:(0,q.jsx)(Y.S,{}),width:{base:"100%",md:"auto"},minW:{md:"160px"},size:{base:"md",md:"lg"},children:"Create Calendar"})]})]})})]})}),(0,q.jsx)(B.n,{})]})}}}]);
//# sourceMappingURL=2379.928a23ce.chunk.js.map