"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[6255],{46255:(e,i,r)=>{r.r(i),r.d(i,{default:()=>N});var t,n,o,a=r(89379),s=r(57528),l=r(65043),c=r(31881),d=r(70459),p=r(88787),u=r(85871),h=r(22107),m=r(98662),g=r(83169),f=r(24330),x=r(44093),b=r(98939),j=r(73225),T=r(76668),v=r(25011),w=r(35699),y=r(57371),k=r(96148),A=r(10202),S=r(19077),C=r(30502),U=r(28846),_=r(39081),E=r(73216),$=r(1009),z=r(39985),F=r(29066),I=r(52003),D=r(63295),P=r(95214),R=r(86253),J=r(70579);const W=(0,d.J1)(t||(t=(0,s.A)(["\n  mutation CreateTranscription($input: TranscriptionInput!) {\n    createTranscription(input: $input) {\n      id\n      title\n      status\n    }\n  }\n"]))),M=(0,d.J1)(n||(n=(0,s.A)(["\n  mutation UploadToPinata($file: Upload!) {\n    uploadToPinata(file: $file)\n  }\n"]))),B=(0,d.J1)(o||(o=(0,s.A)(["\n  mutation TranscribeAudio($input: TranscriptionUploadInput!) {\n    transcribeAudio(input: $input) {\n      id\n      status\n      transcription\n    }\n  }\n"]))),N=()=>{const e=(0,E.Zp)(),i=(0,C.d)(),{user:r}=(0,F.A)(),{colorMode:t}=(0,x.G6)(),n=(0,z.oU)("background.main",t),o=(0,z.oU)("background.cardGradient",t),s=(0,z.oU)("border.darkCard",t),d=(0,z.oU)("light"===t?"text.primary":"text.primaryDark",t),N=(0,z.oU)("light"===t?"text.secondary":"text.secondaryDark",t),H=(0,z.oU)("light"===t?"text.muted":"text.mutedDark",t),q=(0,z.oU)("primary",t),G=(0,z.oU)("primaryHover",t),[L,Z]=(0,l.useState)({title:"",description:""}),[K,Q]=(0,l.useState)(null),[V,Y]=(0,l.useState)(0),[O,X]=(0,l.useState)("form"),[ee]=(0,c.n)(W),[ie]=(0,c.n)(M),[re]=(0,c.n)(B),te=()=>{switch(O){case"uploading":return"\ud83d\udce4 Uploading file to IPFS...";case"transcribing":return"\ud83c\udf4b Starting LemonFox transcription...";case"complete":return"\u2705 Transcription started successfully!";default:return""}};return(0,J.jsxs)(h.a,{bg:n,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,J.jsx)(I.m,{}),(0,J.jsx)(P.y,{moduleConfig:R.default}),(0,J.jsxs)(b.m,{maxW:"container.md",py:8,flex:"1",children:[(0,J.jsx)(m.$,{leftIcon:(0,J.jsx)($.kRp,{}),variant:"ghost",color:N,mb:4,onClick:()=>e("/transcriptions"),children:"Back to Transcriptions"}),(0,J.jsx)(U.D,{mb:6,color:d,fontFamily:z.Kk.fonts.heading,children:"\ud83c\udfa4 New Transcription"}),(0,J.jsx)(g.Z,{bg:o,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:s,borderRadius:"lg",children:(0,J.jsx)(f.b,{children:(0,J.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),K)if(null!==r&&void 0!==r&&r.id)try{X("form"),Y(10);const{data:t}=await ee({variables:{input:{title:L.title,description:L.description,owner:r.id}}}),n=t.createTranscription.id;Y(20),X("uploading"),Y(30);const{data:o}=await ie({variables:{file:K}}),a=o.uploadToPinata,s=a.startsWith("http")?a:"https://gateway.pinata.cloud/ipfs/".concat(a);Y(60),X("transcribing"),Y(70),await re({variables:{input:{transcriptionId:n,audioUrl:s,fileName:K.name,fileSize:K.size}}}),Y(100),X("complete"),i({title:"Transcription started!",description:"Your audio is being transcribed. This may take a few minutes.",status:"success",duration:5e3}),setTimeout(()=>{e("/transcriptions/".concat(n))},1500)}catch(n){console.error("Error creating transcription:",n),X("form"),Y(0),i({title:"Error creating transcription",description:n.message||"An unexpected error occurred",status:"error",duration:5e3})}else i({title:"Not authenticated",description:"Please log in to create transcriptions",status:"error",duration:3e3});else i({title:"No file selected",description:"Please select an audio or video file to transcribe",status:"warning",duration:3e3})},children:(0,J.jsxs)(A.T,{spacing:4,children:[(0,J.jsxs)(j.MJ,{isRequired:!0,children:[(0,J.jsx)(T.l,{color:d,children:"Title"}),(0,J.jsx)(w.p,{bg:"rgba(255, 255, 255, 0.05)",borderColor:s,color:d,_placeholder:{color:H},value:L.title,onChange:e=>Z((0,a.A)((0,a.A)({},L),{},{title:e.target.value})),placeholder:"Enter transcription title"})]}),(0,J.jsxs)(j.MJ,{children:[(0,J.jsx)(T.l,{color:d,children:"Description (optional)"}),(0,J.jsx)(S.T,{bg:"rgba(255, 255, 255, 0.05)",borderColor:s,color:d,_placeholder:{color:H},value:L.description,onChange:e=>Z((0,a.A)((0,a.A)({},L),{},{description:e.target.value})),placeholder:"Add a description for this transcription",rows:3})]}),(0,J.jsxs)(j.MJ,{isRequired:!0,children:[(0,J.jsx)(T.l,{color:d,children:"Audio/Video File"}),(0,J.jsxs)(A.T,{spacing:2,align:"stretch",children:[(0,J.jsx)(w.p,{type:"file",accept:"audio/*,video/*,.mp3,.wav,.flac,.aac,.opus,.ogg,.m4a,.mp4,.mpeg,.mov,.webm",onChange:e=>{if(e.target.files&&e.target.files[0]){const i=e.target.files[0];Q(i),L.title||Z((0,a.A)((0,a.A)({},L),{},{title:i.name.replace(/\.[^/.]+$/,"")}))}},display:"none",id:"file-upload"}),(0,J.jsx)(m.$,{as:"label",htmlFor:"file-upload",leftIcon:(0,J.jsx)($.B88,{}),variant:"outline",borderColor:s,color:d,_hover:{bg:"rgba(255, 255, 255, 0.05)"},cursor:"pointer",children:"Choose File"}),K&&(0,J.jsxs)(k.z,{p:3,bg:"rgba(255, 255, 255, 0.03)",borderRadius:"md",borderWidth:1,borderColor:s,children:[(0,J.jsx)(v.I,{as:$.QuH,color:q}),(0,J.jsxs)(A.T,{align:"start",spacing:0,flex:1,children:[(0,J.jsx)(_.E,{color:d,fontSize:"sm",fontWeight:"medium",children:K.name}),(0,J.jsxs)(_.E,{color:N,fontSize:"xs",children:[(K.size/1024/1024).toFixed(2)," MB"]})]})]})]})]}),V>0&&(0,J.jsxs)(A.T,{w:"full",spacing:2,children:[(0,J.jsx)(y.k,{value:V,w:"full",colorScheme:"blue",borderRadius:"full",hasStripe:!0,isAnimated:!0}),(0,J.jsx)(_.E,{color:N,fontSize:"sm",children:te()})]}),(0,J.jsxs)(p.F,{status:"info",borderRadius:"md",children:[(0,J.jsx)(u._,{}),(0,J.jsxs)(A.T,{align:"start",spacing:1,fontSize:"sm",children:[(0,J.jsx)(_.E,{fontWeight:"bold",children:"Supported formats:"}),(0,J.jsx)(_.E,{children:"mp3, wav, flac, aac, opus, ogg, m4a, mp4, mpeg, mov, webm"}),(0,J.jsx)(_.E,{mt:2,fontWeight:"bold",children:"Processing time:"}),(0,J.jsx)(_.E,{children:"Typically 1-2 minutes for every 30 minutes of audio"})]})]}),(0,J.jsx)(m.$,{type:"submit",bg:q,color:"white",_hover:{bg:G},isLoading:"form"!==O,loadingText:te(),width:"full",size:"lg",leftIcon:(0,J.jsx)($.B88,{}),children:"Upload & Transcribe"})]})})})})]}),(0,J.jsx)(D.n,{})]})}}}]);
//# sourceMappingURL=6255.adef6387.chunk.js.map