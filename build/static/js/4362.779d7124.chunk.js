"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[4362],{24362:(e,n,o)=>{o.r(n),o.d(n,{default:()=>X});var i,t,r,a,l=o(89379),c=o(57528),s=o(65043),d=o(88787),p=o(85871),u=o(22107),m=o(98662),b=o(42703),h=o(83169),g=o(24330),y=o(26201),x=o(68659),v=o(34946),f=o(98939),j=o(82459),C=o(73225),A=o(76668),D=o(73212),k=o(35699),R=o(61724),S=o(76659),w=o(96148),N=o(10202),P=o(30502),E=o(28846),_=o(39081),W=o(31881),B=o(10585),K=o(70459),M=o(12730),Q=o(58584),T=o(37809),I=o(72515),z=o(73216),U=o(29066),J=o(52003),F=o(63295),$=o(66037),V=o(95214),Y=o(192),O=o(39985),H=o(70579);const L=(0,K.J1)(i||(i=(0,c.A)(["\n    query GetClient($id: ID!) {\n        client(id: $id) {\n            id\n            businessName\n            businessRegistrationNumber\n            paymentReceivingDetails {\n                acceptedMethods\n                bankAccount {\n                    accountName\n                    bsb\n                    accountNumber\n                    bankName\n                    swiftCode\n                }\n                cryptoWallets {\n                    walletAddress\n                    network\n                    memo\n                }\n                stripeConnect {\n                    stripeAccountId\n                    accountVerified\n                    verifiedAt\n                }\n                paypalEmail\n                isVerified\n                cryptoDiscountPercentage\n            }\n        }\n    }\n"]))),G=(0,K.J1)(t||(t=(0,c.A)(["\n    mutation UpdateClient($id: ID!, $input: UpdateClientInput!) {\n        updateClient(id: $id, input: $input) {\n            id\n            businessName\n            businessRegistrationNumber\n            paymentReceivingDetails {\n                acceptedMethods\n                bankAccount {\n                    accountName\n                    bsb\n                    accountNumber\n                    bankName\n                    swiftCode\n                }\n                cryptoWallets {\n                    walletAddress\n                    network\n                    memo\n                }\n                stripeConnect {\n                    stripeAccountId\n                    accountVerified\n                    verifiedAt\n                }\n                paypalEmail\n                isVerified\n                cryptoDiscountPercentage\n            }\n        }\n    }\n"]))),Z=(0,K.J1)(r||(r=(0,c.A)(["\n    query GetTenant($id: ID!) {\n        tenant(id: $id) {\n            id\n            name\n            domain\n            websiteUrl\n            apiKeys {\n                stripePublicKey\n                stripeSecretKey\n                stripeWebhookSecret\n            }\n            branding {\n                siteName\n            }\n        }\n    }\n"]))),q=(0,K.J1)(a||(a=(0,c.A)(["\n    mutation UpdateTenant($id: ID!, $input: UpdateTenantInput!) {\n        updateTenant(id: $id, input: $input) {\n            id\n            apiKeys {\n                stripePublicKey\n                stripeSecretKey\n                stripeWebhookSecret\n            }\n        }\n    }\n"]))),X=()=>{(0,$.H)("Edit Payment Details");const e=(0,z.Zp)(),n=(0,P.d)(),{user:o}=(0,U.A)(),i=(0,O.oU)("background.main"),t=(0,O.oU)("background.cardGradient"),r=(0,O.oU)("border.darkCard"),a=(0,O.oU)("text.primaryDark"),c=(0,O.oU)("text.secondaryDark"),K=(0,O.oU)("text.mutedDark"),X=(0,O.oU)("text.inverse"),ee=(0,O.oU)("primary"),[ne,oe]=s.useState({apiKeys:{stripePublicKey:"",stripeSecretKey:"",stripeWebhookSecret:""},branding:{siteName:""},domain:"",websiteUrl:""}),[ie,te]=s.useState({businessName:"",businessRegistrationNumber:"",paymentReceivingDetails:{acceptedMethods:[],bankAccount:{accountName:"",bsb:"",accountNumber:"",bankName:"",swiftCode:""},cryptoWallets:[],stripeConnect:{stripeAccountId:"",accountVerified:!1,verifiedAt:null},paypalEmail:"",isVerified:!1,cryptoDiscountPercentage:void 0}}),{data:re,refetch:ae}=(0,B.IT)(Z,{variables:{id:O.Kk.tenantId},skip:!O.Kk.tenantId,onCompleted:e=>{var n,o,i,t;null!==e&&void 0!==e&&e.tenant&&oe({apiKeys:{stripePublicKey:(null===(n=e.tenant.apiKeys)||void 0===n?void 0:n.stripePublicKey)||"",stripeSecretKey:(null===(o=e.tenant.apiKeys)||void 0===o?void 0:o.stripeSecretKey)||"",stripeWebhookSecret:(null===(i=e.tenant.apiKeys)||void 0===i?void 0:i.stripeWebhookSecret)||""},branding:{siteName:(null===(t=e.tenant.branding)||void 0===t?void 0:t.siteName)||""},domain:e.tenant.domain||"",websiteUrl:e.tenant.websiteUrl||""})}}),{data:le,loading:ce}=(0,B.IT)(L,{variables:{id:null===o||void 0===o?void 0:o.id},skip:!(null!==o&&void 0!==o&&o.id),onCompleted:e=>{var n,o,i,t,r,a,l,c,s,d,p,u,m,b,h,g,y,x,v,f,j;null!==e&&void 0!==e&&e.client&&te({businessName:e.client.businessName||"",businessRegistrationNumber:e.client.businessRegistrationNumber||"",paymentReceivingDetails:{acceptedMethods:(null===(n=e.client.paymentReceivingDetails)||void 0===n?void 0:n.acceptedMethods)||[],bankAccount:{accountName:(null===(o=e.client.paymentReceivingDetails)||void 0===o||null===(i=o.bankAccount)||void 0===i?void 0:i.accountName)||"",bsb:(null===(t=e.client.paymentReceivingDetails)||void 0===t||null===(r=t.bankAccount)||void 0===r?void 0:r.bsb)||"",accountNumber:(null===(a=e.client.paymentReceivingDetails)||void 0===a||null===(l=a.bankAccount)||void 0===l?void 0:l.accountNumber)||"",bankName:(null===(c=e.client.paymentReceivingDetails)||void 0===c||null===(s=c.bankAccount)||void 0===s?void 0:s.bankName)||"",swiftCode:(null===(d=e.client.paymentReceivingDetails)||void 0===d||null===(p=d.bankAccount)||void 0===p?void 0:p.swiftCode)||""},cryptoWallets:(null===(u=e.client.paymentReceivingDetails)||void 0===u?void 0:u.cryptoWallets)||[],stripeConnect:{stripeAccountId:(null===(m=e.client.paymentReceivingDetails)||void 0===m||null===(b=m.stripeConnect)||void 0===b?void 0:b.stripeAccountId)||"",accountVerified:(null===(h=e.client.paymentReceivingDetails)||void 0===h||null===(g=h.stripeConnect)||void 0===g?void 0:g.accountVerified)||!1,verifiedAt:(null===(y=e.client.paymentReceivingDetails)||void 0===y||null===(x=y.stripeConnect)||void 0===x?void 0:x.verifiedAt)||null},paypalEmail:(null===(v=e.client.paymentReceivingDetails)||void 0===v?void 0:v.paypalEmail)||"",isVerified:(null===(f=e.client.paymentReceivingDetails)||void 0===f?void 0:f.isVerified)||!1,cryptoDiscountPercentage:(null===(j=e.client.paymentReceivingDetails)||void 0===j?void 0:j.cryptoDiscountPercentage)||void 0}})}}),[se,{loading:de}]=(0,W.n)(q,{onCompleted:()=>{n({title:"Stripe Settings Updated",description:"Your Stripe API keys have been updated successfully",status:"success",duration:3e3}),ae()},onError:e=>{n({title:"Update Failed",description:e.message,status:"error",duration:5e3})}}),[pe,{loading:ue}]=(0,W.n)(G,{onCompleted:()=>{n({title:"Payment Details Updated",description:"Your payment details have been updated successfully",status:"success",duration:3e3}),e("/bills/payment-details")},onError:e=>{n({title:"Update Failed",description:e.message,status:"error",duration:5e3})}}),me=(e,n)=>{te(o=>(0,l.A)((0,l.A)({},o),{},{[e]:n}))},be=(e,n)=>{te(o=>(0,l.A)((0,l.A)({},o),{},{paymentReceivingDetails:(0,l.A)((0,l.A)({},o.paymentReceivingDetails),{},{bankAccount:(0,l.A)((0,l.A)({},o.paymentReceivingDetails.bankAccount),{},{[e]:n})})}))},he=(e,n)=>{te(o=>{const i=n?[...o.paymentReceivingDetails.acceptedMethods,e]:o.paymentReceivingDetails.acceptedMethods.filter(n=>n!==e);return(0,l.A)((0,l.A)({},o),{},{paymentReceivingDetails:(0,l.A)((0,l.A)({},o.paymentReceivingDetails),{},{acceptedMethods:i})})})},ge=(e,n)=>{oe(o=>(0,l.A)((0,l.A)({},o),{},{apiKeys:(0,l.A)((0,l.A)({},o.apiKeys),{},{[e]:n})}))},ye=(e,n,o)=>{te(i=>(0,l.A)((0,l.A)({},i),{},{paymentReceivingDetails:(0,l.A)((0,l.A)({},i.paymentReceivingDetails),{},{cryptoWallets:i.paymentReceivingDetails.cryptoWallets.map((i,t)=>t===e?(0,l.A)((0,l.A)({},i),{},{[n]:o}):i)})}))};return ce?(0,H.jsxs)(u.a,{bg:i,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,H.jsx)(J.m,{}),(0,H.jsx)(V.y,{moduleConfig:Y.default}),(0,H.jsx)(f.m,{maxW:"container.xl",py:12,flex:"1",children:(0,H.jsx)(x.o,{h:"50vh",children:(0,H.jsx)(S.y,{size:"xl",color:(0,O.oU)("primary")})})}),(0,H.jsx)(F.n,{})]}):(0,H.jsxs)(u.a,{bg:i,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,H.jsx)(J.m,{}),(0,H.jsx)(V.y,{moduleConfig:Y.default}),(0,H.jsx)(f.m,{maxW:"container.xl",py:12,flex:"1",children:(0,H.jsxs)(N.T,{spacing:8,align:"stretch",children:[(0,H.jsxs)(w.z,{justify:"space-between",align:"center",children:[(0,H.jsxs)(N.T,{align:"start",spacing:2,children:[(0,H.jsx)(E.D,{size:"lg",color:a,children:"Edit Payment Details"}),(0,H.jsx)(_.E,{fontSize:"sm",color:K,children:"Update your business and payment information"})]}),(0,H.jsx)(m.$,{onClick:()=>e("/bills/payment-details"),variant:"outline",leftIcon:(0,H.jsx)(T.g,{}),borderColor:r,color:c,_hover:{borderColor:ee,color:X},children:"Back to Payment Details"})]}),(0,H.jsxs)(h.Z,{bg:t,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderWidth:"1px",borderColor:r,overflow:"hidden",children:[(0,H.jsx)(y.a,{borderBottomWidth:"1px",borderColor:r,children:(0,H.jsx)(E.D,{size:"md",color:X,children:"Business Information"})}),(0,H.jsx)(g.b,{children:(0,H.jsxs)(N.T,{spacing:6,children:[(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Business Name"}),(0,H.jsx)(k.p,{value:ie.businessName,onChange:e=>me("businessName",e.target.value),placeholder:"Your Business Name",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_placeholder:{color:K},_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Business Registration Number"}),(0,H.jsx)(k.p,{value:ie.businessRegistrationNumber,onChange:e=>me("businessRegistrationNumber",e.target.value),placeholder:"ABN or Registration Number",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_placeholder:{color:K},_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]})]})})]}),(0,H.jsxs)(h.Z,{bg:t,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",borderWidth:"1px",borderColor:r,overflow:"hidden",children:[(0,H.jsxs)(y.a,{borderBottomWidth:"1px",borderColor:r,children:[(0,H.jsx)(E.D,{size:"md",color:X,children:"\ud83d\udcb3 Payment Receiving Details"}),(0,H.jsx)(_.E,{fontSize:"sm",color:K,children:"Configure how you want to receive payments from clients"})]}),(0,H.jsx)(g.b,{children:(0,H.jsxs)(N.T,{spacing:8,align:"stretch",children:[(0,H.jsxs)(u.a,{children:[(0,H.jsx)(_.E,{fontWeight:"bold",mb:3,color:X,children:"Accepted Payment Methods"}),(0,H.jsxs)(D.r,{columns:2,spacing:4,children:[(0,H.jsx)(v.S,{isChecked:ie.paymentReceivingDetails.acceptedMethods.includes("BANK_TRANSFER"),onChange:e=>he("BANK_TRANSFER",e.target.checked),colorScheme:"blue",children:(0,H.jsx)(_.E,{color:c,children:"Bank Transfer"})}),(0,H.jsx)(v.S,{isChecked:ie.paymentReceivingDetails.acceptedMethods.includes("CRYPTO"),onChange:e=>he("CRYPTO",e.target.checked),colorScheme:"blue",children:(0,H.jsx)(_.E,{color:c,children:"Cryptocurrency"})}),(0,H.jsx)(v.S,{isChecked:ie.paymentReceivingDetails.acceptedMethods.includes("STRIPE"),onChange:e=>he("STRIPE",e.target.checked),colorScheme:"blue",children:(0,H.jsx)(_.E,{color:c,children:"Stripe (Credit Cards)"})}),(0,H.jsx)(v.S,{isChecked:ie.paymentReceivingDetails.acceptedMethods.includes("PAYPAL"),onChange:e=>he("PAYPAL",e.target.checked),colorScheme:"blue",children:(0,H.jsx)(_.E,{color:c,children:"PayPal"})})]})]}),(0,H.jsx)(j.c,{borderColor:r}),ie.paymentReceivingDetails.acceptedMethods.includes("STRIPE")&&(0,H.jsxs)(u.a,{children:[(0,H.jsx)(_.E,{fontWeight:"bold",mb:3,color:X,children:"\ud83d\udcb3 Stripe Configuration"}),(0,H.jsx)(_.E,{fontSize:"sm",color:K,mb:4,children:"Configure your Stripe API keys to accept credit card payments"}),(0,H.jsxs)(d.F,{status:"info",mb:4,children:[(0,H.jsx)(p._,{}),(0,H.jsxs)(u.a,{children:[(0,H.jsxs)(_.E,{fontWeight:"bold",children:["Stripe API Keys for: ",ne.branding.siteName||"Your Business"]}),(0,H.jsx)(_.E,{fontSize:"sm",children:"These keys will be used for processing credit card payments when clients pay your bills"})]})]}),(0,H.jsxs)(D.r,{columns:{base:1,md:2},spacing:4,children:[(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Stripe Public Key"}),(0,H.jsx)(k.p,{value:ne.apiKeys.stripePublicKey,onChange:e=>ge("stripePublicKey",e.target.value),placeholder:"pk_live_...",bg:(0,O.QQ)("form","fieldBg"),border:"1px",borderColor:(0,O.QQ)("form","fieldBorder"),_focus:{borderColor:(0,O.QQ)("form","fieldBorderFocus"),boxShadow:(0,O.QQ)("form","fieldShadowFocus")}}),(0,H.jsx)(_.E,{fontSize:"xs",color:K,mt:1,children:"Starts with pk_live_ or pk_test_"})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Stripe Secret Key"}),(0,H.jsx)(k.p,{type:"password",value:ne.apiKeys.stripeSecretKey,onChange:e=>ge("stripeSecretKey",e.target.value),placeholder:"sk_live_...",bg:(0,O.QQ)("form","fieldBg"),border:"1px",borderColor:(0,O.QQ)("form","fieldBorder"),_focus:{borderColor:(0,O.QQ)("form","fieldBorderFocus"),boxShadow:(0,O.QQ)("form","fieldShadowFocus")}}),(0,H.jsx)(_.E,{fontSize:"xs",color:K,mt:1,children:"Starts with sk_live_ or sk_test_"})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Stripe Webhook Secret"}),(0,H.jsx)(k.p,{type:"password",value:ne.apiKeys.stripeWebhookSecret,onChange:e=>ge("stripeWebhookSecret",e.target.value),placeholder:"whsec_...",bg:(0,O.QQ)("form","fieldBg"),border:"1px",borderColor:(0,O.QQ)("form","fieldBorder"),_focus:{borderColor:(0,O.QQ)("form","fieldBorderFocus"),boxShadow:(0,O.QQ)("form","fieldShadowFocus")}}),(0,H.jsx)(_.E,{fontSize:"xs",color:K,mt:1,children:"Starts with whsec_"})]})]}),(0,H.jsxs)(d.F,{status:"warning",mt:4,children:[(0,H.jsx)(p._,{}),(0,H.jsxs)(u.a,{children:[(0,H.jsx)(_.E,{fontWeight:"bold",children:"Security Notice"}),(0,H.jsx)(_.E,{fontSize:"sm",children:"Your Stripe keys are encrypted and securely stored. Never share your secret keys publicly."})]})]})]}),(0,H.jsx)(j.c,{borderColor:r}),(0,H.jsxs)(u.a,{children:[(0,H.jsx)(_.E,{fontWeight:"bold",mb:3,color:X,children:"\ud83c\udfe6 Bank Account Details"}),(0,H.jsx)(_.E,{fontSize:"sm",color:K,mb:4,children:"Add your bank account details to receive payments via bank transfer"}),(0,H.jsxs)(D.r,{columns:{base:1,md:2},spacing:4,children:[(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Account Name"}),(0,H.jsx)(k.p,{value:ie.paymentReceivingDetails.bankAccount.accountName,onChange:e=>be("accountName",e.target.value),placeholder:"John Doe",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_placeholder:{color:K},_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"BSB"}),(0,H.jsx)(k.p,{value:ie.paymentReceivingDetails.bankAccount.bsb,onChange:e=>be("bsb",e.target.value),placeholder:"123-456",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_placeholder:{color:K},_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Account Number"}),(0,H.jsx)(k.p,{value:ie.paymentReceivingDetails.bankAccount.accountNumber,onChange:e=>be("accountNumber",e.target.value),placeholder:"123456789",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_placeholder:{color:K},_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Bank Name (Optional)"}),(0,H.jsx)(k.p,{value:ie.paymentReceivingDetails.bankAccount.bankName,onChange:e=>be("bankName",e.target.value),placeholder:"Commonwealth Bank",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_placeholder:{color:K},_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"SWIFT Code (Optional)"}),(0,H.jsx)(k.p,{value:ie.paymentReceivingDetails.bankAccount.swiftCode,onChange:e=>be("swiftCode",e.target.value),placeholder:"CTBAAU2S",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_placeholder:{color:K},_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]})]})]}),(0,H.jsx)(j.c,{borderColor:r}),(0,H.jsxs)(u.a,{children:[(0,H.jsxs)(w.z,{justify:"space-between",mb:3,children:[(0,H.jsx)(_.E,{fontWeight:"bold",color:X,children:"\u20bf Cryptocurrency Wallets"}),(0,H.jsx)(m.$,{size:"sm",leftIcon:(0,H.jsx)(M.R,{}),onClick:()=>{te(e=>(0,l.A)((0,l.A)({},e),{},{paymentReceivingDetails:(0,l.A)((0,l.A)({},e.paymentReceivingDetails),{},{cryptoWallets:[...e.paymentReceivingDetails.cryptoWallets,{walletAddress:"",network:"",memo:""}]})}))},variant:"outline",borderColor:r,color:c,_hover:{borderColor:ee,color:X},children:"Add Wallet"})]}),(0,H.jsx)(_.E,{fontSize:"sm",color:K,mb:4,children:"Add cryptocurrency wallet addresses to receive crypto payments"}),ie.paymentReceivingDetails.acceptedMethods.includes("CRYPTO")&&!ie.paymentReceivingDetails.cryptoWallets.some(e=>"BTC"===e.network)&&(0,H.jsxs)(d.F,{status:"info",mb:4,children:[(0,H.jsx)(p._,{}),(0,H.jsxs)(u.a,{children:[(0,H.jsx)(_.E,{fontWeight:"bold",children:"Bitcoin Wallet Recommended"}),(0,H.jsxs)(_.E,{fontSize:"sm",children:["You've selected cryptocurrency as an accepted payment method.",0===ie.paymentReceivingDetails.cryptoWallets.length?" Please add your Bitcoin (BTC) wallet address to receive Bitcoin payments from clients.":" Consider adding a Bitcoin (BTC) wallet address to accept Bitcoin payments."]})]})]}),ie.paymentReceivingDetails.cryptoWallets.length>0?(0,H.jsx)(N.T,{spacing:4,children:ie.paymentReceivingDetails.cryptoWallets.map((e,n)=>(0,H.jsxs)(u.a,{p:4,border:"1px",borderColor:r,borderRadius:"md",width:"100%",children:[(0,H.jsxs)(w.z,{justify:"space-between",mb:3,children:[(0,H.jsxs)(_.E,{fontWeight:"semibold",color:X,children:["Wallet ",n+1]}),(0,H.jsx)(b.K,{"aria-label":"Remove wallet",icon:(0,H.jsx)(Q.d,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>(e=>{te(n=>(0,l.A)((0,l.A)({},n),{},{paymentReceivingDetails:(0,l.A)((0,l.A)({},n.paymentReceivingDetails),{},{cryptoWallets:n.paymentReceivingDetails.cryptoWallets.filter((n,o)=>o!==e)})}))})(n)})]}),(0,H.jsxs)(D.r,{columns:{base:1,md:3},spacing:4,children:[(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{fontSize:"sm",color:c,children:"Network"}),(0,H.jsxs)(R.l,{value:e.network,onChange:e=>ye(n,"network",e.target.value),placeholder:"Select network",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)},children:[(0,H.jsx)("option",{value:"BTC",children:"Bitcoin (BTC)"}),(0,H.jsx)("option",{value:"ETH",children:"Ethereum (ETH)"}),(0,H.jsx)("option",{value:"BSC",children:"Binance Smart Chain (BSC)"}),(0,H.jsx)("option",{value:"MATIC",children:"Polygon (MATIC)"}),(0,H.jsx)("option",{value:"ADA",children:"Cardano (ADA)"}),(0,H.jsx)("option",{value:"SOL",children:"Solana (SOL)"})]})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{fontSize:"sm",color:c,children:"Wallet Address"}),(0,H.jsx)(k.p,{value:e.walletAddress,onChange:e=>ye(n,"walletAddress",e.target.value),placeholder:"0x...",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{fontSize:"sm",color:c,children:"Memo (Optional)"}),(0,H.jsx)(k.p,{value:e.memo,onChange:e=>ye(n,"memo",e.target.value),placeholder:"Memo or tag",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)}})]})]})]},n))}):(0,H.jsx)(_.E,{color:K,textAlign:"center",py:4,children:'No crypto wallets added yet. Click "Add Wallet" to get started.'})]}),ie.paymentReceivingDetails.acceptedMethods.includes("CRYPTO")&&(0,H.jsxs)(u.a,{children:[(0,H.jsx)(_.E,{fontWeight:"bold",mb:3,color:X,children:"\ud83d\udcb8 Crypto Payment Discount"}),(0,H.jsx)(_.E,{fontSize:"sm",color:K,mb:4,children:"Offer a discount to customers who pay with cryptocurrency to incentivize crypto payments"}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"Discount Percentage (%)"}),(0,H.jsxs)(w.z,{children:[(0,H.jsx)(k.p,{type:"number",min:"0",max:"100",value:ie.paymentReceivingDetails.cryptoDiscountPercentage||"",onChange:e=>{const n=e.target.value?Number(e.target.value):void 0;te(e=>(0,l.A)((0,l.A)({},e),{},{paymentReceivingDetails:(0,l.A)((0,l.A)({},e.paymentReceivingDetails),{},{cryptoDiscountPercentage:n})}))},placeholder:"e.g., 10",bg:"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:r,color:X,_placeholder:{color:K},_focus:{borderColor:ee,boxShadow:"0 0 0 1px ".concat(ee)},width:"150px"}),(0,H.jsx)(_.E,{color:c,children:"% off for crypto payments"})]}),(0,H.jsx)(_.E,{fontSize:"xs",color:K,mt:2,children:ie.paymentReceivingDetails.cryptoDiscountPercentage?"Customers will save ".concat(ie.paymentReceivingDetails.cryptoDiscountPercentage,"% when paying with cryptocurrency"):"No discount currently offered"})]})]}),(0,H.jsx)(j.c,{borderColor:r}),(0,H.jsxs)(u.a,{children:[(0,H.jsx)(_.E,{fontWeight:"bold",mb:3,color:X,children:"\ud83d\udcb0 PayPal"}),(0,H.jsx)(_.E,{fontSize:"sm",color:K,mb:4,children:"Add your PayPal email to receive PayPal payments"}),(0,H.jsxs)(C.MJ,{children:[(0,H.jsx)(A.l,{color:c,children:"PayPal Email"}),(0,H.jsx)(k.p,{type:"email",value:ie.paymentReceivingDetails.paypalEmail,onChange:e=>{return n="paypalEmail",o=e.target.value,void te(e=>(0,l.A)((0,l.A)({},e),{},{paymentReceivingDetails:(0,l.A)((0,l.A)({},e.paymentReceivingDetails),{},{[n]:o})}));var n,o},placeholder:"your-paypal@email.com",bg:(0,O.QQ)("form","fieldBg"),border:"1px",borderColor:(0,O.QQ)("form","fieldBorder"),_focus:{borderColor:(0,O.QQ)("form","fieldBorderFocus"),boxShadow:(0,O.QQ)("form","fieldShadowFocus")}})]})]})]})})]}),(0,H.jsxs)(w.z,{justify:"flex-end",spacing:4,children:[(0,H.jsx)(m.$,{variant:"outline",onClick:()=>e("/bills/payment-details"),children:"Cancel"}),(0,H.jsx)(m.$,{onClick:async()=>{if(null!==o&&void 0!==o&&o.id)try{const e={businessName:ie.businessName,businessRegistrationNumber:ie.businessRegistrationNumber,paymentReceivingDetails:(0,l.A)((0,l.A)({},ie.paymentReceivingDetails),{},{cryptoWallets:ie.paymentReceivingDetails.cryptoWallets.map(e=>({walletAddress:e.walletAddress,network:e.network,memo:e.memo})),bankAccount:ie.paymentReceivingDetails.bankAccount?{accountName:ie.paymentReceivingDetails.bankAccount.accountName,bsb:ie.paymentReceivingDetails.bankAccount.bsb,accountNumber:ie.paymentReceivingDetails.bankAccount.accountNumber,bankName:ie.paymentReceivingDetails.bankAccount.bankName,swiftCode:ie.paymentReceivingDetails.bankAccount.swiftCode}:void 0,stripeConnect:ie.paymentReceivingDetails.stripeConnect?{stripeAccountId:ie.paymentReceivingDetails.stripeConnect.stripeAccountId,accountVerified:ie.paymentReceivingDetails.stripeConnect.accountVerified,verifiedAt:ie.paymentReceivingDetails.stripeConnect.verifiedAt}:void 0,cryptoDiscountPercentage:ie.paymentReceivingDetails.cryptoDiscountPercentage})};await pe({variables:{id:o.id,input:e}}),ie.paymentReceivingDetails.acceptedMethods.includes("STRIPE")&&O.Kk.tenantId&&await se({variables:{id:O.Kk.tenantId,input:{apiKeys:ne.apiKeys}}})}catch(e){console.error("Error updating payment details:",e)}},isLoading:ue||de,loadingText:"Saving...",bg:(0,O.QQ)("button","primaryBg"),color:(0,O.oU)("text.inverse"),_hover:{bg:(0,O.QQ)("button","primaryHover")},leftIcon:(0,H.jsx)(I.S,{}),children:"Save Changes"})]})]})}),(0,H.jsx)(F.n,{})]})}}}]);
//# sourceMappingURL=4362.779d7124.chunk.js.map