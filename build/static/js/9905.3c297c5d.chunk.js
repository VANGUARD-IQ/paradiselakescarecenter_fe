"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[9905],{39905:(e,o,n)=>{n.r(o),n.d(o,{default:()=>le});var i,r,l,a,s,d,t=n(89379),g=n(57528),c=n(65043),h=n(73216),u=n(31881),m=n(10585),b=n(70459),k=n(88787),p=n(85871),x=n(87139),y=n(22107),j=n(98662),C=n(68659),v=n(44093),S=n(98939),f=n(82459),P=n(73225),A=n(76668),w=n(35699),D=n(80006),B=n(45973),E=n(18876),T=n(61724),R=n(76659),M=n(96148),U=n(29904),F=n(10202),I=n(98481),J=n(19077),_=n(30502),z=n(28846),L=n(39081),H=n(37809),N=n(98971),Y=n(72515),O=n(1009),$=n(29066),G=n(39985),W=n(52003),q=n(63295),Q=n(95214),Z=n(60319),K=n(66037),V=n(70579);const X=(0,b.J1)(i||(i=(0,g.A)(["\n  query GetCalendar($id: String!) {\n    calendar(id: $id) {\n      id\n      name\n      description\n      type\n      color\n      responsibleOwnerId\n      ownerType\n      visibility\n      isPublic\n      linkedEmailAddressId\n      companyId\n      projectId\n      settings {\n        timezone\n        defaultReminderMinutes\n        workingHoursStart\n        workingHoursEnd\n        workingDays\n      }\n      isActive\n      allowPublicBooking\n      bookingPageSlug\n      bookingPageTitle\n      bookingPageDescription\n      bookingPageLogo\n      requirePaymentUpfront\n      sendBookingConfirmations\n      sendBookingReminders\n    }\n  }\n"]))),ee=(0,b.J1)(r||(r=(0,g.A)(["\n  mutation UpdateCalendar($id: String!, $input: BusinessCalendarInput!) {\n    updateCalendar(id: $id, input: $input) {\n      id\n      name\n      type\n    }\n  }\n"]))),oe=(0,b.J1)(l||(l=(0,g.A)(["\n  mutation DeleteCalendar($id: String!) {\n    deleteCalendar(id: $id)\n  }\n"]))),ne=(0,b.J1)(a||(a=(0,g.A)(["\n  query GetCompanies {\n    companies {\n      id\n      name\n    }\n  }\n"]))),ie=(0,b.J1)(s||(s=(0,g.A)(["\n  query GetEmployees {\n    employees {\n      id\n      fName\n      lName\n      email\n    }\n  }\n"]))),re=(0,b.J1)(d||(d=(0,g.A)(["\n  query GetAssignedEmailAddresses {\n    emailAddresses {\n      email\n      name\n      type\n      associatedClients\n    }\n  }\n"]))),le=()=>{var e,o,n,i,r;const{id:l}=(0,h.g)(),a=(0,h.Zp)(),s=(0,_.d)(),{user:d}=(0,$.A)(),{colorMode:g}=(0,v.G6)(),b=(0,E.A)({base:!0,md:!1}),le=(0,G.oU)("background.main",g),ae=(0,G.oU)("background.cardGradient",g),se=(0,G.oU)("border.darkCard",g),de=(0,G.oU)("light"===g?"text.primary":"text.primaryDark",g),te=(0,G.oU)("light"===g?"text.secondary":"text.secondaryDark",g),ge=(0,G.oU)("light"===g?"text.muted":"text.mutedDark",g),ce=(0,G.oU)("primary",g),he=(0,G.oU)("primaryHover",g),ue=((0,G.oU)("successGreen",g),(0,G.oU)("status.error",g),(0,G.oU)("status.info",g)),[me,be]=(0,c.useState)({name:"",description:"",type:"BUSINESS",color:"#4A90E2",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,isShared:!1,publicRead:!1,publicWrite:!1,requireAuth:!0,allowedUsers:[],linkedCompanyId:"",linkedEmployeeId:"",defaultReminders:!0,reminderMinutes:15,workingHoursStart:"09:00",workingHoursEnd:"17:00",workingDays:["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],emailAddress:"",allowPublicBooking:!1,bookingPageSlug:"",bookingPageTitle:"",bookingPageDescription:"",bookingPageLogo:"",sendBookingConfirmations:!0,sendBookingReminders:!0}),{data:ke,loading:pe}=(0,m.IT)(X,{variables:{id:l},skip:!l,onCompleted:e=>{if(console.log("\ud83d\udce5 ========== CALENDAR DATA LOADED =========="),console.log("\ud83d\udcca Raw calendar data from backend:",JSON.stringify(e,null,2)),null!==e&&void 0!==e&&e.calendar){var o,n,i,r,l,a,s,d;const t=e.calendar;console.log("\ud83d\udcc5 Public booking fields from backend:"),console.log("  - allowPublicBooking:",t.allowPublicBooking),console.log("  - bookingPageSlug:",t.bookingPageSlug),console.log("  - bookingPageTitle:",t.bookingPageTitle),console.log("  - bookingPageDescription:",t.bookingPageDescription),console.log("  - sendBookingConfirmations:",t.sendBookingConfirmations),console.log("  - sendBookingReminders:",t.sendBookingReminders);const g={name:t.name||"",description:t.description||"",type:t.type||"BUSINESS",color:t.color||"#4A90E2",timezone:(null===(o=t.settings)||void 0===o?void 0:o.timezone)||Intl.DateTimeFormat().resolvedOptions().timeZone,isShared:t.isPublic||!1,publicRead:t.isPublic||!1,publicWrite:!1,requireAuth:!0,allowedUsers:[],linkedCompanyId:"",linkedEmployeeId:"",defaultReminders:(null===(n=t.settings)||void 0===n?void 0:n.defaultReminderMinutes)>0,reminderMinutes:(null===(i=t.settings)||void 0===i?void 0:i.defaultReminderMinutes)||15,workingHoursStart:(null===(r=t.settings)||void 0===r?void 0:r.workingHoursStart)||"09:00",workingHoursEnd:(null===(l=t.settings)||void 0===l?void 0:l.workingHoursEnd)||"17:00",workingDays:(null===(a=t.settings)||void 0===a?void 0:a.workingDays)||["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],emailAddress:t.emailAddress||"",allowPublicBooking:t.allowPublicBooking||!1,bookingPageSlug:t.bookingPageSlug||"",bookingPageTitle:t.bookingPageTitle||"",bookingPageDescription:t.bookingPageDescription||"",bookingPageLogo:t.bookingPageLogo||"",sendBookingConfirmations:null===(s=t.sendBookingConfirmations)||void 0===s||s,sendBookingReminders:null===(d=t.sendBookingReminders)||void 0===d||d};console.log("\ud83d\udcdd Setting form data:",JSON.stringify(g,null,2)),be(g)}}});(0,K.H)(null!==ke&&void 0!==ke&&null!==(e=ke.calendar)&&void 0!==e&&e.name?"Edit ".concat(ke.calendar.name):"Edit Calendar");const{data:xe}=(0,m.IT)(ne),{data:ye}=(0,m.IT)(ie),{data:je}=(0,m.IT)(re),[Ce,{loading:ve}]=(0,u.n)(ee,{onCompleted:e=>{console.log("\u2705 ========== CALENDAR UPDATE SUCCEEDED =========="),console.log("\ud83d\udce5 Response from backend:",JSON.stringify(e,null,2)),console.log("\u2705 Calendar updated successfully:",e.updateCalendar),s({title:"Calendar updated",description:"".concat(e.updateCalendar.name," has been updated successfully"),status:"success",duration:3e3}),a("/calendars/".concat(e.updateCalendar.id))},onError:e=>{console.error("\u274c ========== CALENDAR UPDATE FAILED =========="),console.error("\u274c GraphQL Error:",e),console.error("\u274c Error message:",e.message),console.error("\u274c Network error:",e.networkError),console.error("\u274c GraphQL errors:",e.graphQLErrors),s({title:"Error updating calendar",description:e.message,status:"error",duration:5e3})}}),[Se,{loading:fe}]=(0,u.n)(oe,{onCompleted:()=>{s({title:"Calendar deleted",description:"The calendar has been deleted successfully",status:"success",duration:3e3}),a("/calendars/my")},onError:e=>{s({title:"Error deleting calendar",description:e.message,status:"error",duration:5e3})}}),Pe=e=>{const{name:o,value:n,type:i}=e.target;be(r=>(0,t.A)((0,t.A)({},r),{},{[o]:"checkbox"===i?e.target.checked:n}))},Ae=e=>o=>{be(n=>(0,t.A)((0,t.A)({},n),{},{[e]:o}))};return pe?(0,V.jsxs)(y.a,{bg:le,minH:"100vh",children:[(0,V.jsx)(W.m,{}),(0,V.jsx)(C.o,{h:"50vh",children:(0,V.jsxs)(F.T,{children:[(0,V.jsx)(R.y,{size:"xl",color:ce}),(0,V.jsx)(L.E,{color:"light"===g?"gray.900":de,children:"Loading calendar..."})]})}),(0,V.jsx)(q.n,{})]}):null!==ke&&void 0!==ke&&ke.calendar?(0,V.jsxs)(y.a,{bg:le,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,V.jsx)(W.m,{}),(0,V.jsx)(Q.y,{moduleConfig:Z.calendarsModuleConfig}),(0,V.jsx)(S.m,{maxW:"container.lg",py:8,flex:"1",children:(0,V.jsxs)(F.T,{spacing:6,align:"stretch",children:[(0,V.jsxs)(M.z,{justify:"space-between",mb:4,children:[(0,V.jsxs)(M.z,{spacing:4,children:[(0,V.jsx)(j.$,{leftIcon:(0,V.jsx)(H.g,{}),onClick:()=>a("/calendars/my"),variant:"ghost",color:ce,_hover:{bg:"rgba(59, 130, 246, 0.1)"},children:"Back"}),(0,V.jsx)(z.D,{size:"lg",color:"light"===g?"gray.900":de,children:"Edit Calendar"})]}),(0,V.jsxs)(x.E,{colorScheme:"blue",fontSize:"md",px:3,py:1,children:[(0,V.jsx)(N.C,{mr:2}),me.type]})]}),(0,V.jsx)(y.a,{as:"form",onSubmit:e=>{e.preventDefault(),console.log("\ud83d\ude80 ========== CALENDAR UPDATE STARTED =========="),console.log("\ud83d\udccb Current form data:",JSON.stringify(me,null,2));const o={name:me.name,description:me.description,type:me.type,color:me.color,emailAddress:me.emailAddress||void 0};o.settings={timezone:me.timezone,defaultReminderMinutes:me.defaultReminders?me.reminderMinutes:0,workingHoursStart:me.workingHoursStart,workingHoursEnd:me.workingHoursEnd,workingDays:me.workingDays},me.isShared&&(o.isPublic=me.publicRead),console.log("\ud83d\udcc5 Public Booking - allowPublicBooking:",me.allowPublicBooking),console.log("\ud83d\udcc5 Public Booking - bookingPageSlug:",me.bookingPageSlug),o.allowPublicBooking=me.allowPublicBooking,me.allowPublicBooking?(console.log("\u2705 Public booking is enabled, adding booking fields to input..."),o.bookingPageSlug=me.bookingPageSlug,o.bookingPageTitle=me.bookingPageTitle||void 0,o.bookingPageDescription=me.bookingPageDescription||void 0,o.bookingPageLogo=me.bookingPageLogo||void 0,o.sendBookingConfirmations=me.sendBookingConfirmations,o.sendBookingReminders=me.sendBookingReminders,console.log("\ud83d\udcdd Booking fields added:",{bookingPageSlug:o.bookingPageSlug,bookingPageTitle:o.bookingPageTitle,bookingPageDescription:o.bookingPageDescription,sendBookingConfirmations:o.sendBookingConfirmations,sendBookingReminders:o.sendBookingReminders})):(console.log("\u274c Public booking is disabled, clearing booking fields..."),o.bookingPageSlug=null,o.bookingPageTitle=null,o.bookingPageDescription=null,o.bookingPageLogo=null),console.log("\ud83d\udce4 Final mutation input being sent to backend:",JSON.stringify(o,null,2)),console.log("\ud83c\udfaf Calendar ID:",l),Ce({variables:{id:l,input:o}})},bg:ae,border:"1px solid",borderColor:"light"===g?"gray.300":se,borderRadius:"xl",p:b?4:8,children:(0,V.jsxs)(U.B,{spacing:6,children:[(0,V.jsxs)(y.a,{children:[(0,V.jsx)(z.D,{size:"md",color:"light"===g?"gray.900":de,mb:4,children:"Basic Information"}),(0,V.jsxs)(U.B,{spacing:4,children:[(0,V.jsxs)(P.MJ,{isRequired:!0,children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Calendar Name"}),(0,V.jsx)(w.p,{name:"name",value:me.name,onChange:Pe,placeholder:"Enter calendar name",bg:"light"===g?"white":"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_placeholder:{color:"light"===g?"gray.400":"gray.500"},_hover:{borderColor:ce},_focus:{borderColor:"light"===g?"#007AFF":"#3B82F6",boxShadow:"0 0 0 1px ".concat("light"===g?"#007AFF":"#3B82F6")}})]}),(0,V.jsxs)(P.MJ,{children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Description"}),(0,V.jsx)(J.T,{name:"description",value:me.description,onChange:Pe,placeholder:"Describe this calendar",bg:"light"===g?"white":"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_placeholder:{color:"light"===g?"gray.400":"gray.500"},_hover:{borderColor:ce},_focus:{borderColor:"light"===g?"#007AFF":"#3B82F6",boxShadow:"0 0 0 1px ".concat("light"===g?"#007AFF":"#3B82F6")}})]}),(0,V.jsxs)(P.MJ,{children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Email Integration"}),(0,V.jsxs)(T.l,{name:"emailAddress",value:me.emailAddress,onChange:Pe,placeholder:"Select an email address to link",bg:"light"===g?"white":"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce},_focus:{borderColor:"light"===g?"#007AFF":"#3B82F6",boxShadow:"0 0 0 1px ".concat("light"===g?"#007AFF":"#3B82F6")},children:[(0,V.jsx)("option",{value:"",children:"No email linked"}),null===je||void 0===je||null===(o=je.emailAddresses)||void 0===o||null===(n=o.filter(e=>{var o;return(null===(o=e.associatedClients)||void 0===o?void 0:o.length)>0}))||void 0===n?void 0:n.map(e=>(0,V.jsxs)("option",{value:e.email,children:[e.email,e.name&&e.name!==e.email?" (".concat(e.name,")"):""]},e.email))]}),(0,V.jsx)(P.eK,{color:ge,children:"Calendar invites sent to this email will automatically appear in this calendar. Only emails assigned to clients are available for linking."})]}),(0,V.jsxs)(M.z,{spacing:4,children:[(0,V.jsxs)(P.MJ,{flex:1,children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Type"}),(0,V.jsx)(T.l,{name:"type",value:me.type,onChange:Pe,bg:"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce},children:[{value:"BUSINESS",label:"Business Calendar"},{value:"EMAIL",label:"Email Integration"},{value:"COMPANY",label:"Company Calendar"},{value:"EMPLOYEE",label:"Employee Calendar"},{value:"PROJECT",label:"Project Calendar"},{value:"TEAM",label:"Team Calendar"}].map(e=>(0,V.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,V.jsxs)(P.MJ,{flex:1,children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Color"}),(0,V.jsx)(w.p,{type:"color",name:"color",value:me.color,onChange:Pe,h:"38px"})]})]})]})]}),(0,V.jsx)(f.c,{borderColor:"light"===g?"gray.300":se}),(0,V.jsxs)(y.a,{children:[(0,V.jsx)(z.D,{size:"md",color:"light"===g?"gray.900":de,mb:4,children:"Calendar Settings"}),(0,V.jsxs)(U.B,{spacing:4,children:[(0,V.jsxs)(P.MJ,{children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Timezone"}),(0,V.jsxs)(T.l,{name:"timezone",value:me.timezone,onChange:Pe,bg:"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce},children:[(0,V.jsx)("option",{value:"UTC",children:"UTC"}),(0,V.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,V.jsx)("option",{value:"America/Chicago",children:"Central Time"}),(0,V.jsx)("option",{value:"America/Denver",children:"Mountain Time"}),(0,V.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,V.jsx)("option",{value:"Europe/London",children:"London"}),(0,V.jsx)("option",{value:"Europe/Paris",children:"Paris"}),(0,V.jsx)("option",{value:"Asia/Tokyo",children:"Tokyo"}),(0,V.jsx)("option",{value:"Australia/Sydney",children:"Sydney"}),(0,V.jsx)("option",{value:"Australia/Brisbane",children:"Brisbane"})]})]}),(0,V.jsxs)(P.MJ,{display:"flex",alignItems:"center",children:[(0,V.jsx)(I.d,{id:"defaultReminders",isChecked:me.defaultReminders,onChange:e=>Ae("defaultReminders")(e.target.checked),colorScheme:"blue",mr:3}),(0,V.jsx)(A.l,{htmlFor:"defaultReminders",mb:0,color:"light"===g?"gray.900":de,children:"Enable default reminders"})]}),me.defaultReminders&&(0,V.jsxs)(P.MJ,{children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Reminder Time"}),(0,V.jsxs)(B.M,{children:[(0,V.jsx)(w.p,{type:"number",name:"reminderMinutes",value:me.reminderMinutes,onChange:Pe,bg:"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce}}),(0,V.jsx)(D.G6,{bg:"rgba(255, 255, 255, 0.1)",borderColor:"light"===g?"gray.300":se,color:te,children:"minutes before"})]})]}),(0,V.jsxs)(M.z,{spacing:4,children:[(0,V.jsxs)(P.MJ,{flex:1,children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Working Hours Start"}),(0,V.jsx)(w.p,{type:"time",name:"workingHoursStart",value:me.workingHoursStart,onChange:Pe,bg:"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce}})]}),(0,V.jsxs)(P.MJ,{flex:1,children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Working Hours End"}),(0,V.jsx)(w.p,{type:"time",name:"workingHoursEnd",value:me.workingHoursEnd,onChange:Pe,bg:"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce}})]})]}),(0,V.jsxs)(P.MJ,{children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Working Days"}),(0,V.jsx)(M.z,{wrap:"wrap",spacing:2,children:["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"].map(e=>(0,V.jsx)(j.$,{size:"sm",variant:me.workingDays.includes(e)?"solid":"outline",colorScheme:me.workingDays.includes(e)?"blue":"gray",onClick:()=>(e=>{be(o=>(0,t.A)((0,t.A)({},o),{},{workingDays:o.workingDays.includes(e)?o.workingDays.filter(o=>o!==e):[...o.workingDays,e]}))})(e),type:"button",children:e.slice(0,3)},e))})]})]})]}),(0,V.jsx)(f.c,{borderColor:"light"===g?"gray.300":se}),(0,V.jsxs)(y.a,{children:[(0,V.jsx)(z.D,{size:"md",color:"light"===g?"gray.900":de,mb:4,children:"Sharing Settings"}),(0,V.jsxs)(U.B,{spacing:4,children:[(0,V.jsxs)(P.MJ,{display:"flex",alignItems:"center",children:[(0,V.jsx)(I.d,{id:"isShared",isChecked:me.isShared,onChange:e=>Ae("isShared")(e.target.checked),colorScheme:"blue",mr:3}),(0,V.jsx)(A.l,{htmlFor:"isShared",mb:0,color:"light"===g?"gray.900":de,children:"Make this calendar public"})]}),me.isShared&&(0,V.jsxs)(k.F,{status:"info",bg:"rgba(59, 130, 246, 0.1)",borderColor:ue,children:[(0,V.jsx)(p._,{color:ue}),(0,V.jsx)(L.E,{color:"light"===g?"gray.900":de,children:"Public calendars can be viewed by anyone with the link"})]})]})]}),(0,V.jsx)(f.c,{borderColor:"light"===g?"gray.300":se}),(0,V.jsxs)(y.a,{children:[(0,V.jsx)(z.D,{size:"md",color:"light"===g?"gray.900":de,mb:4,children:"\ud83d\udcc5 Public Booking Settings"}),(0,V.jsxs)(U.B,{spacing:4,children:[(0,V.jsxs)(P.MJ,{display:"flex",alignItems:"center",children:[(0,V.jsx)(I.d,{id:"allowPublicBooking",isChecked:me.allowPublicBooking,onChange:e=>Ae("allowPublicBooking")(e.target.checked),colorScheme:"purple",mr:3}),(0,V.jsx)(A.l,{htmlFor:"allowPublicBooking",mb:0,color:"light"===g?"gray.900":de,children:"Allow Public Booking (Calendly-style)"})]}),me.allowPublicBooking&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(k.F,{status:"info",bg:"rgba(147, 51, 234, 0.1)",borderColor:"purple.500",children:[(0,V.jsx)(p._,{color:"purple.500"}),(0,V.jsx)(L.E,{color:"light"===g?"gray.900":de,children:"Enable public booking to let visitors book time with you via a public URL"})]}),(0,V.jsxs)(P.MJ,{isRequired:!0,children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Booking Page Slug"}),(0,V.jsxs)(B.M,{children:[(0,V.jsx)(D.G6,{bg:"rgba(255, 255, 255, 0.1)",borderColor:"light"===g?"gray.300":se,color:te,children:"/book/"}),(0,V.jsx)(w.p,{name:"bookingPageSlug",placeholder:"your-name",value:me.bookingPageSlug||"",onChange:Pe,bg:"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce}})]}),(0,V.jsx)(P.eK,{color:te,children:'Example: "john-smith" becomes /book/john-smith'})]}),me.bookingPageSlug&&(0,V.jsxs)(y.a,{children:[(0,V.jsx)(j.$,{leftIcon:(0,V.jsx)(O.nxz,{}),colorScheme:"blue",variant:"outline",size:"md",width:"full",onClick:()=>{const e="".concat(window.location.origin,"/book/").concat(me.bookingPageSlug);navigator.clipboard.writeText(e).then(()=>{s({title:"Booking URL copied!",description:"Copied: ".concat(e),status:"success",duration:3e3,isClosable:!0})}).catch(e=>{console.error("Failed to copy:",e),s({title:"Failed to copy",description:"Please try again",status:"error",duration:3e3,isClosable:!0})})},children:"\ud83d\udccb Copy Booking URL"}),(0,V.jsxs)(L.E,{fontSize:"xs",color:te,mt:2,textAlign:"center",children:[window.location.origin,"/book/",me.bookingPageSlug]})]}),(0,V.jsxs)(P.MJ,{children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Booking Page Title"}),(0,V.jsx)(w.p,{name:"bookingPageTitle",placeholder:"Book time with John Smith",value:me.bookingPageTitle||"",onChange:Pe,bg:"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce}})]}),(0,V.jsxs)(P.MJ,{children:[(0,V.jsx)(A.l,{color:"light"===g?"gray.900":de,children:"Booking Page Description"}),(0,V.jsx)(J.T,{name:"bookingPageDescription",placeholder:"Choose a time that works for you...",value:me.bookingPageDescription||"",onChange:Pe,bg:"rgba(255, 255, 255, 0.05)",borderColor:"light"===g?"gray.300":se,color:"light"===g?"gray.900":de,_hover:{borderColor:ce},rows:3})]}),(0,V.jsxs)(M.z,{spacing:4,children:[(0,V.jsxs)(P.MJ,{display:"flex",alignItems:"center",children:[(0,V.jsx)(I.d,{id:"sendBookingConfirmations",isChecked:null===(i=me.sendBookingConfirmations)||void 0===i||i,onChange:e=>Ae("sendBookingConfirmations")(e.target.checked),colorScheme:"purple",mr:3}),(0,V.jsx)(A.l,{htmlFor:"sendBookingConfirmations",mb:0,color:"light"===g?"gray.900":de,children:"Send confirmation emails"})]}),(0,V.jsxs)(P.MJ,{display:"flex",alignItems:"center",children:[(0,V.jsx)(I.d,{id:"sendBookingReminders",isChecked:null===(r=me.sendBookingReminders)||void 0===r||r,onChange:e=>Ae("sendBookingReminders")(e.target.checked),colorScheme:"purple",mr:3}),(0,V.jsx)(A.l,{htmlFor:"sendBookingReminders",mb:0,color:"light"===g?"gray.900":de,children:"Send reminder emails"})]})]})]})]})]}),(0,V.jsxs)(M.z,{justify:"space-between",pt:4,children:[(0,V.jsx)(j.$,{colorScheme:"red",variant:"outline",onClick:()=>{window.confirm("Are you sure you want to delete this calendar? This action cannot be undone.")&&Se({variables:{id:l}})},isLoading:fe,loadingText:"Deleting...",children:"Delete Calendar"}),(0,V.jsxs)(M.z,{children:[(0,V.jsx)(j.$,{variant:"ghost",onClick:()=>a("/calendars/".concat(l)),color:te,_hover:{bg:"rgba(255, 255, 255, 0.1)"},children:"Cancel"}),(0,V.jsx)(j.$,{type:"submit",colorScheme:"blue",bg:ce,_hover:{bg:he},isLoading:ve,loadingText:"Updating...",leftIcon:(0,V.jsx)(Y.S,{}),children:"Update Calendar"})]})]})]})})]})}),(0,V.jsx)(q.n,{})]}):(0,V.jsxs)(y.a,{bg:le,minH:"100vh",children:[(0,V.jsx)(W.m,{}),(0,V.jsx)(Q.y,{moduleConfig:Z.calendarsModuleConfig}),(0,V.jsx)(S.m,{maxW:"container.xl",py:8,children:(0,V.jsxs)(k.F,{status:"error",children:[(0,V.jsx)(p._,{}),"Calendar not found"]})}),(0,V.jsx)(q.n,{})]})}}}]);
//# sourceMappingURL=9905.3c297c5d.chunk.js.map