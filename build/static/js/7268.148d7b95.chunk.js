"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[7268],{13191:(e,n,o)=>{o.d(n,{k:()=>c});var r=o(89379),i=o(70579),s=o(64765),l=o(55003),a=o(77971);const c=(0,l.R)(function(e,n){return(0,i.jsx)(a.B.div,(0,r.A)((0,r.A)({},e),{},{ref:n,role:"group",className:(0,s.cx)("chakra-stat__group",e.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))});c.displayName="StatGroup"},47268:(e,n,o)=>{o.r(n),o.d(n,{default:()=>Z});var r,i,s=o(57528),l=o(65043),a=o(10585),c=o(70459),t=o(87139),d=o(22107),x=o(98662),h=o(42703),p=o(83169),g=o(24330),b=o(26201),j=o(68659),u=o(34946),m=o(44093),f=o(98939),y=o(82459),k=o(5371),S=o(73212),w=o(25011),C=o(76659),v=o(96148),z=o(10202),E=o(94217),P=o(13191),I=o(53332),T=o(78149),A=o(30502),_=o(47726),R=o(28846),M=o(39081),W=o(39985),D=o(1009),O=o(73216),U=o(52003),F=o(63295),B=o(66037),L=o(95214),$=o(60319),N=o(70579);const H=(0,c.J1)(r||(r=(0,s.A)(["\n    query Me {\n        me {\n            id\n            fName\n            lName\n            email\n        }\n    }\n"]))),K=(0,c.J1)(i||(i=(0,s.A)(["\n    query MyCalendars {\n        myCalendars {\n            id\n            name\n            type\n            description\n            responsibleOwnerId\n            linkedEmailAddressId\n            createdAt\n            updatedAt\n            lastEventAt\n            eventCount\n            allowPublicBooking\n            bookingPageSlug\n        }\n    }\n"]))),Z=()=>{const e=(0,O.Zp)(),n=(0,A.d)(),{colorMode:o}=(0,m.G6)(),[r,i]=(0,l.useState)(new Set),s=(0,W.oU)("background.main",o),c=(0,W.oU)("background.cardGradient",o),Z=(0,W.oU)("border.darkCard",o),G=(0,W.oU)("light"===o?"text.primary":"text.primaryDark",o),Y=(0,W.oU)("light"===o?"text.secondary":"text.secondaryDark",o),J=(0,W.oU)("light"===o?"text.muted":"text.mutedDark",o),q=(0,W.oU)("primary",o),V=(0,W.oU)("primaryHover",o),X=(0,W.oU)("status.success",o),Q=(0,W.oU)("secondary",o),{data:ee}=(0,a.IT)(H),ne=null===ee||void 0===ee?void 0:ee.me,{loading:oe,error:re,data:ie,refetch:se}=(0,a.IT)(K,{fetchPolicy:"cache-and-network"});(0,B.H)("My Calendars");const le=e=>e.responsibleOwnerId===(null===ne||void 0===ne?void 0:ne.id),ae=e=>{switch(e){case"PERSONAL":return"purple";case"TEAM":return"blue";case"CLIENT":return"green";case"SHARED":return"orange";default:return"gray"}},ce=e=>{if(!e)return"No events yet";const n=new Date(e),o=Math.floor((Date.now()-n.getTime())/864e5);if(0===o)return"Event today";if(1===o)return"Event yesterday";if(o<7)return"Last event ".concat(o," days ago");if(o<30){const e=Math.floor(o/7);return"Last event ".concat(e," week").concat(e>1?"s":""," ago")}{const e=Math.floor(o/30);return"Last event ".concat(e," month").concat(e>1?"s":""," ago")}},te=e=>{i(n=>{const o=new Set(n);return o.has(e)?o.delete(e):o.add(e),o})},de=e=>{const o="".concat(window.location.origin,"/book/").concat(e);navigator.clipboard.writeText(o).then(()=>{n({title:"Booking URL copied!",description:"Copied: ".concat(o),status:"success",duration:3e3,isClosable:!0})}).catch(e=>{console.error("Failed to copy:",e),n({title:"Failed to copy",description:"Please try again",status:"error",duration:3e3,isClosable:!0})})};if(oe)return(0,N.jsxs)(d.a,{bg:s,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,N.jsx)(U.m,{}),(0,N.jsx)(L.y,{moduleConfig:$.calendarsModuleConfig}),(0,N.jsx)(f.m,{maxW:"container.xl",py:8,flex:"1",children:(0,N.jsx)(j.o,{py:20,children:(0,N.jsxs)(z.T,{spacing:4,children:[(0,N.jsx)(C.y,{size:"xl",color:q}),(0,N.jsx)(M.E,{color:Y,children:"Loading calendars..."})]})})}),(0,N.jsx)(F.n,{})]});if(re)return(0,N.jsxs)(d.a,{bg:s,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,N.jsx)(U.m,{}),(0,N.jsx)(L.y,{moduleConfig:$.calendarsModuleConfig}),(0,N.jsx)(f.m,{maxW:"container.xl",py:8,flex:"1",children:(0,N.jsx)(j.o,{py:20,children:(0,N.jsxs)(z.T,{spacing:4,children:[(0,N.jsx)(M.E,{color:"red.500",children:"Error loading calendars"}),(0,N.jsx)(x.$,{onClick:()=>se(),colorScheme:"blue",children:"Try Again"})]})})}),(0,N.jsx)(F.n,{})]});const xe=(null===ie||void 0===ie?void 0:ie.myCalendars)||[],he=xe.filter(e=>le(e)),pe=xe.filter(e=>!le(e));return(0,N.jsxs)(d.a,{bg:s,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,N.jsx)(U.m,{}),(0,N.jsx)(L.y,{moduleConfig:$.calendarsModuleConfig}),(0,N.jsx)(f.m,{maxW:"container.xl",py:8,flex:"1",children:(0,N.jsxs)(z.T,{spacing:8,align:"stretch",children:[(0,N.jsx)(p.Z,{bg:c,backdropFilter:"blur(20px)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",border:"1px solid",borderColor:Z,borderRadius:"xl",children:(0,N.jsx)(g.b,{p:8,children:(0,N.jsxs)(k.s,{justify:"space-between",align:"start",wrap:"wrap",gap:4,children:[(0,N.jsxs)(z.T,{align:"start",spacing:3,children:[(0,N.jsx)(R.D,{size:"2xl",color:G,fontFamily:W.Kk.fonts.heading,fontWeight:"bold",letterSpacing:"tight",children:"My Calendars"}),(0,N.jsx)(M.E,{color:Y,fontSize:"lg",fontFamily:W.Kk.fonts.body,children:"Manage your personal and shared calendars"})]}),r.size>0&&(0,N.jsxs)(z.T,{align:"end",spacing:2,children:[(0,N.jsxs)(x.$,{leftIcon:(0,N.jsx)(D.Vap,{}),colorScheme:"purple",onClick:()=>{if(0===r.size)return void n({title:"No calendars selected",description:"Please select at least one calendar to view",status:"warning",duration:3e3,isClosable:!0});const e=Array.from(r).join(","),o="/calendars/view?calendars=".concat(e);window.open(o,"_blank"),i(new Set)},size:"lg",children:["View ",r.size," Calendar",1!==r.size?"s":""]}),(0,N.jsx)(x.$,{size:"sm",variant:"ghost",onClick:()=>{i(new Set)},color:Y,children:"Clear Selection"})]})]})})}),(0,N.jsx)(p.Z,{bg:c,backdropFilter:"blur(20px)",boxShadow:"0 4px 16px 0 rgba(31, 38, 135, 0.2)",border:"1px solid",borderColor:Z,borderRadius:"xl",children:(0,N.jsx)(g.b,{p:6,children:(0,N.jsxs)(P.k,{children:[(0,N.jsxs)(E.r,{children:[(0,N.jsx)(I.v,{color:J,fontSize:"sm",fontWeight:"medium",children:"Total Calendars"}),(0,N.jsx)(T.k,{color:G,fontSize:"3xl",fontWeight:"bold",children:xe.length})]}),(0,N.jsxs)(E.r,{children:[(0,N.jsx)(I.v,{color:J,fontSize:"sm",fontWeight:"medium",children:"Primary Calendars"}),(0,N.jsx)(T.k,{color:q,fontSize:"3xl",fontWeight:"bold",children:he.length})]}),(0,N.jsxs)(E.r,{children:[(0,N.jsx)(I.v,{color:J,fontSize:"sm",fontWeight:"medium",children:"Shared With Me"}),(0,N.jsx)(T.k,{color:X,fontSize:"3xl",fontWeight:"bold",children:pe.length})]})]})})}),he.length>0&&(0,N.jsxs)(d.a,{children:[(0,N.jsx)(R.D,{size:"lg",color:G,mb:4,fontFamily:W.Kk.fonts.heading,fontWeight:"semibold",children:(0,N.jsxs)(v.z,{spacing:3,children:[(0,N.jsx)(w.I,{as:D.usP,color:q,boxSize:6}),(0,N.jsx)(M.E,{children:"My Primary Calendars"})]})}),(0,N.jsx)(S.r,{columns:{base:1,md:2,lg:3},spacing:4,children:he.map(n=>(0,N.jsxs)(p.Z,{bg:c,backdropFilter:"blur(20px)",border:"1px solid",borderColor:Z,borderRadius:"xl",boxShadow:"0 4px 16px 0 rgba(31, 38, 135, 0.15)",_hover:{transform:"translateY(-4px) scale(1.01)",boxShadow:"0 10px 30px rgba(31, 38, 135, 0.3)",cursor:"pointer",borderColor:q},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",children:[(0,N.jsx)(d.a,{position:"absolute",top:3,left:3,zIndex:2,onClick:e=>e.stopPropagation(),children:(0,N.jsx)(u.S,{isChecked:r.has(n.id),onChange:()=>te(n.id),colorScheme:"purple",size:"lg",bg:c,borderRadius:"md",p:1})}),(0,N.jsxs)(d.a,{onClick:()=>window.open("/calendars/".concat(n.id,"/view"),"_blank"),cursor:"pointer",children:[(0,N.jsx)(b.a,{pb:2,pl:14,children:(0,N.jsxs)(k.s,{justify:"space-between",align:"start",children:[(0,N.jsxs)(z.T,{align:"start",spacing:1,children:[(0,N.jsx)(R.D,{size:"sm",color:G,children:n.name}),(0,N.jsxs)(v.z,{spacing:2,children:[(0,N.jsx)(t.E,{colorScheme:ae(n.type),children:n.type}),(0,N.jsx)(t.E,{colorScheme:"blue",variant:"outline",children:"PRIMARY"}),n.allowPublicBooking&&(0,N.jsx)(t.E,{colorScheme:"green",variant:"solid",children:"\ud83d\udcc5 PUBLIC BOOKING"})]})]}),(0,N.jsx)(_.m,{label:"Open Calendar",children:(0,N.jsx)(h.K,{"aria-label":"Open Calendar",icon:(0,N.jsx)(D.HaR,{}),size:"sm",variant:"ghost",color:Y,_hover:{bg:"rgba(255, 255, 255, 0.1)",color:q},onClick:e=>{e.stopPropagation(),window.open("/calendars/".concat(n.id,"/view"),"_blank")}})})]})}),(0,N.jsx)(g.b,{pt:2,children:(0,N.jsxs)(z.T,{align:"start",spacing:3,children:[n.description&&(0,N.jsx)(M.E,{fontSize:"sm",color:Y,noOfLines:2,children:n.description}),(0,N.jsxs)(z.T,{align:"start",spacing:2,w:"full",children:[(0,N.jsxs)(v.z,{children:[(0,N.jsx)(w.I,{as:D.wIk,color:Y,boxSize:4}),(0,N.jsxs)(M.E,{fontSize:"sm",color:Y,children:[n.eventCount||0," events"]})]}),(0,N.jsxs)(v.z,{children:[(0,N.jsx)(w.I,{as:D.Ohp,color:Y,boxSize:4}),(0,N.jsx)(M.E,{fontSize:"sm",color:Y,children:ce(n.lastEventAt)})]})]}),(0,N.jsx)(y.c,{my:2}),(0,N.jsxs)(v.z,{spacing:2,w:"full",children:[(0,N.jsx)(x.$,{size:"sm",variant:"outline",colorScheme:"blue",flex:1,onClick:o=>{o.stopPropagation(),e("/calendars/".concat(n.id,"/edit"))},children:"Edit"}),n.allowPublicBooking&&(0,N.jsx)(x.$,{size:"sm",colorScheme:"purple",flex:1,onClick:o=>{o.stopPropagation(),e("/calendars/".concat(n.id,"/event-types"))},children:"Event Types"})]}),n.allowPublicBooking&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(x.$,{size:"sm",variant:"outline",colorScheme:"green",w:"full",leftIcon:(0,N.jsx)(D.Ohp,{}),onClick:o=>{o.stopPropagation(),e("/calendars/".concat(n.id,"/availability"))},children:"\u23f0 Set Availability"}),n.bookingPageSlug&&(0,N.jsx)(x.$,{size:"sm",colorScheme:"blue",w:"full",leftIcon:(0,N.jsx)(D.nxz,{}),onClick:e=>{e.stopPropagation(),de(n.bookingPageSlug)},children:"\ud83d\udccb Copy Booking URL"})]})]})})]})]},n.id))})]}),pe.length>0&&(0,N.jsxs)(d.a,{children:[(0,N.jsx)(R.D,{size:"lg",color:G,mb:4,fontFamily:W.Kk.fonts.heading,fontWeight:"semibold",children:(0,N.jsxs)(v.z,{spacing:3,children:[(0,N.jsx)(w.I,{as:D.JXP,color:Q,boxSize:6}),(0,N.jsx)(M.E,{children:"Shared With Me"})]})}),(0,N.jsx)(S.r,{columns:{base:1,md:2,lg:3},spacing:4,children:pe.map(n=>(0,N.jsxs)(p.Z,{bg:c,backdropFilter:"blur(20px)",border:"1px solid",borderColor:Z,borderRadius:"xl",boxShadow:"0 4px 16px 0 rgba(31, 38, 135, 0.15)",_hover:{transform:"translateY(-4px) scale(1.01)",boxShadow:"0 10px 30px rgba(31, 38, 135, 0.3)",cursor:"pointer",borderColor:q},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",children:[(0,N.jsx)(d.a,{position:"absolute",top:3,left:3,zIndex:2,onClick:e=>e.stopPropagation(),children:(0,N.jsx)(u.S,{isChecked:r.has(n.id),onChange:()=>te(n.id),colorScheme:"purple",size:"lg",bg:c,borderRadius:"md",p:1})}),(0,N.jsxs)(d.a,{onClick:()=>window.open("/calendars/".concat(n.id,"/view"),"_blank"),cursor:"pointer",children:[(0,N.jsx)(b.a,{pb:2,pl:14,children:(0,N.jsxs)(k.s,{justify:"space-between",align:"start",children:[(0,N.jsxs)(z.T,{align:"start",spacing:1,children:[(0,N.jsx)(R.D,{size:"sm",color:G,children:n.name}),(0,N.jsxs)(v.z,{spacing:2,children:[(0,N.jsx)(t.E,{colorScheme:ae(n.type),children:n.type}),(0,N.jsx)(t.E,{colorScheme:"orange",variant:"outline",children:"SHARED"})]})]}),(0,N.jsx)(_.m,{label:"Open Calendar",children:(0,N.jsx)(h.K,{"aria-label":"Open Calendar",icon:(0,N.jsx)(D.HaR,{}),size:"sm",variant:"ghost",color:Y,_hover:{bg:"rgba(255, 255, 255, 0.1)",color:q},onClick:e=>{e.stopPropagation(),window.open("/calendars/".concat(n.id,"/view"),"_blank")}})})]})}),(0,N.jsx)(g.b,{pt:2,children:(0,N.jsxs)(z.T,{align:"start",spacing:3,children:[n.description&&(0,N.jsx)(M.E,{fontSize:"sm",color:Y,noOfLines:2,children:n.description}),(0,N.jsxs)(z.T,{align:"start",spacing:2,w:"full",children:[(0,N.jsxs)(v.z,{children:[(0,N.jsx)(w.I,{as:D.wIk,color:Y,boxSize:4}),(0,N.jsxs)(M.E,{fontSize:"sm",color:Y,children:[n.eventCount||0," events"]})]}),(0,N.jsxs)(v.z,{children:[(0,N.jsx)(w.I,{as:D.Ohp,color:Y,boxSize:4}),(0,N.jsx)(M.E,{fontSize:"sm",color:Y,children:ce(n.lastEventAt)})]})]}),(0,N.jsx)(y.c,{my:2}),(0,N.jsxs)(v.z,{spacing:2,w:"full",children:[(0,N.jsx)(x.$,{size:"sm",variant:"outline",colorScheme:"blue",flex:1,onClick:o=>{o.stopPropagation(),e("/calendars/".concat(n.id,"/edit"))},children:"Edit"}),n.allowPublicBooking&&(0,N.jsx)(x.$,{size:"sm",colorScheme:"purple",flex:1,onClick:o=>{o.stopPropagation(),e("/calendars/".concat(n.id,"/event-types"))},children:"Event Types"})]}),n.allowPublicBooking&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(x.$,{size:"sm",variant:"outline",colorScheme:"green",w:"full",leftIcon:(0,N.jsx)(D.Ohp,{}),onClick:o=>{o.stopPropagation(),e("/calendars/".concat(n.id,"/availability"))},children:"\u23f0 Set Availability"}),n.bookingPageSlug&&(0,N.jsx)(x.$,{size:"sm",colorScheme:"blue",w:"full",leftIcon:(0,N.jsx)(D.nxz,{}),onClick:e=>{e.stopPropagation(),de(n.bookingPageSlug)},children:"\ud83d\udccb Copy Booking URL"})]})]})})]})]},n.id))})]}),0===xe.length&&(0,N.jsx)(p.Z,{bg:c,backdropFilter:"blur(20px)",boxShadow:"0 4px 16px 0 rgba(31, 38, 135, 0.2)",border:"1px solid",borderColor:Z,borderRadius:"xl",children:(0,N.jsx)(g.b,{children:(0,N.jsx)(j.o,{py:12,children:(0,N.jsxs)(z.T,{spacing:4,children:[(0,N.jsx)(w.I,{as:D.wIk,boxSize:12,color:Y}),(0,N.jsx)(M.E,{fontSize:"lg",color:Y,children:"No calendars found"}),(0,N.jsx)(M.E,{fontSize:"sm",color:Y,textAlign:"center",children:"You don't have any calendars assigned to you yet."}),(0,N.jsx)(x.$,{bg:q,color:"white",_hover:{bg:V},leftIcon:(0,N.jsx)(D.wIk,{}),onClick:()=>e("/calendars/admin"),size:"lg",borderRadius:"md",fontWeight:"medium",px:6,children:"Manage Calendars"})]})})})})]})}),(0,N.jsx)(F.n,{})]})}}}]);
//# sourceMappingURL=7268.148d7b95.chunk.js.map