"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[2416],{92416:(e,i,s)=>{s.r(i),s.d(i,{default:()=>K});var l,t=s(89379),n=s(57528),o=s(65043),r=s(88787),d=s(85871),a=s(87139),c=s(22107),u=s(98662),h=s(42703),p=s(83169),x=s(24330),j=s(26201),g=s(44093),v=s(98939),f=s(73225),m=s(76668),b=s(35699),y=s(7189),P=s(57371),S=s(96148),C=s(10202),z=s(98481),w=s(48239),k=s(19077),I=s(30502),V=s(28846),U=s(39081),A=s(58861),M=s(1009),F=s(73216),T=s(31881),E=s(70459),$=s(52003),H=s(63295),R=s(95214),B=s(93128),D=s(66037),_=s(70579);const J=(0,E.J1)(l||(l=(0,n.A)(["\n  mutation UploadVideoToIPFS($file: Upload!, $input: IPFSVideoInput!) {\n    uploadVideoToIPFS(file: $file, input: $input) {\n      id\n      title\n      description\n      ipfsHash\n      ipfsUrl\n      fileSize\n      mimeType\n      tags\n      isPublic\n      createdAt\n    }\n  }\n"]))),K=()=>{(0,D.H)("Upload Video");const e=(0,F.Zp)(),i=(0,I.d)(),s=(0,o.useRef)(null),l=(0,g.dU)("gray.50","gray.900"),n=(0,g.dU)("white","gray.800"),[E,K]=(0,o.useState)(null),[G,q]=(0,o.useState)(null),[W,L]=(0,o.useState)({title:"",description:"",tags:[],isPublic:!0}),[N,O]=(0,o.useState)(""),[Q,Y]=(0,o.useState)(!1),[Z,X]=(0,o.useState)(0),[ee,ie]=(0,o.useState)(null),[se]=(0,T.n)(J,{onCompleted:e=>{console.log("Upload completed:",e),ie(e.uploadVideoToIPFS),X(100),i({title:"Video uploaded successfully!",description:"Your video has been uploaded to IPFS",status:"success",duration:5e3,isClosable:!0}),K(null),q(null),L({title:"",description:"",tags:[],isPublic:!0})},onError:e=>{console.error("Upload error:",e),i({title:"Upload failed",description:e.message,status:"error",duration:5e3,isClosable:!0}),Y(!1),X(0)}}),le=()=>{N.trim()&&!W.tags.includes(N.trim())&&(L(e=>(0,t.A)((0,t.A)({},e),{},{tags:[...e.tags,N.trim()]})),O(""))};return(0,_.jsxs)(c.a,{bg:l,minH:"100vh",children:[(0,_.jsx)($.m,{}),(0,_.jsx)(R.y,{moduleConfig:B.default}),(0,_.jsx)(v.m,{maxW:"4xl",py:8,children:(0,_.jsxs)(C.T,{spacing:6,align:"stretch",children:[(0,_.jsxs)(S.z,{justify:"space-between",children:[(0,_.jsxs)(C.T,{align:"start",spacing:1,children:[(0,_.jsx)(V.D,{size:"lg",children:"Upload Video to IPFS"}),(0,_.jsx)(U.E,{color:"gray.600",children:"Upload your videos to the decentralized web"})]}),(0,_.jsx)(u.$,{leftIcon:(0,_.jsx)(M.pVQ,{}),onClick:()=>e("/youtubetoipfs"),variant:"outline",children:"My Videos"})]}),(0,_.jsxs)(p.Z,{bg:n,children:[(0,_.jsx)(j.a,{children:(0,_.jsx)(U.E,{fontWeight:"bold",children:"Video Upload"})}),(0,_.jsx)(x.b,{children:(0,_.jsxs)(C.T,{spacing:6,align:"stretch",children:[(0,_.jsxs)(f.MJ,{children:[(0,_.jsx)(m.l,{children:"Select Video File"}),(0,_.jsx)(b.p,{ref:s,type:"file",accept:"video/mp4,video/mpeg,video/quicktime,video/x-msvideo",onChange:e=>{var s;const l=null===(s=e.target.files)||void 0===s?void 0:s[0];if(l){if(!["video/mp4","video/mpeg","video/quicktime","video/x-msvideo"].includes(l.type))return void i({title:"Invalid file type",description:"Please select an MP4, MPEG, MOV, or AVI video file",status:"error",duration:3e3});const e=524288e3;if(l.size>e)return void i({title:"File too large",description:"File size (".concat((l.size/1024/1024).toFixed(2),"MB) exceeds the 500MB limit"),status:"error",duration:3e3});K(l);const s=URL.createObjectURL(l);if(q(s),!W.title){const e=l.name.replace(/\.[^/.]+$/,"");L(i=>(0,t.A)((0,t.A)({},i),{},{title:e}))}}},display:"none"}),(0,_.jsx)(u.$,{leftIcon:(0,_.jsx)(M.B88,{}),onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()},colorScheme:"blue",size:"lg",w:"full",children:"Choose Video File"}),(0,_.jsx)(f.eK,{children:"Supported formats: MP4, MPEG, MOV, AVI (Max 500MB)"})]}),E&&G&&(0,_.jsxs)(c.a,{children:[(0,_.jsxs)(S.z,{justify:"space-between",mb:2,children:[(0,_.jsx)(U.E,{fontWeight:"medium",children:"Preview"}),(0,_.jsx)(h.K,{icon:(0,_.jsx)(M.yGN,{}),"aria-label":"Remove video",size:"sm",variant:"ghost",onClick:()=>{K(null),q(null)}})]}),(0,_.jsx)(c.a,{borderRadius:"md",overflow:"hidden",border:"1px solid",borderColor:"gray.200",children:(0,_.jsxs)("video",{controls:!0,width:"100%",style:{maxHeight:"400px"},children:[(0,_.jsx)("source",{src:G,type:E.type}),"Your browser does not support the video tag."]})}),(0,_.jsxs)(U.E,{fontSize:"sm",color:"gray.600",mt:2,children:["File: ",E.name," (",(E.size/1024/1024).toFixed(2)," MB)"]})]}),(0,_.jsxs)(f.MJ,{isRequired:!0,children:[(0,_.jsx)(m.l,{children:"Title"}),(0,_.jsx)(b.p,{value:W.title,onChange:e=>L(i=>(0,t.A)((0,t.A)({},i),{},{title:e.target.value})),placeholder:"Enter video title"})]}),(0,_.jsxs)(f.MJ,{children:[(0,_.jsx)(m.l,{children:"Description"}),(0,_.jsx)(k.T,{value:W.description,onChange:e=>L(i=>(0,t.A)((0,t.A)({},i),{},{description:e.target.value})),placeholder:"Describe your video (optional)",rows:4})]}),(0,_.jsxs)(f.MJ,{children:[(0,_.jsx)(m.l,{children:"Tags"}),(0,_.jsxs)(S.z,{children:[(0,_.jsx)(b.p,{value:N,onChange:e=>O(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),le()),placeholder:"Add tags"}),(0,_.jsx)(h.K,{icon:(0,_.jsx)(M.GGD,{}),"aria-label":"Add tag",onClick:le})]}),W.tags.length>0&&(0,_.jsx)(A.B,{mt:2,children:W.tags.map(e=>(0,_.jsx)(A.Q,{children:(0,_.jsxs)(w.vw,{colorScheme:"blue",children:[(0,_.jsx)(w.d1,{children:e}),(0,_.jsx)(w.TV,{onClick:()=>{return i=e,void L(e=>(0,t.A)((0,t.A)({},e),{},{tags:e.tags.filter(e=>e!==i)}));var i}})]})},e))})]}),(0,_.jsx)(f.MJ,{children:(0,_.jsxs)(S.z,{justify:"space-between",children:[(0,_.jsxs)(c.a,{children:[(0,_.jsx)(m.l,{mb:0,children:"Make Public"}),(0,_.jsx)(f.eK,{mt:0,children:"Public videos can be viewed by anyone with the link"})]}),(0,_.jsx)(z.d,{isChecked:W.isPublic,onChange:e=>L(i=>(0,t.A)((0,t.A)({},i),{},{isPublic:e.target.checked})),colorScheme:"blue"})]})}),Q&&(0,_.jsxs)(c.a,{children:[(0,_.jsxs)(U.E,{mb:2,children:["Uploading... ",Z,"%"]}),(0,_.jsx)(P.k,{value:Z,colorScheme:"blue",size:"sm"})]}),(0,_.jsx)(u.$,{colorScheme:"blue",size:"lg",onClick:async()=>{if(!E)return void i({title:"No file selected",description:"Please select a video file to upload",status:"warning",duration:3e3});if(!W.title.trim())return void i({title:"Title required",description:"Please enter a title for your video",status:"warning",duration:3e3});Y(!0),X(0);const e=setInterval(()=>{X(i=>i>=90?(clearInterval(e),i):i+10)},500);try{await se({variables:{file:E,input:{title:W.title,description:W.description,tags:W.tags,isPublic:W.isPublic}}}),clearInterval(e)}catch(s){clearInterval(e),console.error("Upload error:",s)}finally{Y(!1)}},isLoading:Q,loadingText:"Uploading...",isDisabled:!E||!W.title.trim(),leftIcon:(0,_.jsx)(M.B88,{}),children:"Upload to IPFS"})]})})]}),ee&&(0,_.jsxs)(r.F,{status:"success",borderRadius:"md",children:[(0,_.jsx)(d._,{}),(0,_.jsxs)(c.a,{flex:"1",children:[(0,_.jsx)(U.E,{fontWeight:"bold",children:"Video uploaded successfully!"}),(0,_.jsxs)(C.T,{align:"start",spacing:2,mt:2,children:[(0,_.jsxs)(S.z,{children:[(0,_.jsx)(U.E,{fontSize:"sm",children:"IPFS Hash:"}),(0,_.jsx)(a.E,{children:ee.ipfsHash}),(0,_.jsx)(h.K,{icon:(0,_.jsx)(M.nxz,{}),"aria-label":"Copy hash",size:"xs",variant:"ghost",onClick:()=>{return e=ee.ipfsHash,navigator.clipboard.writeText(e),void i({title:"Copied to clipboard",status:"success",duration:2e3});var e}})]}),(0,_.jsxs)(S.z,{children:[(0,_.jsxs)(y.N,{href:ee.ipfsUrl,isExternal:!0,color:"blue.500",fontSize:"sm",children:["View on IPFS ",(0,_.jsx)(M.HaR,{style:{display:"inline"}})]}),(0,_.jsx)(u.$,{size:"sm",variant:"outline",onClick:()=>e("/youtubetoipfs/video/".concat(ee.id)),children:"View Details"})]})]})]})]})]})}),(0,_.jsx)(H.n,{})]})}}}]);
//# sourceMappingURL=2416.ff535700.chunk.js.map