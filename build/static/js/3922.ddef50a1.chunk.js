"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[3922],{43922:(e,r,o)=>{o.r(r),o.d(r,{default:()=>Q});var i,t,n,s=o(57528),a=o(65043),l=o(88787),d=o(85871),c=o(22107),u=o(98662),g=o(96351),h=o(42703),p=o(83169),x=o(24330),b=o(26201),m=o(44093),j=o(98939),f=o(82459),y=o(73225),S=o(76668),v=o(35699),w=o(88019),C=o(76659),z=o(96148),k=o(10202),M=o(14566),_=o(31411),D=o(10227),R=o(51794),A=o(3109),T=o(48239),U=o(19077),I=o(30502),E=o(28846),P=o(39081),$=o(1009),F=o(31881),W=o(70459),H=o(73216),J=o(52003),L=o(63295),B=o(39985),G=o(95214),K=o(725),O=o(66037),q=o(70579);const V=(0,W.J1)(i||(i=(0,s.A)(["\n  mutation UploadToPinata($file: Upload!) {\n    uploadToPinata(file: $file)\n  }\n"]))),Z=(0,W.J1)(t||(t=(0,s.A)(["\n  mutation CreateMeeting($input: MeetingInput!) {\n    createMeeting(input: $input) {\n      id\n      title\n      description\n      date\n      location\n      attendees\n      audioUrl\n      audioIpfsHash\n      status\n      createdAt\n    }\n  }\n"]))),N=(0,W.J1)(n||(n=(0,s.A)(["\n  mutation UploadMeetingAudio($meetingId: ID!, $audioIpfsHash: String!) {\n    uploadMeetingAudio(meetingId: $meetingId, audioIpfsHash: $audioIpfsHash) {\n      id\n      audioUrl\n      audioIpfsHash\n      status\n    }\n  }\n"]))),Q=()=>{(0,O.H)("New Meeting Summary");const e=(0,H.Zp)(),r=(0,I.d)(),o=(0,a.useRef)(null),i=(0,a.useRef)(null),t=(0,a.useRef)([]),{colorMode:n}=(0,m.G6)(),s=(0,B.oU)("background.main",n),W=(0,B.oU)("light"===n?"white":"background.cardGradient",n),Q=(0,B.oU)("light"===n?"border.lightCard":"border.darkCard",n),X=(0,B.oU)("light"===n?"text.primary":"text.primaryDark",n),Y=((0,B.oU)("light"===n?"text.secondary":"text.secondaryDark",n),(0,B.oU)("light"===n?"text.muted":"text.mutedDark",n)),ee=(0,B.oU)("primary",n),re=(0,B.oU)("secondary",n),oe=X,ie="light"===n?"white":"rgba(255, 255, 255, 0.05)",te="light"===n?"gray.800":X,ne="light"===n?"gray.200":"rgba(255, 255, 255, 0.2)",[se,ae]=(0,a.useState)(""),[le,de]=(0,a.useState)(""),[ce,ue]=(0,a.useState)((new Date).toISOString().split("T")[0]),[ge,he]=(0,a.useState)(""),[pe,xe]=(0,a.useState)([]),[be,me]=(0,a.useState)(""),[je,fe]=(0,a.useState)(null),[ye,Se]=(0,a.useState)(!1),[ve,we]=(0,a.useState)(null),[Ce,ze]=(0,a.useState)(null),[ke,Me]=(0,a.useState)(!1),_e=(0,a.useRef)(null),[De,Re]=(0,a.useState)(!1),[Ae,Te]=(0,a.useState)(0),[Ue,Ie]=(0,a.useState)(null),[Ee,Pe]=(0,a.useState)(!1),[$e,Fe]=(0,a.useState)(!1),[We]=(0,F.n)(V),[He]=(0,F.n)(Z),[Je]=(0,F.n)(N),Le=e=>{if(!["audio/mpeg","audio/wav","audio/m4a","audio/webm","audio/ogg","audio/mp3","audio/x-m4a"].includes(e.type)&&!e.name.match(/\.(mp3|wav|m4a|webm|ogg)$/i))return void r({title:"Invalid file type",description:"Please select an audio file",status:"error",duration:5e3});if(e.size>157286400)return void r({title:"File too large",description:"Please select a file under 150MB",status:"error",duration:5e3});fe(e);const o=URL.createObjectURL(e);ze(o),we(null),r({title:"File loaded",description:"".concat(e.name," ready for upload"),status:"success",duration:3e3})},Be=()=>{be.trim()&&(xe([...pe,be.trim()]),me(""))};return(0,q.jsxs)(c.a,{bg:s,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,q.jsx)(J.m,{}),(0,q.jsx)(G.y,{moduleConfig:K.default}),(0,q.jsx)(j.m,{maxW:"container.xl",py:12,flex:"1",children:(0,q.jsxs)(k.T,{spacing:8,align:"stretch",children:[(0,q.jsxs)(z.z,{justify:"space-between",children:[(0,q.jsx)(E.D,{color:oe,fontFamily:B.Kk.fonts.heading,children:"Create Meeting Summary"}),(0,q.jsx)(u.$,{variant:"ghost",onClick:()=>e("/meeting-summarizer"),color:oe,children:"View All Meetings"})]}),(0,q.jsxs)(p.Z,{bg:W,border:"1px solid",borderColor:Q,borderRadius:"xl",backdropFilter:"blur(10px)",children:[(0,q.jsx)(b.a,{children:(0,q.jsx)(E.D,{size:"lg",color:oe,children:"Meeting Details"})}),(0,q.jsx)(x.b,{children:(0,q.jsxs)(k.T,{spacing:6,align:"stretch",children:[(0,q.jsxs)(y.MJ,{isRequired:!0,children:[(0,q.jsx)(S.l,{color:oe,fontSize:"lg",fontWeight:"semibold",children:"Title"}),(0,q.jsx)(v.p,{value:se,onChange:e=>ae(e.target.value),placeholder:"Enter meeting title",bg:ie,borderColor:ne,color:te,_placeholder:{color:"gray.500"},_hover:{borderColor:"gray.400"},_focus:{borderColor:ee,boxShadow:"outline"},size:"lg"})]}),(0,q.jsxs)(y.MJ,{children:[(0,q.jsx)(S.l,{color:oe,fontSize:"lg",fontWeight:"semibold",children:"Description"}),(0,q.jsx)(U.T,{value:le,onChange:e=>de(e.target.value),placeholder:"Enter meeting description",bg:ie,borderColor:ne,color:te,_placeholder:{color:"gray.500"},_hover:{borderColor:"gray.400"},_focus:{borderColor:ee,boxShadow:"outline"},rows:3,fontSize:"md"})]}),(0,q.jsxs)(z.z,{spacing:4,children:[(0,q.jsxs)(y.MJ,{children:[(0,q.jsx)(S.l,{color:oe,fontSize:"lg",fontWeight:"semibold",children:"Date"}),(0,q.jsx)(v.p,{type:"date",value:ce,onChange:e=>ue(e.target.value),bg:ie,borderColor:ne,color:te,_hover:{borderColor:"gray.400"},_focus:{borderColor:ee,boxShadow:"outline"},size:"lg"})]}),(0,q.jsxs)(y.MJ,{children:[(0,q.jsx)(S.l,{color:oe,fontSize:"lg",fontWeight:"semibold",children:"Location"}),(0,q.jsx)(v.p,{value:ge,onChange:e=>he(e.target.value),placeholder:"Enter location",bg:ie,borderColor:ne,color:te,_placeholder:{color:"gray.500"},_hover:{borderColor:"gray.400"},_focus:{borderColor:ee,boxShadow:"outline"},size:"lg"})]})]}),(0,q.jsxs)(y.MJ,{children:[(0,q.jsx)(S.l,{color:oe,fontSize:"lg",fontWeight:"semibold",children:"Attendees"}),(0,q.jsxs)(z.z,{mb:2,children:[(0,q.jsx)(v.p,{value:be,onChange:e=>me(e.target.value),onKeyDown:e=>"Enter"===e.key&&Be(),placeholder:"Enter attendee name",bg:ie,borderColor:ne,color:te,_placeholder:{color:"gray.500"},_hover:{borderColor:"gray.400"},_focus:{borderColor:ee,boxShadow:"outline"},size:"lg"}),(0,q.jsx)(u.$,{onClick:Be,size:"lg",bg:ee,color:"white",_hover:{bg:re},children:"Add"})]}),(0,q.jsx)(z.z,{wrap:"wrap",spacing:2,children:pe.map((e,r)=>(0,q.jsxs)(T.vw,{size:"md",colorScheme:"blue",children:[(0,q.jsx)(T.d1,{children:e}),(0,q.jsx)(T.TV,{onClick:()=>(e=>{xe(pe.filter((r,o)=>o!==e))})(r)})]},r))})]})]})})]}),(0,q.jsxs)(p.Z,{bg:W,border:"1px solid",borderColor:Q,borderRadius:"xl",backdropFilter:"blur(10px)",children:[(0,q.jsx)(b.a,{children:(0,q.jsx)(E.D,{size:"lg",color:oe,children:"Audio Recording"})}),(0,q.jsxs)(x.b,{children:[(0,q.jsxs)(A.t,{colorScheme:"blue",children:[(0,q.jsxs)(_.w,{children:[(0,q.jsx)(M.o,{color:oe,children:"Record Audio"}),(0,q.jsx)(M.o,{color:oe,children:"Upload Audio"})]}),(0,q.jsxs)(R.T,{children:[(0,q.jsx)(D.K,{children:(0,q.jsxs)(k.T,{spacing:4,children:[(0,q.jsx)(g.e,{children:(0,q.jsx)(u.$,{leftIcon:ye?(0,q.jsx)($.Qnk,{}):(0,q.jsx)($.Rrl,{}),colorScheme:ye?"red":"green",onClick:ye?()=>{i.current&&ye&&(i.current.stop(),Se(!1),r({title:"Recording stopped",status:"success",duration:2e3}))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),o=new MediaRecorder(e);i.current=o,t.current=[],o.ondataavailable=e=>{e.data.size>0&&t.current.push(e.data)},o.onstop=()=>{const r=new Blob(t.current,{type:"audio/webm"});we(r);const o=URL.createObjectURL(r);ze(o),e.getTracks().forEach(e=>e.stop())},o.start(),Se(!0),r({title:"Recording started",status:"info",duration:2e3})}catch(e){console.error("Error starting recording:",e),r({title:"Failed to start recording",description:"Please check your microphone permissions",status:"error",duration:5e3})}},size:"lg",children:ye?"Stop Recording":"Start Recording"})}),ye&&(0,q.jsxs)(z.z,{children:[(0,q.jsx)(C.y,{color:"red.500"}),(0,q.jsx)(P.E,{color:oe,children:"Recording in progress..."})]}),ve&&!ye&&(0,q.jsxs)(l.F,{status:"success",children:[(0,q.jsx)(d._,{}),"Audio recorded successfully"]})]})}),(0,q.jsx)(D.K,{children:(0,q.jsxs)(k.T,{spacing:4,children:[(0,q.jsx)(v.p,{ref:o,type:"file",accept:"audio/*",onChange:e=>{var r;const o=null===(r=e.target.files)||void 0===r?void 0:r[0];o&&Le(o)},display:"none"}),(0,q.jsx)(c.a,{onDragOver:e=>{e.preventDefault(),e.stopPropagation(),Fe(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),Fe(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),Fe(!1);const r=e.dataTransfer.files;if(r&&r.length>0){const e=r[0];Le(e)}},w:"100%",p:8,border:"2px dashed",borderColor:$e?ee:"light"===n?"gray.300":"gray.600",borderRadius:"xl",bg:$e?"light"===n?"teal.50":"rgba(0, 128, 128, 0.1)":"light"===n?"gray.50":"rgba(255, 255, 255, 0.05)",transition:"all 0.2s",cursor:"pointer",onClick:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.click()},_hover:{borderColor:ee,bg:"light"===n?"teal.50":"rgba(0, 128, 128, 0.1)"},children:(0,q.jsxs)(k.T,{spacing:3,children:[(0,q.jsx)($.B88,{size:48,color:$e?ee:"light"===n?"gray.600":"gray.400"}),(0,q.jsx)(P.E,{color:"light"===n?"gray.800":oe,fontSize:"lg",fontWeight:"semibold",children:$e?"Drop audio file here":"Drag & drop audio file here"}),(0,q.jsx)(P.E,{color:"light"===n?"gray.600":Y,fontSize:"md",children:"or click to browse"}),(0,q.jsx)(P.E,{color:"light"===n?"gray.500":Y,fontSize:"sm",children:"Supported formats: MP3, WAV, M4A, WebM, OGG (max 150MB)"})]})}),je&&(0,q.jsxs)(l.F,{status:"success",bg:"light"===n?"green.50":"rgba(72, 187, 120, 0.1)",borderColor:"light"===n?"green.200":"rgba(72, 187, 120, 0.3)",children:[(0,q.jsx)(d._,{color:"light"===n?"green.500":"green.300"}),(0,q.jsxs)(c.a,{children:[(0,q.jsx)(P.E,{color:"light"===n?"gray.800":oe,fontWeight:"semibold",children:je.name}),(0,q.jsxs)(P.E,{color:"light"===n?"gray.600":Y,fontSize:"sm",children:[(je.size/1048576).toFixed(2)," MB"]})]})]})]})})]})]}),Ce&&(0,q.jsxs)(c.a,{mt:4,children:[(0,q.jsx)(f.c,{mb:4}),(0,q.jsxs)(k.T,{spacing:3,children:[(0,q.jsx)("audio",{ref:_e,src:Ce,onEnded:()=>Me(!1)}),(0,q.jsxs)(g.e,{children:[(0,q.jsx)(h.K,{icon:ke?(0,q.jsx)($.GHw,{}):(0,q.jsx)($.aze,{}),onClick:()=>{_e.current&&(ke?_e.current.pause():_e.current.play(),Me(!ke))},"aria-label":ke?"Pause":"Play",colorScheme:"blue"}),(0,q.jsx)(u.$,{size:"sm",variant:"ghost",onClick:()=>{ze(null),fe(null),we(null)},children:"Clear Audio"})]})]})]}),De&&(0,q.jsx)(c.a,{mt:4,children:(0,q.jsxs)(k.T,{spacing:2,align:"stretch",children:[(0,q.jsxs)(P.E,{color:oe,fontWeight:"semibold",children:["uploading"===Ue&&"Uploading audio to IPFS...","transcribing"===Ue&&"Audio uploaded! Waiting for transcription..."]}),(0,q.jsx)(w.k,{value:Ae,size:"sm",colorScheme:"transcribing"===Ue?"green":"blue",hasStripe:!0,isAnimated:"transcribing"===Ue}),(0,q.jsxs)(P.E,{color:Y,fontSize:"sm",children:["uploading"===Ue&&"Uploading: ".concat(Ae,"%"),"transcribing"===Ue&&"Processing audio through AI transcription service..."]})]})})]})]}),(0,q.jsx)(u.$,{bg:ee,color:"white",_hover:{bg:re},size:"lg",onClick:async()=>{if(se.trim())if(je||ve){Pe(!0);try{const{data:o}=await He({variables:{input:{title:se,description:le,date:new Date(ce),location:ge,attendees:pe}}}),i=o.createMeeting.id;Re(!0),Ie("uploading"),Te(10);let t=je;!t&&ve&&(t=new File([ve],"meeting-".concat(Date.now(),".webm"),{type:"audio/webm"}));const{data:n}=await We({variables:{file:t}}),s=n.uploadToPinata;Te(50),Ie("transcribing"),await Je({variables:{meetingId:i,audioIpfsHash:s}}),Te(80),r({title:"Meeting created successfully",description:"Audio is being transcribed. This usually takes a few seconds.",status:"success",duration:5e3}),setTimeout(()=>{e("/meeting-summarizer/".concat(i))},2e3)}catch(o){console.error("Error creating meeting:",o),r({title:"Failed to create meeting",description:o.message,status:"error",duration:5e3})}finally{Pe(!1),Re(!1),Ie(null),Te(0)}}else r({title:"Audio required",description:"Please record or upload an audio file",status:"warning",duration:3e3});else r({title:"Title required",description:"Please enter a meeting title",status:"warning",duration:3e3})},isLoading:Ee,loadingText:"Processing...",isDisabled:!se||!je&&!ve,borderRadius:"xl",leftIcon:(0,q.jsx)($.Bc_,{}),children:"Create Meeting Summary"})]})}),(0,q.jsx)(L.n,{})]})}}}]);
//# sourceMappingURL=3922.ddef50a1.chunk.js.map