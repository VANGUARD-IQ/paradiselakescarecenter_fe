"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[1096],{21096:(e,n,i)=>{i.r(n),i.d(n,{default:()=>B});var o,l,r,s=i(57528),t=(i(65043),i(73216)),c=i(31881),a=i(10585),d=i(70459),x=i(88787),h=i(85871),u=i(87139),b=i(22107),g=i(98662),p=i(42703),m=i(83169),j=i(24330),f=i(44093),y=i(98939),k=i(82459),w=i(5371),S=i(76659),C=i(96148),v=i(10202),z=i(48239),A=i(30502),T=i(47726),P=i(28846),D=i(39081),E=i(80810),$=i(58584),L=i(99973),U=i(92293),_=i(52003),R=i(63295),W=i(95214),I=i(62405),K=i(66037),M=i(39985),G=i(80454),H=i(87977),F=i(70579);const Z=(0,d.J1)(o||(o=(0,s.A)(["\n    query GetArticle($id: ID!) {\n        companyKnowledgeArticle(id: $id) {\n            id\n            title\n            content\n            category\n            tags\n            visibility\n            allowPublicAccess\n            publicSlug\n            shareToken\n            isPinned\n            isPublished\n            viewCount\n            metaDescription\n            createdAt\n            updatedAt\n        }\n    }\n"]))),q=(0,d.J1)(l||(l=(0,s.A)(["\n    mutation DeleteArticle($id: ID!) {\n        deleteCompanyKnowledgeArticle(id: $id)\n    }\n"]))),J=(0,d.J1)(r||(r=(0,s.A)(["\n    mutation TogglePin($id: ID!) {\n        togglePinCompanyKnowledgeArticle(id: $id) {\n            id\n            isPinned\n        }\n    }\n"]))),B=()=>{const{id:e}=(0,t.g)(),n=(0,t.Zp)(),i=(0,A.d)(),{colorMode:o}=(0,f.G6)();(0,K.H)("View Article");const l=(0,M.oU)("background.main",o),r=(0,M.oU)("background.cardGradient",o),s=(0,M.oU)("border.darkCard",o),d=(0,M.oU)("light"===o?"text.primary":"text.primaryDark",o),B=(0,M.oU)("light"===o?"text.secondary":"text.secondaryDark",o),{data:O,loading:N,error:V}=(0,a.IT)(Z,{variables:{id:e},skip:!e}),[X]=(0,c.n)(q,{onCompleted:()=>{i({title:"Article deleted",status:"success",duration:3e3}),n("/companyknowledge")},onError:e=>{i({title:"Error deleting article",description:e.message,status:"error",duration:5e3})}}),[Q]=(0,c.n)(J,{onCompleted:()=>{i({title:"Pin status updated",status:"success",duration:2e3})}});if(N)return(0,F.jsxs)(b.a,{bg:l,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,F.jsx)(_.m,{}),(0,F.jsx)(W.y,{moduleConfig:I.default}),(0,F.jsx)(y.m,{maxW:"container.xl",py:8,flex:"1",children:(0,F.jsx)(w.s,{justify:"center",align:"center",minH:"400px",children:(0,F.jsx)(S.y,{size:"xl"})})}),(0,F.jsx)(R.n,{})]});if(V||null===O||void 0===O||!O.companyKnowledgeArticle)return(0,F.jsxs)(b.a,{bg:l,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,F.jsx)(_.m,{}),(0,F.jsx)(W.y,{moduleConfig:I.default}),(0,F.jsx)(y.m,{maxW:"container.xl",py:8,flex:"1",children:(0,F.jsxs)(x.F,{status:"error",children:[(0,F.jsx)(h._,{}),(null===V||void 0===V?void 0:V.message)||"Article not found"]})}),(0,F.jsx)(R.n,{})]});const Y=O.companyKnowledgeArticle,ee=H.default.sanitize(Y.content);return(0,F.jsxs)(b.a,{bg:l,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,F.jsx)(_.m,{}),(0,F.jsx)(W.y,{moduleConfig:I.default}),(0,F.jsx)(y.m,{maxW:"container.lg",py:8,flex:"1",children:(0,F.jsxs)(v.T,{align:"stretch",spacing:6,children:[(0,F.jsxs)(w.s,{justify:"space-between",align:"start",children:[(0,F.jsxs)(v.T,{align:"start",spacing:2,flex:1,children:[(0,F.jsxs)(C.z,{children:[Y.isPinned&&(0,F.jsx)(U.G,{color:"yellow.400",boxSize:5}),(0,F.jsx)(P.D,{color:d,fontFamily:M.Kk.fonts.heading,children:Y.title})]}),(0,F.jsxs)(C.z,{spacing:2,children:[(0,F.jsx)(u.E,{colorScheme:Y.allowPublicAccess?"green":"SHARED"===Y.visibility?"blue":"purple",children:Y.allowPublicAccess?"PUBLIC":Y.visibility}),!Y.isPublished&&(0,F.jsx)(u.E,{colorScheme:"gray",children:"DRAFT"}),Y.category&&(0,F.jsx)(u.E,{colorScheme:"cyan",children:Y.category})]})]}),(0,F.jsxs)(C.z,{children:[(0,F.jsx)(T.m,{label:"Copy share link",children:(0,F.jsx)(p.K,{icon:(0,F.jsx)(E.T,{}),"aria-label":"Copy link",onClick:()=>{const e=Y.allowPublicAccess?"".concat(window.location.origin,"/kb/").concat(Y.publicSlug):Y.shareToken?"".concat(window.location.origin,"/kb/shared/").concat(Y.shareToken):null;e&&(navigator.clipboard.writeText(e),i({title:"Link copied!",description:"Share link copied to clipboard",status:"success",duration:2e3}))},variant:"ghost"})}),(0,F.jsx)(T.m,{label:Y.isPinned?"Unpin":"Pin",children:(0,F.jsx)(p.K,{icon:(0,F.jsx)(U.G,{}),"aria-label":"Toggle pin",onClick:()=>Q({variables:{id:e}}),variant:"ghost",color:Y.isPinned?"yellow.400":void 0})}),(0,F.jsx)(g.$,{leftIcon:(0,F.jsx)(L.q,{}),onClick:()=>n("/companyknowledge/".concat(e,"/edit")),size:"sm",children:"Edit"}),(0,F.jsx)(g.$,{leftIcon:(0,F.jsx)($.d,{}),colorScheme:"red",variant:"outline",onClick:()=>{window.confirm('Are you sure you want to delete "'.concat(Y.title,'"?'))&&X({variables:{id:e}})},size:"sm",children:"Delete"})]})]}),(0,F.jsx)(m.Z,{bg:r,border:"1px",borderColor:s,children:(0,F.jsx)(j.b,{children:(0,F.jsxs)(C.z,{justify:"space-between",wrap:"wrap",children:[(0,F.jsxs)(D.E,{fontSize:"sm",color:B,children:["\ud83d\udc41\ufe0f ",Y.viewCount||0," views"]}),(0,F.jsxs)(D.E,{fontSize:"sm",color:B,children:["Created: ",(0,G.GP)(new Date(Y.createdAt),"MMM dd, yyyy")]}),(0,F.jsxs)(D.E,{fontSize:"sm",color:B,children:["Updated: ",(0,G.GP)(new Date(Y.updatedAt),"MMM dd, yyyy")]})]})})}),Y.tags&&Y.tags.length>0&&(0,F.jsx)(C.z,{wrap:"wrap",spacing:2,children:Y.tags.map(e=>(0,F.jsx)(z.vw,{colorScheme:"blue",children:(0,F.jsx)(z.d1,{children:e})},e))}),(Y.publicSlug||Y.shareToken)&&(0,F.jsx)(m.Z,{bg:r,border:"1px",borderColor:s,children:(0,F.jsx)(j.b,{children:(0,F.jsxs)(v.T,{align:"stretch",spacing:3,children:[Y.publicSlug&&(0,F.jsxs)(v.T,{align:"stretch",spacing:2,children:[(0,F.jsx)(D.E,{fontSize:"sm",color:B,fontWeight:"bold",children:"Public URL:"}),(0,F.jsxs)(C.z,{children:[(0,F.jsx)(g.$,{as:"a",href:"/kb/".concat(Y.publicSlug),target:"_blank",rel:"noopener noreferrer",colorScheme:"green",size:"sm",flex:1,children:"\ud83c\udf10 Open Public Link"}),(0,F.jsx)(g.$,{onClick:()=>{navigator.clipboard.writeText("".concat(window.location.origin,"/kb/").concat(Y.publicSlug)),i({title:"Link copied!",description:"Public URL copied to clipboard",status:"success",duration:2e3})},colorScheme:"green",variant:"outline",size:"sm",children:"Copy"})]}),(0,F.jsxs)(D.E,{fontSize:"xs",color:B,fontFamily:"mono",children:[window.location.origin,"/kb/",Y.publicSlug]})]}),Y.shareToken&&(0,F.jsxs)(v.T,{align:"stretch",spacing:2,children:[(0,F.jsx)(D.E,{fontSize:"sm",color:B,fontWeight:"bold",children:"Share URL:"}),(0,F.jsxs)(C.z,{children:[(0,F.jsx)(g.$,{as:"a",href:"/kb/shared/".concat(Y.shareToken),target:"_blank",rel:"noopener noreferrer",colorScheme:"blue",size:"sm",flex:1,children:"\ud83d\udd10 Open Shared Link"}),(0,F.jsx)(g.$,{onClick:()=>{navigator.clipboard.writeText("".concat(window.location.origin,"/kb/shared/").concat(Y.shareToken)),i({title:"Link copied!",description:"Share URL copied to clipboard",status:"success",duration:2e3})},colorScheme:"blue",variant:"outline",size:"sm",children:"Copy"})]}),(0,F.jsxs)(D.E,{fontSize:"xs",color:B,fontFamily:"mono",children:[window.location.origin,"/kb/shared/",Y.shareToken]})]})]})})}),(0,F.jsx)(k.c,{}),(0,F.jsx)(m.Z,{bg:r,border:"1px",borderColor:s,children:(0,F.jsx)(j.b,{children:(0,F.jsx)(b.a,{className:"article-content",dangerouslySetInnerHTML:{__html:ee},sx:{"& h1":{fontSize:"2xl",fontWeight:"bold",mb:4,color:d},"& h2":{fontSize:"xl",fontWeight:"bold",mb:3,color:d},"& h3":{fontSize:"lg",fontWeight:"bold",mb:2,color:d},"& p":{mb:4,color:d},"& ul, & ol":{ml:6,mb:4,color:d},"& li":{mb:2},"& a":{color:"blue.500",textDecoration:"underline"},"& code":{bg:"gray.100",px:2,py:1,borderRadius:"md",fontSize:"sm"},"& pre":{bg:"gray.100",p:4,borderRadius:"md",overflowX:"auto",mb:4},"& img":{maxW:"100%",borderRadius:"md",my:4},"& blockquote":{borderLeft:"4px solid",borderColor:"blue.500",pl:4,py:2,fontStyle:"italic",mb:4}}})})}),(0,F.jsx)(g.$,{onClick:()=>n("/companyknowledge"),variant:"outline",children:"\u2190 Back to Articles"})]})}),(0,F.jsx)(R.n,{})]})}}}]);
//# sourceMappingURL=1096.457f554c.chunk.js.map