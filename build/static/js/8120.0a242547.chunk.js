"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[8120],{88120:(e,r,o)=>{o.r(r),o.d(r,{default:()=>oe});var l,n,t,i,a,s=o(89379),c=o(57528),d=o(65043),h=o(87139),b=o(22107),x=o(98662),g=o(42703),p=o(83169),u=o(24330),m=o(26201),j=o(44093),y=o(98939),C=o(73225),v=o(76668),f=o(35699),S=o(80006),w=o(45973),D=o(44860),A=o(61724),_=o(55182),N=o(96148),P=o(10202),M=o(14566),E=o(31411),z=o(10227),T=o(51794),I=o(3109),k=o(19077),J=o(30502),O=o(28846),$=o(39081),R=o(73216),L=o(35475),W=o(31881),U=o(10585),G=o(70459),q=o(1009),F=o(52003),H=o(63295),Q=o(95214),B=o(69129),Y=o(39985),Z=o(66037),K=o(70579);(0,G.J1)(l||(l=(0,c.A)(["\n  query GetClient($phoneNumber: String!) {\n    clientByPhoneNumber(phoneNumber: $phoneNumber) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      businessName\n    }\n  }\n"])));const V=(0,G.J1)(n||(n=(0,c.A)(["\n  query GetClientById($id: ID!) {\n    client(id: $id) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      businessName\n    }\n  }\n"]))),X=(0,G.J1)(t||(t=(0,c.A)(["\n  query SearchClients($search: String, $tags: [String!]) {\n    searchClients(search: $search, tags: $tags) {\n      id\n      fName\n      lName\n      email\n      phoneNumber\n      businessName\n    }\n  }\n"]))),ee=(0,G.J1)(i||(i=(0,c.A)(["\n  query GetOpportunityStages {\n    opportunityStages {\n      id\n      name\n      code\n      order\n      color\n      defaultProbability\n    }\n  }\n"]))),re=(0,G.J1)(a||(a=(0,c.A)(["\n  mutation CreateOpportunity($input: OpportunityInput!) {\n    createOpportunity(input: $input) {\n      id\n      title\n      clientId\n      value\n      stage\n      status\n      paymentSchedule {\n        description\n        amount\n        dueDate\n        status\n      }\n      recurringPayment {\n        monthlyAmount\n        probability\n        description\n        startDate\n        endDate\n      }\n      projectedTotalValue\n    }\n  }\n"]))),oe=()=>{(0,Z.H)("New Opportunity");const e=(0,R.Zp)(),r=(0,J.d)(),[o]=(0,L.ok)(),l=o.get("clientId"),{colorMode:n}=(0,j.G6)(),[t,i]=(0,d.useState)({title:"",description:"",clientId:l||"",value:0,stage:"LEAD",priority:"MEDIUM",probability:10,expectedCloseDate:"",source:"",campaign:"",internalNotes:"",products:[],services:[],tags:[],paymentSchedule:[],recurringPayment:{monthlyAmount:0,probability:100,description:"",startDate:"",endDate:""}}),[a,c]=(0,d.useState)(""),{data:G}=(0,U.IT)(ee),{data:oe,loading:le}=(0,U.IT)(V,{variables:{id:l},skip:!l}),{data:ne,loading:te}=(0,U.IT)(X,{variables:{search:a||""},skip:!!l,fetchPolicy:"cache-and-network"}),[ie,{loading:ae}]=(0,W.n)(re),se=(null===G||void 0===G?void 0:G.opportunityStages)||[],ce=null===oe||void 0===oe?void 0:oe.client,de=(null===ne||void 0===ne?void 0:ne.searchClients)||[];(0,d.useEffect)(()=>{ce&&l&&i(e=>(0,s.A)((0,s.A)({},e),{},{clientId:ce.id}))},[ce,l]),(0,d.useEffect)(()=>{const e=se.find(e=>e.code===t.stage);e&&i(r=>(0,s.A)((0,s.A)({},r),{},{probability:e.defaultProbability}))},[t.stage,se]);const he=(e,r)=>{i(o=>(0,s.A)((0,s.A)({},o),{},{[e]:r}))},be=(0,Y.oU)("background.main",n),xe=(0,Y.oU)("background.cardGradient",n),ge=(0,Y.oU)("border.darkCard",n),pe=(0,Y.oU)("light"===n?"text.primary":"text.primaryDark",n),ue=(0,Y.oU)("light"===n?"text.secondary":"text.secondaryDark",n),me=(0,Y.oU)("light"===n?"text.muted":"text.mutedDark",n),je=(0,Y.oU)("primary",n),ye=(0,Y.oU)("primaryHover",n),Ce=t.value*(t.probability/100),ve=t.paymentSchedule.reduce((e,r)=>e+(r.amount||0),0),fe=t.recurringPayment.startDate&&t.recurringPayment.endDate?Math.max(0,Math.ceil((new Date(t.recurringPayment.endDate).getTime()-new Date(t.recurringPayment.startDate).getTime())/2592e6)):12,Se=t.recurringPayment.monthlyAmount*fe*(t.recurringPayment.probability/100),we=Ce+ve+Se,De=(e,r,o)=>{i(l=>(0,s.A)((0,s.A)({},l),{},{paymentSchedule:l.paymentSchedule.map((l,n)=>n===e?(0,s.A)((0,s.A)({},l),{},{[r]:o}):l)}))},Ae=(e,r)=>{i(o=>(0,s.A)((0,s.A)({},o),{},{recurringPayment:(0,s.A)((0,s.A)({},o.recurringPayment),{},{[e]:r})}))};return(0,K.jsxs)(b.a,{bg:be,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,K.jsx)(F.m,{}),(0,K.jsx)(Q.y,{moduleConfig:B.default}),(0,K.jsx)(y.m,{maxW:"4xl",py:8,flex:"1",children:(0,K.jsxs)(P.T,{spacing:6,align:"stretch",children:[(0,K.jsx)(N.z,{justify:"space-between",children:(0,K.jsxs)(N.z,{children:[(0,K.jsx)(x.$,{bg:"rgba(255, 255, 255, 0.1)",color:pe,leftIcon:(0,K.jsx)(q.kRp,{}),onClick:()=>e(-1),_hover:{bg:"rgba(255, 255, 255, 0.2)"},transition:"all 0.2s",children:"Back"}),(0,K.jsx)(O.D,{size:"lg",color:pe,children:"New Opportunity"})]})}),(0,K.jsx)("form",{onSubmit:async o=>{if(o.preventDefault(),t.title&&t.clientId)try{const o=e=>{if(!e)return;const r=new Date(e);return isNaN(r.getTime())?void 0:r.toISOString()},l=await ie({variables:{input:(0,s.A)((0,s.A)({},t),{},{value:parseFloat(t.value.toString()),expectedCloseDate:o(t.expectedCloseDate),paymentSchedule:t.paymentSchedule.filter(e=>e.description&&e.amount>0).map(e=>(0,s.A)((0,s.A)({},e),{},{dueDate:o(e.dueDate)||(new Date).toISOString()})),recurringPayment:t.recurringPayment.monthlyAmount>0?(0,s.A)((0,s.A)({},t.recurringPayment),{},{startDate:o(t.recurringPayment.startDate)||(new Date).toISOString(),endDate:o(t.recurringPayment.endDate)}):void 0})}});r({title:"Opportunity created",description:"The opportunity has been created successfully",status:"success",duration:3e3,isClosable:!0}),e("/opportunities/".concat(l.data.createOpportunity.id))}catch(l){r({title:"Failed to create opportunity",description:l.message||"An error occurred",status:"error",duration:5e3,isClosable:!0})}else r({title:"Missing required fields",description:"Please provide a title and select a client",status:"error",duration:3e3,isClosable:!0})},children:(0,K.jsxs)(P.T,{spacing:6,align:"stretch",children:[(0,K.jsxs)(p.Z,{bg:xe,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:ge,borderRadius:"lg",_hover:{transform:"translateY(-2px)",boxShadow:"0 12px 40px 0 rgba(0, 0, 0, 0.5)",transition:"all 0.2s"},children:[(0,K.jsx)(m.a,{children:(0,K.jsx)($.E,{fontWeight:"bold",color:pe,children:"Client Information"})}),(0,K.jsx)(u.b,{children:l&&le?(0,K.jsx)($.E,{color:ue,children:"Loading client information..."}):l&&ce?(0,K.jsxs)(N.z,{spacing:6,children:[(0,K.jsxs)(N.z,{children:[(0,K.jsx)(q.JXP,{color:ue}),(0,K.jsxs)($.E,{color:pe,children:[ce.fName," ",ce.lName]}),ce.businessName&&(0,K.jsx)(h.E,{colorScheme:"blue",children:ce.businessName})]}),ce.email&&(0,K.jsxs)(N.z,{children:[(0,K.jsx)(q.pHD,{color:ue}),(0,K.jsx)($.E,{color:ue,children:ce.email})]}),ce.phoneNumber&&(0,K.jsxs)(N.z,{children:[(0,K.jsx)(q.QFc,{color:ue}),(0,K.jsx)($.E,{color:ue,children:ce.phoneNumber})]})]}):(0,K.jsxs)(P.T,{spacing:4,align:"stretch",children:[(0,K.jsxs)(P.T,{spacing:2,align:"stretch",children:[(0,K.jsx)(v.l,{color:pe,mb:0,children:"Search Clients"}),(0,K.jsx)(f.p,{placeholder:"Search clients by name, email, or phone...",value:a,onChange:e=>c(e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.1)",borderColor:ge,color:pe,_placeholder:{color:me},_hover:{borderColor:ue,bg:"light"===n?"gray.50":"rgba(255, 255, 255, 0.15)"},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je),bg:"light"===n?"white":"rgba(255, 255, 255, 0.15)"}})]}),(0,K.jsxs)(C.MJ,{isRequired:!0,children:[(0,K.jsx)(v.l,{color:pe,children:"Select Client"}),(0,K.jsx)(A.l,{placeholder:"Choose a client",value:t.clientId,onChange:e=>{const r=e.target.value;if(he("clientId",r),r){const e="/opportunities/new?clientId=".concat(r);window.history.replaceState(null,"",e)}},isRequired:!0,bg:"light"===n?"white":"rgba(255, 255, 255, 0.1)",borderColor:ge,color:pe,sx:{option:{bg:"light"===n?"white":"#1a1a1a",color:"light"===n?"black":"white",_hover:{bg:"light"===n?"gray.100":"rgba(255, 255, 255, 0.2)"}}},_hover:{borderColor:ue,bg:"light"===n?"gray.50":"rgba(255, 255, 255, 0.15)"},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je),bg:"light"===n?"white":"rgba(255, 255, 255, 0.15)"},children:de.map(e=>(0,K.jsxs)("option",{value:e.id,style:{background:"light"===n?"white":"#1a1a1a",color:"light"===n?"black":"white"},children:[e.fName," ",e.lName,e.businessName&&" - ".concat(e.businessName),e.email&&" (".concat(e.email,")"),!e.email&&e.phoneNumber&&" (".concat(e.phoneNumber,")")]},e.id))}),te&&(0,K.jsx)($.E,{fontSize:"sm",color:me,mt:1,children:"Loading clients..."}),!te&&0===de.length&&(0,K.jsx)($.E,{fontSize:"sm",color:me,mt:1,children:a?'No clients found matching "'.concat(a,'"'):"No clients available. Please create a client first."})]}),t.clientId&&!l&&(()=>{const e=de.find(e=>e.id===t.clientId);return e?(0,K.jsx)(b.a,{pt:2,borderTop:"1px",borderColor:ge,children:(0,K.jsxs)(N.z,{spacing:4,children:[(0,K.jsxs)(N.z,{children:[(0,K.jsx)(q.JXP,{color:ue}),(0,K.jsxs)($.E,{fontSize:"sm",color:pe,children:[e.fName," ",e.lName]})]}),e.email&&(0,K.jsxs)(N.z,{children:[(0,K.jsx)(q.pHD,{color:ue}),(0,K.jsx)($.E,{fontSize:"sm",color:ue,children:e.email})]}),e.phoneNumber&&(0,K.jsxs)(N.z,{children:[(0,K.jsx)(q.QFc,{color:ue}),(0,K.jsx)($.E,{fontSize:"sm",color:ue,children:e.phoneNumber})]})]})}):null})()]})})]}),(0,K.jsxs)(p.Z,{bg:xe,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:ge,borderRadius:"lg",_hover:{transform:"translateY(-2px)",boxShadow:"0 12px 40px 0 rgba(0, 0, 0, 0.5)",transition:"all 0.2s"},children:[(0,K.jsx)(m.a,{children:(0,K.jsx)($.E,{fontWeight:"bold",color:pe,children:"Opportunity Details"})}),(0,K.jsx)(u.b,{children:(0,K.jsxs)(P.T,{spacing:4,align:"stretch",children:[(0,K.jsxs)(C.MJ,{isRequired:!0,children:[(0,K.jsx)(v.l,{color:pe,children:"Title"}),(0,K.jsx)(f.p,{value:t.title,onChange:e=>he("title",e.target.value),placeholder:"e.g., Website Development for ABC Company",bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_placeholder:{color:me},_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)}})]}),(0,K.jsxs)(C.MJ,{children:[(0,K.jsx)(v.l,{color:pe,children:"Description"}),(0,K.jsx)(k.T,{value:t.description,onChange:e=>he("description",e.target.value),placeholder:"Describe the opportunity...",rows:4,bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_placeholder:{color:me},_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)}})]}),(0,K.jsxs)(N.z,{spacing:4,children:[(0,K.jsxs)(C.MJ,{isRequired:!0,flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"One-off Payment Value (AUD)"}),(0,K.jsxs)(w.M,{children:[(0,K.jsx)(S.G6,{bg:"rgba(255, 255, 255, 0.1)",borderColor:ge,color:pe,children:"$"}),(0,K.jsxs)(D.Q7,{value:t.value,onChange:(e,r)=>he("value",r||0),min:0,flex:"1",children:[(0,K.jsx)(D.OO,{bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_placeholder:{color:me},_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)}}),(0,K.jsxs)(D.lw,{borderColor:ge,children:[(0,K.jsx)(D.Q0,{borderColor:ge,color:pe}),(0,K.jsx)(D.Sh,{borderColor:ge,color:pe})]})]})]})]}),(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"Expected Close Date"}),(0,K.jsx)(f.p,{type:"date",value:t.expectedCloseDate,onChange:e=>he("expectedCloseDate",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)}})]})]}),(0,K.jsxs)(N.z,{spacing:4,children:[(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"Stage"}),(0,K.jsx)(A.l,{value:t.stage,onChange:e=>he("stage",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)},children:se.map(e=>(0,K.jsx)("option",{value:e.code,children:e.name},e.code))})]}),(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"Priority"}),(0,K.jsxs)(A.l,{value:t.priority,onChange:e=>he("priority",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)},children:[(0,K.jsx)("option",{value:"LOW",children:"Low"}),(0,K.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,K.jsx)("option",{value:"HIGH",children:"High"}),(0,K.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]})]}),(0,K.jsxs)(C.MJ,{children:[(0,K.jsxs)(v.l,{color:pe,children:["Win Probability: ",t.probability,"%"]}),(0,K.jsxs)(_.Ap,{value:t.probability,onChange:e=>he("probability",e),min:0,max:100,step:5,children:[(0,K.jsx)(_.hB,{children:(0,K.jsx)(_.hJ,{bg:je})}),(0,K.jsx)(_.OQ,{boxSize:6,children:(0,K.jsx)(b.a,{color:je,as:q.z8N})})]}),(0,K.jsxs)(C.eK,{color:ue,children:["Expected Revenue: $",Ce.toLocaleString()]})]})]})})]}),(0,K.jsxs)(p.Z,{bg:xe,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:ge,borderRadius:"lg",_hover:{transform:"translateY(-2px)",boxShadow:"0 12px 40px 0 rgba(0, 0, 0, 0.5)",transition:"all 0.2s"},children:[(0,K.jsx)(m.a,{children:(0,K.jsx)($.E,{fontWeight:"bold",color:pe,children:"Payment Tracking"})}),(0,K.jsxs)(u.b,{children:[(0,K.jsxs)(I.t,{variant:"soft-rounded",colorScheme:"brand",children:[(0,K.jsxs)(E.w,{mb:4,children:[(0,K.jsx)(M.o,{color:ue,_selected:{color:pe,bg:"rgba(255, 255, 255, 0.1)"},children:"Payment Schedule"}),(0,K.jsx)(M.o,{color:ue,_selected:{color:pe,bg:"rgba(255, 255, 255, 0.1)"},children:"Recurring Subscription"})]}),(0,K.jsxs)(T.T,{children:[(0,K.jsx)(z.K,{children:(0,K.jsxs)(P.T,{spacing:4,align:"stretch",children:[t.paymentSchedule.map((e,r)=>(0,K.jsx)(b.a,{p:4,bg:"rgba(255, 255, 255, 0.05)",borderRadius:"md",border:"1px",borderColor:ge,children:(0,K.jsxs)(P.T,{spacing:3,children:[(0,K.jsxs)(N.z,{width:"full",justify:"space-between",children:[(0,K.jsxs)($.E,{color:pe,fontWeight:"semibold",children:["Payment #",r+1]}),(0,K.jsx)(g.K,{"aria-label":"Remove payment",icon:(0,K.jsx)(q.IXo,{}),size:"sm",colorScheme:"red",variant:"ghost",onClick:()=>(e=>{i(r=>(0,s.A)((0,s.A)({},r),{},{paymentSchedule:r.paymentSchedule.filter((r,o)=>o!==e)}))})(r)})]}),(0,K.jsxs)(C.MJ,{children:[(0,K.jsx)(v.l,{color:pe,children:"Description"}),(0,K.jsx)(f.p,{value:e.description,onChange:e=>De(r,"description",e.target.value),placeholder:"e.g., Initial deposit, Final payment",bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_placeholder:{color:me}})]}),(0,K.jsxs)(N.z,{spacing:4,width:"full",children:[(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"Amount (AUD)"}),(0,K.jsxs)(w.M,{children:[(0,K.jsx)(S.G6,{bg:"rgba(255, 255, 255, 0.1)",borderColor:ge,color:pe,children:"$"}),(0,K.jsx)(D.Q7,{value:e.amount,onChange:(e,o)=>De(r,"amount",o||0),min:0,width:"full",children:(0,K.jsx)(D.OO,{bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe})})]})]}),(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"Due Date"}),(0,K.jsx)(f.p,{type:"date",value:e.dueDate,onChange:e=>De(r,"dueDate",e.target.value),bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe})]})]}),(0,K.jsxs)(C.MJ,{children:[(0,K.jsx)(v.l,{color:pe,children:"Notes (Optional)"}),(0,K.jsx)(k.T,{value:e.notes,onChange:e=>De(r,"notes",e.target.value),placeholder:"Additional notes...",rows:2,bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_placeholder:{color:me}})]})]})},r)),(0,K.jsx)(x.$,{onClick:()=>{i(e=>(0,s.A)((0,s.A)({},e),{},{paymentSchedule:[...e.paymentSchedule,{description:"",amount:0,dueDate:"",notes:""}]}))},leftIcon:(0,K.jsx)(q.GGD,{}),variant:"outline",borderColor:je,color:je,_hover:{bg:"rgba(255, 255, 255, 0.1)"},children:"Add Payment"}),t.paymentSchedule.length>0&&(0,K.jsx)(b.a,{p:3,bg:"rgba(255, 255, 255, 0.1)",borderRadius:"md",children:(0,K.jsxs)($.E,{color:pe,fontWeight:"bold",children:["Total Scheduled: $",ve.toLocaleString()]})})]})}),(0,K.jsx)(z.K,{children:(0,K.jsxs)(P.T,{spacing:4,align:"stretch",children:[(0,K.jsxs)(C.MJ,{children:[(0,K.jsx)(v.l,{color:pe,children:"Monthly Amount (AUD)"}),(0,K.jsxs)(w.M,{children:[(0,K.jsx)(S.G6,{bg:"rgba(255, 255, 255, 0.1)",borderColor:ge,color:pe,children:"$"}),(0,K.jsx)(D.Q7,{value:t.recurringPayment.monthlyAmount,onChange:(e,r)=>Ae("monthlyAmount",r||0),min:0,width:"full",children:(0,K.jsx)(D.OO,{bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe})})]})]}),(0,K.jsxs)(C.MJ,{children:[(0,K.jsxs)(v.l,{color:pe,children:["Subscription Probability: ",t.recurringPayment.probability,"%"]}),(0,K.jsxs)(_.Ap,{value:t.recurringPayment.probability,onChange:e=>Ae("probability",e),min:0,max:100,step:5,children:[(0,K.jsx)(_.hB,{children:(0,K.jsx)(_.hJ,{bg:je})}),(0,K.jsx)(_.OQ,{boxSize:6,children:(0,K.jsx)(b.a,{color:je,as:q.wO2})})]})]}),(0,K.jsxs)(C.MJ,{children:[(0,K.jsx)(v.l,{color:pe,children:"Description"}),(0,K.jsx)(f.p,{value:t.recurringPayment.description,onChange:e=>Ae("description",e.target.value),placeholder:"e.g., Monthly maintenance, SaaS subscription",bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_placeholder:{color:me}})]}),(0,K.jsxs)(N.z,{spacing:4,children:[(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"Start Date"}),(0,K.jsx)(f.p,{type:"date",value:t.recurringPayment.startDate,onChange:e=>Ae("startDate",e.target.value),bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe})]}),(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"End Date (Optional)"}),(0,K.jsx)(f.p,{type:"date",value:t.recurringPayment.endDate,onChange:e=>Ae("endDate",e.target.value),bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe})]})]}),t.recurringPayment.monthlyAmount>0&&(0,K.jsx)(b.a,{p:3,bg:"rgba(255, 255, 255, 0.1)",borderRadius:"md",children:(0,K.jsxs)(P.T,{align:"start",children:[(0,K.jsxs)($.E,{color:pe,fontWeight:"bold",children:["Recurring Value (",fe," months): $",Se.toLocaleString()]}),(0,K.jsxs)($.E,{color:ue,fontSize:"sm",children:["Monthly: $",t.recurringPayment.monthlyAmount.toLocaleString()," \xd7 ",fe," months \xd7 ",t.recurringPayment.probability,"% probability"]})]})})]})})]})]}),(Ce>0||ve>0||Se>0)&&(0,K.jsx)(b.a,{mt:6,p:4,bg:je,bgGradient:"linear(to-r, brand.500, brand.600)",borderRadius:"md",children:(0,K.jsxs)(P.T,{align:"start",spacing:2,children:[(0,K.jsxs)($.E,{color:"white",fontWeight:"bold",fontSize:"lg",children:["Total Projected Value: $",we.toLocaleString()]}),(0,K.jsxs)(P.T,{align:"start",spacing:1,children:[Ce>0&&(0,K.jsxs)($.E,{color:"whiteAlpha.900",fontSize:"sm",children:["\u2022 One-off payment: $",Ce.toLocaleString()," (",t.probability,"% probability)"]}),ve>0&&(0,K.jsxs)($.E,{color:"whiteAlpha.900",fontSize:"sm",children:["\u2022 Scheduled payments: $",ve.toLocaleString()]}),Se>0&&(0,K.jsxs)($.E,{color:"whiteAlpha.900",fontSize:"sm",children:["\u2022 Recurring subscription: $",Se.toLocaleString()," (",t.recurringPayment.probability,"% probability)"]})]})]})})]})]}),(0,K.jsxs)(p.Z,{bg:xe,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:ge,borderRadius:"lg",_hover:{transform:"translateY(-2px)",boxShadow:"0 12px 40px 0 rgba(0, 0, 0, 0.5)",transition:"all 0.2s"},children:[(0,K.jsx)(m.a,{children:(0,K.jsx)($.E,{fontWeight:"bold",color:pe,children:"Source & Tracking"})}),(0,K.jsx)(u.b,{children:(0,K.jsxs)(P.T,{spacing:4,align:"stretch",children:[(0,K.jsxs)(N.z,{spacing:4,children:[(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"Lead Source"}),(0,K.jsxs)(A.l,{value:t.source,onChange:e=>he("source",e.target.value),placeholder:"Select source",bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)},children:[(0,K.jsx)("option",{value:"Website",children:"Website"}),(0,K.jsx)("option",{value:"Referral",children:"Referral"}),(0,K.jsx)("option",{value:"Cold Call",children:"Cold Call"}),(0,K.jsx)("option",{value:"Email",children:"Email Campaign"}),(0,K.jsx)("option",{value:"Social Media",children:"Social Media"}),(0,K.jsx)("option",{value:"Event",children:"Event"}),(0,K.jsx)("option",{value:"Partner",children:"Partner"}),(0,K.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,K.jsxs)(C.MJ,{flex:"1",children:[(0,K.jsx)(v.l,{color:pe,children:"Campaign"}),(0,K.jsx)(f.p,{value:t.campaign,onChange:e=>he("campaign",e.target.value),placeholder:"Marketing campaign name",bg:"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_placeholder:{color:me},_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)}})]})]}),(0,K.jsxs)(C.MJ,{children:[(0,K.jsx)(v.l,{color:pe,children:"Internal Notes"}),(0,K.jsx)(k.T,{value:t.internalNotes,onChange:e=>he("internalNotes",e.target.value),placeholder:"Notes for internal use only...",rows:3,bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",borderColor:ge,color:pe,_placeholder:{color:me},_hover:{borderColor:ue},_focus:{borderColor:je,boxShadow:"0 0 0 1px ".concat(je)}})]})]})})]}),(0,K.jsxs)(N.z,{justify:"flex-end",spacing:4,children:[(0,K.jsx)(x.$,{variant:"outline",borderColor:je,color:je,onClick:()=>e(-1),_hover:{bg:"rgba(59, 130, 246, 0.1)"},transition:"all 0.2s",children:"Cancel"}),(0,K.jsx)(x.$,{type:"submit",bg:je,color:"white",_hover:{bg:ye,transform:"translateY(-2px)"},_active:{transform:"translateY(0)"},transition:"all 0.2s",fontWeight:"semibold",leftIcon:(0,K.jsx)(q.Bc_,{}),isLoading:ae,loadingText:"Creating...",children:"Create Opportunity"})]})]})})]})}),(0,K.jsx)(H.n,{})]})}}}]);
//# sourceMappingURL=8120.0a242547.chunk.js.map