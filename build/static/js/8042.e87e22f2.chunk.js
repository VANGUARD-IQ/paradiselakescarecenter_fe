"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[8042],{28042:(e,o,r)=>{r.r(o),r.d(o,{default:()=>te});var s,l,n=r(57528),i=r(65043),a=r(73216),d=r(31881),c=r(10585),t=r(70459),x=r(87139),m=r(22107),h=r(98662),p=r(42703),b=r(83169),j=r(24330),u=r(44093),g=r(98939),y=r(82459),v=r(5371),f=r(73212),E=r(35699),C=r(45973),w=r(29244),S=r(18876),T=r(59883),k=r(86236),N=r(53560),z=r(91872),A=r(61724),D=r(99032),L=r(96148),_=r(10202),U=r(94217),I=r(53332),R=r(78149),V=r(80511),W=r(18965),Z=r(82595),F=r(67813),K=r(83201),M=r(3313),G=r(55395),H=r(30502),O=r(28846),q=r(39081),$=r(12733),J=r(12730),B=r(55206),P=r(58584),X=r(99973),Q=r(5874),Y=r(92835),ee=r(87467),oe=r(39985),re=r(52003),se=r(63295),le=r(95214),ne=r(21401),ie=r(66037),ae=r(70579);const de=(0,t.J1)(s||(s=(0,n.A)(["\n    query GetEmployees {\n        employees {\n            id\n            employeeNumber\n            fName\n            lName\n            email\n            phoneNumber\n            mobileNumber\n            role\n            department\n            position\n            status\n            startDate\n            contractType\n            hourlyRate\n            annualSalary\n            company {\n                id\n                name\n            }\n        }\n        employeeStats\n    }\n"]))),ce=(0,t.J1)(l||(l=(0,n.A)(["\n    mutation DeleteEmployee($id: ID!) {\n        deleteEmployee(id: $id)\n    }\n"]))),te=()=>{var e,o;(0,ie.H)("Employees");const r=(0,a.Zp)(),s=(0,H.d)(),{colorMode:l}=(0,u.G6)(),n=(0,oe.oU)("background.main",l),t=(0,oe.oU)("background.cardGradient",l),te=(0,oe.oU)("border.darkCard",l),xe=(0,oe.oU)("light"===l?"text.primary":"text.primaryDark",l),me=(0,oe.oU)("light"===l?"text.secondary":"text.secondaryDark",l),he=(0,oe.oU)("light"===l?"text.muted":"text.mutedDark",l),pe=(0,oe.oU)("primary",l),be=(0,oe.oU)("primaryHover",l),je=(0,oe.oU)("successGreen",l),ue=(0,oe.oU)("status.error",l),[ge,ye]=((0,oe.oU)("status.warning",l),(0,i.useState)("")),[ve,fe]=(0,i.useState)("ALL"),[Ee,Ce]=(0,i.useState)("ALL"),we=(0,S.A)({base:!0,md:!1}),Se=(0,S.A)({base:"sm",md:"md"}),{data:Te,loading:ke,error:Ne,refetch:ze}=(0,c.IT)(de),[Ae]=(0,d.n)(ce,{onCompleted:()=>{s({title:"Employee deleted",status:"success",duration:3e3,isClosable:!0}),ze()},onError:e=>{s({title:"Error deleting employee",description:e.message,status:"error",duration:5e3,isClosable:!0})}}),De=(null===Te||void 0===Te||null===(e=Te.employees)||void 0===e?void 0:e.filter(e=>{var o,r;const s=""===ge||"".concat(e.fName," ").concat(e.lName).toLowerCase().includes(ge.toLowerCase())||(null===(o=e.email)||void 0===o?void 0:o.toLowerCase().includes(ge.toLowerCase()))||(null===(r=e.employeeNumber)||void 0===r?void 0:r.toLowerCase().includes(ge.toLowerCase())),l="ALL"===ve||e.status===ve,n="ALL"===Ee||e.department===Ee;return s&&l&&n}))||[],Le=Array.from(new Set(null===Te||void 0===Te||null===(o=Te.employees)||void 0===o?void 0:o.map(e=>e.department).filter(Boolean)))||[],_e=async(e,o)=>{window.confirm("Are you sure you want to delete ".concat(o,"?"))&&await Ae({variables:{id:e}})},Ue=e=>{switch(e){case"ACTIVE":return"green";case"INACTIVE":default:return"gray";case"ON_LEAVE":return"orange";case"TERMINATED":return"red"}};return Ne?(0,ae.jsxs)(m.a,{bg:n,minH:"100vh",children:[(0,ae.jsx)(re.m,{}),(0,ae.jsx)(le.y,{moduleConfig:ne.default}),(0,ae.jsxs)(q.E,{color:ue,children:["Error loading employees: ",Ne.message]})]}):(0,ae.jsxs)(m.a,{bg:n,minH:"100vh",display:"flex",flexDirection:"column",children:[(0,ae.jsx)(re.m,{}),(0,ae.jsx)(le.y,{moduleConfig:ne.default}),(0,ae.jsx)(g.m,{maxW:"container.xl",px:{base:4,md:8},py:{base:6,md:8},flex:"1",children:(0,ae.jsxs)(_.T,{spacing:{base:4,md:6},align:"stretch",children:[(0,ae.jsxs)(v.s,{justify:"space-between",align:"center",wrap:"wrap",gap:4,children:[(0,ae.jsx)(O.D,{color:xe,fontFamily:oe.Kk.fonts.heading,size:{base:"md",md:"lg"},children:"Employee Management"}),(0,ae.jsx)(h.$,{leftIcon:(0,ae.jsx)(J.R,{}),bg:pe,color:"white",_hover:{bg:be},onClick:()=>r("/employees/new"),size:{base:"sm",md:"md"},children:"Add Employee"})]}),(null===Te||void 0===Te?void 0:Te.employeeStats)&&(0,ae.jsxs)(f.r,{columns:{base:2,md:4},spacing:{base:3,md:4},children:[(0,ae.jsx)(b.Z,{bg:t,backdropFilter:"blur(10px)",boxShadow:"0 4px 6px 0 rgba(0, 0, 0, 0.2)",border:"1px",borderColor:te,borderRadius:"lg",children:(0,ae.jsx)(j.b,{py:{base:3,md:4},px:{base:3,md:5},children:(0,ae.jsxs)(U.r,{children:[(0,ae.jsx)(I.v,{color:he,fontSize:{base:"xs",md:"sm"},children:"Total Employees"}),(0,ae.jsx)(R.k,{color:xe,fontSize:{base:"xl",md:"2xl"},children:Te.employeeStats[0]||0})]})})}),(0,ae.jsx)(b.Z,{bg:t,backdropFilter:"blur(10px)",boxShadow:"0 4px 6px 0 rgba(0, 0, 0, 0.2)",border:"1px",borderColor:te,borderRadius:"lg",children:(0,ae.jsx)(j.b,{py:{base:3,md:4},px:{base:3,md:5},children:(0,ae.jsxs)(U.r,{children:[(0,ae.jsx)(I.v,{color:he,fontSize:{base:"xs",md:"sm"},children:"New (24h)"}),(0,ae.jsx)(R.k,{color:je,fontSize:{base:"xl",md:"2xl"},children:Te.employeeStats[1]||0})]})})}),(0,ae.jsx)(b.Z,{bg:t,backdropFilter:"blur(10px)",boxShadow:"0 4px 6px 0 rgba(0, 0, 0, 0.2)",border:"1px",borderColor:te,borderRadius:"lg",children:(0,ae.jsx)(j.b,{py:{base:3,md:4},px:{base:3,md:5},children:(0,ae.jsxs)(U.r,{children:[(0,ae.jsx)(I.v,{color:he,fontSize:{base:"xs",md:"sm"},children:"This Week"}),(0,ae.jsx)(R.k,{color:xe,fontSize:{base:"xl",md:"2xl"},children:Te.employeeStats[2]||0})]})})}),(0,ae.jsx)(b.Z,{bg:t,backdropFilter:"blur(10px)",boxShadow:"0 4px 6px 0 rgba(0, 0, 0, 0.2)",border:"1px",borderColor:te,borderRadius:"lg",children:(0,ae.jsx)(j.b,{py:{base:3,md:4},px:{base:3,md:5},children:(0,ae.jsxs)(U.r,{children:[(0,ae.jsx)(I.v,{color:he,fontSize:{base:"xs",md:"sm"},children:"This Month"}),(0,ae.jsx)(R.k,{color:xe,fontSize:{base:"xl",md:"2xl"},children:Te.employeeStats[3]||0})]})})})]}),(0,ae.jsx)(b.Z,{bg:t,backdropFilter:"blur(10px)",boxShadow:"0 4px 6px 0 rgba(0, 0, 0, 0.2)",border:"1px",borderColor:te,borderRadius:"lg",children:(0,ae.jsx)(j.b,{children:(0,ae.jsxs)(v.s,{gap:{base:3,md:4},wrap:"wrap",children:[(0,ae.jsxs)(C.M,{flex:{base:"1 1 100%",md:"1"},size:{base:"sm",md:"md"},children:[(0,ae.jsx)(w.W,{pointerEvents:"none",children:(0,ae.jsx)($.W,{color:he})}),(0,ae.jsx)(E.p,{placeholder:"Search employees...",bg:"rgba(255, 255, 255, 0.05)",borderColor:te,color:xe,_placeholder:{color:he},value:ge,onChange:e=>ye(e.target.value)})]}),(0,ae.jsxs)(A.l,{bg:"rgba(255, 255, 255, 0.05)",borderColor:te,color:xe,value:ve,onChange:e=>fe(e.target.value),width:{base:"100%",md:"200px"},size:{base:"sm",md:"md"},children:[(0,ae.jsx)("option",{value:"ALL",children:"All Status"}),(0,ae.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,ae.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,ae.jsx)("option",{value:"ON_LEAVE",children:"On Leave"}),(0,ae.jsx)("option",{value:"TERMINATED",children:"Terminated"})]}),(0,ae.jsxs)(A.l,{bg:"rgba(255, 255, 255, 0.05)",borderColor:te,color:xe,value:Ee,onChange:e=>Ce(e.target.value),width:{base:"100%",md:"200px"},size:{base:"sm",md:"md"},children:[(0,ae.jsx)("option",{value:"ALL",children:"All Departments"}),Le.map(e=>(0,ae.jsx)("option",{value:e,children:e},e))]})]})})}),(0,ae.jsx)(b.Z,{bg:t,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:te,borderRadius:"lg",children:(0,ae.jsx)(j.b,{p:{base:0,md:6},children:ke?(0,ae.jsxs)(_.T,{spacing:4,p:4,children:[(0,ae.jsx)(D.E,{height:"60px"}),(0,ae.jsx)(D.E,{height:"60px"}),(0,ae.jsx)(D.E,{height:"60px"})]}):we?(0,ae.jsx)(_.T,{spacing:4,p:4,children:0===De.length?(0,ae.jsx)(q.E,{color:he,textAlign:"center",py:8,children:"No employees found"}):De.map(e=>{var o;return(0,ae.jsx)(b.Z,{bg:"rgba(255, 255, 255, 0.03)",borderColor:te,borderWidth:"1px",borderRadius:"md",w:"100%",children:(0,ae.jsx)(j.b,{p:4,children:(0,ae.jsxs)(_.T,{align:"stretch",spacing:3,children:[(0,ae.jsxs)(L.z,{justify:"space-between",children:[(0,ae.jsxs)(_.T,{align:"start",spacing:0,children:[(0,ae.jsxs)(q.E,{color:xe,fontWeight:"bold",fontSize:"md",cursor:"pointer",_hover:{color:pe,textDecoration:"underline"},onClick:o=>{o.preventDefault(),window.open("/employees/".concat(e.id),"_blank")},children:[e.fName," ",e.lName]}),e.position&&(0,ae.jsx)(q.E,{color:me,fontSize:"sm",children:e.position})]}),(0,ae.jsx)(x.E,{colorScheme:Ue(e.status||""),children:e.status||"Unknown"})]}),(null===(o=e.company)||void 0===o?void 0:o.name)&&(0,ae.jsxs)(q.E,{color:me,fontSize:"sm",children:[(0,ae.jsx)(q.E,{as:"span",color:he,children:"Company:"})," ",e.company.name]}),e.department&&(0,ae.jsx)(q.E,{color:he,fontSize:"sm",children:e.department}),(0,ae.jsxs)(L.z,{spacing:4,fontSize:"sm",children:[e.email&&(0,ae.jsxs)(L.z,{spacing:1,children:[(0,ae.jsx)(Y.a,{color:he}),(0,ae.jsx)(q.E,{color:me,noOfLines:1,children:e.email})]}),e.mobileNumber&&(0,ae.jsxs)(L.z,{spacing:1,children:[(0,ae.jsx)(ee.E,{color:he}),(0,ae.jsx)(q.E,{color:me,children:e.mobileNumber})]})]}),(0,ae.jsx)(y.c,{borderColor:te}),(0,ae.jsxs)(L.z,{justify:"space-between",children:[(0,ae.jsxs)(L.z,{spacing:2,children:[(0,ae.jsx)(p.K,{"aria-label":"View",icon:(0,ae.jsx)(B.t,{}),size:"sm",variant:"ghost",color:xe,onClick:()=>r("/employees/".concat(e.id))}),(0,ae.jsx)(p.K,{"aria-label":"Edit",icon:(0,ae.jsx)(X.q,{}),size:"sm",variant:"ghost",color:xe,onClick:()=>r("/employees/edit/".concat(e.id))}),(0,ae.jsx)(p.K,{"aria-label":"Delete",icon:(0,ae.jsx)(P.d,{}),size:"sm",variant:"ghost",color:ue,onClick:()=>_e(e.id,"".concat(e.fName," ").concat(e.lName))})]}),e.employeeNumber&&(0,ae.jsxs)(q.E,{color:he,fontSize:"xs",children:["#",e.employeeNumber]})]})]})})},e.id)})}):(0,ae.jsx)(W.K,{children:(0,ae.jsxs)(V.X,{variant:"simple",size:Se,children:[(0,ae.jsx)(M.d,{children:(0,ae.jsxs)(G.Tr,{children:[(0,ae.jsx)(K.Th,{color:he,children:"Employee"}),(0,ae.jsx)(K.Th,{color:he,children:"Company"}),(0,ae.jsx)(K.Th,{color:he,children:"Contact"}),(0,ae.jsx)(K.Th,{color:he,children:"Department"}),(0,ae.jsx)(K.Th,{color:he,children:"Position"}),(0,ae.jsx)(K.Th,{color:he,children:"Status"}),(0,ae.jsx)(K.Th,{color:he,children:"Start Date"}),(0,ae.jsx)(K.Th,{color:he,children:"Actions"})]})}),(0,ae.jsx)(Z.N,{children:0===De.length?(0,ae.jsx)(G.Tr,{children:(0,ae.jsx)(F.Td,{colSpan:8,children:(0,ae.jsx)(q.E,{color:he,textAlign:"center",py:8,children:"No employees found"})})}):De.map(e=>{var o,s;return(0,ae.jsxs)(G.Tr,{children:[(0,ae.jsx)(F.Td,{children:(0,ae.jsxs)(_.T,{align:"start",spacing:0,children:[(0,ae.jsxs)(q.E,{color:xe,fontWeight:"medium",cursor:"pointer",_hover:{color:pe,textDecoration:"underline"},onClick:o=>{o.preventDefault(),window.open("/employees/".concat(e.id),"_blank")},children:[e.fName," ",e.lName]}),e.employeeNumber&&(0,ae.jsxs)(q.E,{color:he,fontSize:"sm",children:["#",e.employeeNumber]})]})}),(0,ae.jsx)(F.Td,{color:me,children:(null===(o=e.company)||void 0===o?void 0:o.name)||"-"}),(0,ae.jsx)(F.Td,{children:(0,ae.jsxs)(_.T,{align:"start",spacing:0,children:[e.email&&(0,ae.jsx)(q.E,{color:me,fontSize:"sm",children:e.email}),e.mobileNumber&&(0,ae.jsx)(q.E,{color:he,fontSize:"sm",children:e.mobileNumber})]})}),(0,ae.jsx)(F.Td,{color:me,children:e.department||"-"}),(0,ae.jsx)(F.Td,{color:me,children:e.position||"-"}),(0,ae.jsx)(F.Td,{children:(0,ae.jsx)(x.E,{colorScheme:Ue(e.status||""),children:e.status||"Unknown"})}),(0,ae.jsx)(F.Td,{color:me,children:(s=e.startDate||"",s?new Date(s).toLocaleDateString("en-AU"):"-")}),(0,ae.jsx)(F.Td,{children:(0,ae.jsxs)(T.W,{children:[(0,ae.jsx)(k.I,{as:p.K,icon:(0,ae.jsx)(Q.D,{}),variant:"ghost",size:"sm",color:xe}),(0,ae.jsxs)(z.c,{bg:t,borderColor:te,children:[(0,ae.jsx)(N.D,{icon:(0,ae.jsx)(B.t,{}),onClick:()=>r("/employees/".concat(e.id)),_hover:{bg:"rgba(255, 255, 255, 0.1)"},color:xe,children:"View Details"}),(0,ae.jsx)(N.D,{icon:(0,ae.jsx)(X.q,{}),onClick:()=>r("/employees/edit/".concat(e.id)),_hover:{bg:"rgba(255, 255, 255, 0.1)"},color:xe,children:"Edit"}),(0,ae.jsx)(N.D,{icon:(0,ae.jsx)(P.d,{}),onClick:()=>_e(e.id,"".concat(e.fName," ").concat(e.lName)),_hover:{bg:"rgba(255, 255, 255, 0.1)"},color:ue,children:"Delete"})]})]})})]},e.id)})})]})})})})]})}),(0,ae.jsx)(se.n,{})]})}}}]);
//# sourceMappingURL=8042.e87e22f2.chunk.js.map