"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[5218],{10744:(e,o,r)=>{r.d(o,{R:()=>oe});var n,l,i,t,s=r(89379),a=r(57528),c=r(65043),d=r(88787),m=r(85871),h=r(87139),u=r(22107),x=r(98662),p=r(42703),j=r(82459),g=r(73225),b=r(76668),v=r(35699),f=r(67516),C=r(35929),y=r(56529),k=r(15071),S=r(11054),A=r(78460),w=r(25722),E=r(44860),T=r(76659),P=r(96148),z=r(10202),B=r(98481),U=r(80511),$=r(82595),M=r(67813),R=r(83201),_=r(3313),I=r(55395),D=r(14566),L=r(31411),H=r(10227),O=r(51794),N=r(3109),J=r(19077),F=r(30502),W=r(39081),G=r(31881),K=r(70459),q=r(1009),Q=r(39985),Z=r(70579);const Y=(0,K.J1)(n||(n=(0,a.A)(["\n    mutation ScanEmailAndGenerateProjectProposal(\n        $emailContent: String!\n        $emailSubject: String\n        $senderName: String\n        $senderEmail: String\n    ) {\n        scanEmailAndGenerateProjectProposal(\n            emailContent: $emailContent\n            emailSubject: $emailSubject\n            senderName: $senderName\n            senderEmail: $senderEmail\n        ) {\n            projectName\n            projectSummary\n            clientName\n            clientEmail\n            clientPhone\n            tasks {\n                title\n                description\n                estimatedHours\n                order\n                category\n            }\n            suggestedPrice\n            upfrontPayment\n            finalPayment\n            deliveryTimeline\n            deliverables\n            specialRequirements\n        }\n    }\n"]))),V=(0,K.J1)(l||(l=(0,a.A)(["\n    mutation CreateProject($input: ProjectInput!) {\n        createProject(input: $input) {\n            id\n            projectName\n            projectGoal\n            suggestedPrice\n            upfrontPayment\n        }\n    }\n"]))),X=(0,K.J1)(i||(i=(0,a.A)(["\n    mutation CreateTask($input: TaskInput!) {\n        createTask(input: $input) {\n            id\n            name\n            description\n            status\n        }\n    }\n"]))),ee=(0,K.J1)(t||(t=(0,a.A)(["\n    mutation CreateBill($input: BillInput!) {\n        createBill(input: $input) {\n            id\n            status\n            totalAmount\n        }\n    }\n"]))),oe=e=>{let{isOpen:o,onClose:r,email:n}=e;const l=(0,F.d)(),[i,t]=(0,c.useState)(null),[a,K]=(0,c.useState)(!1),[oe,re]=(0,c.useState)(!1),[ne,le]=(0,c.useState)(!0),[ie,te]=(0,c.useState)(0),[se]=(0,G.n)(Y),[ae]=(0,G.n)(V),[ce]=(0,G.n)(X),[de]=(0,G.n)(ee),me=(0,Q.oU)("textPrimary"),he=(0,Q.oU)("textSecondary"),ue=(0,Q.oU)("background"),xe=(0,Q.oU)("cardBorder");(0,c.useEffect)(()=>{!o||i||a||pe()},[o]);const pe=async()=>{K(!0);try{var e,o,r,i;const s=await se({variables:{emailContent:n.bodyMarkdown||"",emailSubject:n.subject||"",senderName:(null===(e=n.from)||void 0===e?void 0:e.split("<")[0].trim())||"",senderEmail:(null===(o=n.from)||void 0===o||null===(r=o.match(/<(.+)>/))||void 0===r?void 0:r[1])||n.from||""}});null!==(i=s.data)&&void 0!==i&&i.scanEmailAndGenerateProjectProposal&&(t(s.data.scanEmailAndGenerateProjectProposal),l({title:"Analysis Complete",description:"AI has extracted project details from the email",status:"success",duration:3e3}))}catch(s){console.error("Failed to analyze email:",s),l({title:"Analysis failed",description:"Could not analyze email. Please fill in details manually.",status:"error",duration:5e3}),t({projectName:n.subject||"New Project",projectSummary:"",clientName:"",clientEmail:"",clientPhone:"",tasks:[],suggestedPrice:0,upfrontPayment:0,finalPayment:0,deliveryTimeline:"2 weeks",deliverables:[],specialRequirements:""})}finally{K(!1)}},je=(e,o,r)=>{if(!i)return;const n=[...i.tasks];n[e]=(0,s.A)((0,s.A)({},n[e]),{},{[o]:r}),t((0,s.A)((0,s.A)({},i),{},{tasks:n}))},ge=(null===i||void 0===i?void 0:i.tasks.reduce((e,o)=>e+o.estimatedHours,0))||0;return(0,Z.jsxs)(A.aF,{isOpen:o,onClose:r,size:"6xl",children:[(0,Z.jsx)(S.m,{}),(0,Z.jsxs)(w.$,{bg:ue,borderColor:xe,children:[(0,Z.jsx)(k.r,{color:me,children:(0,Z.jsxs)(P.z,{children:[(0,Z.jsx)(q.est,{}),(0,Z.jsx)(W.E,{children:"Convert Email to Project"})]})}),(0,Z.jsx)(C.s,{color:he}),(0,Z.jsx)(f.c,{children:a?(0,Z.jsxs)(z.T,{spacing:4,py:8,children:[(0,Z.jsx)(T.y,{size:"xl",color:(0,Q.oU)("primaryBlue")}),(0,Z.jsx)(W.E,{color:he,children:"AI is analyzing email content..."}),(0,Z.jsx)(W.E,{fontSize:"sm",color:he,children:"Extracting project details and tasks"})]}):i?(0,Z.jsxs)(N.t,{index:ie,onChange:te,children:[(0,Z.jsxs)(L.w,{children:[(0,Z.jsx)(D.o,{color:he,children:"Project Details"}),(0,Z.jsxs)(D.o,{color:he,children:["Tasks (",i.tasks.length,")"]}),(0,Z.jsx)(D.o,{color:he,children:"Pricing"})]}),(0,Z.jsxs)(O.T,{children:[(0,Z.jsx)(H.K,{children:(0,Z.jsxs)(z.T,{spacing:4,align:"stretch",children:[(0,Z.jsxs)(g.MJ,{children:[(0,Z.jsx)(b.l,{color:he,children:"Project Name"}),(0,Z.jsx)(v.p,{value:i.projectName,onChange:e=>t((0,s.A)((0,s.A)({},i),{},{projectName:e.target.value})),bg:ue,borderColor:xe,color:me})]}),(0,Z.jsxs)(g.MJ,{children:[(0,Z.jsx)(b.l,{color:he,children:"Project Summary"}),(0,Z.jsx)(J.T,{value:i.projectSummary,onChange:e=>t((0,s.A)((0,s.A)({},i),{},{projectSummary:e.target.value})),bg:ue,borderColor:xe,color:me,rows:3})]}),(0,Z.jsxs)(P.z,{spacing:4,children:[(0,Z.jsxs)(g.MJ,{children:[(0,Z.jsx)(b.l,{color:he,children:"Client Name"}),(0,Z.jsx)(v.p,{value:i.clientName,onChange:e=>t((0,s.A)((0,s.A)({},i),{},{clientName:e.target.value})),bg:ue,borderColor:xe,color:me})]}),(0,Z.jsxs)(g.MJ,{children:[(0,Z.jsx)(b.l,{color:he,children:"Client Email"}),(0,Z.jsx)(v.p,{value:i.clientEmail||"",onChange:e=>t((0,s.A)((0,s.A)({},i),{},{clientEmail:e.target.value})),bg:ue,borderColor:xe,color:me})]})]}),(0,Z.jsxs)(g.MJ,{children:[(0,Z.jsxs)(b.l,{color:he,children:[(0,Z.jsx)(q.Ohp,{style:{display:"inline",marginRight:"8px"}}),"Delivery Timeline"]}),(0,Z.jsx)(v.p,{value:i.deliveryTimeline,onChange:e=>t((0,s.A)((0,s.A)({},i),{},{deliveryTimeline:e.target.value})),bg:ue,borderColor:xe,color:me})]})]})}),(0,Z.jsx)(H.K,{children:(0,Z.jsxs)(z.T,{spacing:4,align:"stretch",children:[(0,Z.jsxs)(P.z,{justify:"space-between",children:[(0,Z.jsxs)(W.E,{color:he,children:["Total Hours: ",(0,Z.jsxs)(h.E,{colorScheme:"blue",children:[ge,"h"]})]}),(0,Z.jsx)(x.$,{size:"sm",leftIcon:(0,Z.jsx)(q.GGD,{}),variant:"outline",onClick:()=>{if(!i)return;const e={title:"New Task",description:"",estimatedHours:1,order:i.tasks.length+1,category:"Development"};t((0,s.A)((0,s.A)({},i),{},{tasks:[...i.tasks,e]}))},children:"Add Task"})]}),(0,Z.jsx)(u.a,{maxH:"300px",overflowY:"auto",children:(0,Z.jsxs)(U.X,{size:"sm",children:[(0,Z.jsx)(_.d,{children:(0,Z.jsxs)(I.Tr,{children:[(0,Z.jsx)(R.Th,{color:he,children:"Task"}),(0,Z.jsx)(R.Th,{color:he,children:"Description"}),(0,Z.jsx)(R.Th,{color:he,isNumeric:!0,children:"Hours"}),(0,Z.jsx)(R.Th,{})]})}),(0,Z.jsx)($.N,{children:i.tasks.map((e,o)=>(0,Z.jsxs)(I.Tr,{children:[(0,Z.jsx)(M.Td,{children:(0,Z.jsx)(v.p,{value:e.title,onChange:e=>je(o,"title",e.target.value),size:"sm",bg:ue,borderColor:xe,color:me})}),(0,Z.jsx)(M.Td,{children:(0,Z.jsx)(v.p,{value:e.description,onChange:e=>je(o,"description",e.target.value),size:"sm",bg:ue,borderColor:xe,color:me})}),(0,Z.jsx)(M.Td,{children:(0,Z.jsxs)(E.Q7,{value:e.estimatedHours,onChange:(e,r)=>je(o,"estimatedHours",r),min:.5,step:.5,size:"sm",width:"80px",children:[(0,Z.jsx)(E.OO,{bg:ue,borderColor:xe,color:me}),(0,Z.jsxs)(E.lw,{children:[(0,Z.jsx)(E.Q0,{}),(0,Z.jsx)(E.Sh,{})]})]})}),(0,Z.jsx)(M.Td,{children:(0,Z.jsx)(p.K,{"aria-label":"Remove task",icon:(0,Z.jsx)(q.IXo,{}),size:"sm",variant:"ghost",colorScheme:"red",onClick:()=>(e=>{i&&t((0,s.A)((0,s.A)({},i),{},{tasks:i.tasks.filter((o,r)=>r!==e)}))})(o)})})]},o))})]})})]})}),(0,Z.jsx)(H.K,{children:(0,Z.jsxs)(z.T,{spacing:4,align:"stretch",children:[(0,Z.jsxs)(d.F,{status:"info",variant:"subtle",children:[(0,Z.jsx)(m._,{}),(0,Z.jsxs)(u.a,{children:[(0,Z.jsx)(W.E,{fontWeight:"bold",children:"AI Pricing Recommendation"}),(0,Z.jsxs)(W.E,{fontSize:"sm",children:["Based on ",ge," hours of work"]})]})]}),(0,Z.jsxs)(P.z,{spacing:4,children:[(0,Z.jsxs)(g.MJ,{children:[(0,Z.jsxs)(b.l,{color:he,children:[(0,Z.jsx)(q.z8N,{style:{display:"inline"}})," Total Price"]}),(0,Z.jsxs)(E.Q7,{value:i.suggestedPrice,onChange:(e,o)=>t((0,s.A)((0,s.A)({},i),{},{suggestedPrice:o,upfrontPayment:Math.round(.5*o),finalPayment:Math.round(.5*o)})),min:0,step:100,children:[(0,Z.jsx)(E.OO,{bg:ue,borderColor:xe,color:me}),(0,Z.jsxs)(E.lw,{children:[(0,Z.jsx)(E.Q0,{}),(0,Z.jsx)(E.Sh,{})]})]})]}),(0,Z.jsxs)(g.MJ,{children:[(0,Z.jsx)(b.l,{color:he,children:"50% Upfront"}),(0,Z.jsxs)(E.Q7,{value:i.upfrontPayment,onChange:(e,o)=>t((0,s.A)((0,s.A)({},i),{},{upfrontPayment:o})),min:0,step:100,children:[(0,Z.jsx)(E.OO,{bg:ue,borderColor:xe,color:me}),(0,Z.jsxs)(E.lw,{children:[(0,Z.jsx)(E.Q0,{}),(0,Z.jsx)(E.Sh,{})]})]})]}),(0,Z.jsxs)(g.MJ,{children:[(0,Z.jsx)(b.l,{color:he,children:"50% Final"}),(0,Z.jsxs)(E.Q7,{value:i.finalPayment,onChange:(e,o)=>t((0,s.A)((0,s.A)({},i),{},{finalPayment:o})),min:0,step:100,children:[(0,Z.jsx)(E.OO,{bg:ue,borderColor:xe,color:me}),(0,Z.jsxs)(E.lw,{children:[(0,Z.jsx)(E.Q0,{}),(0,Z.jsx)(E.Sh,{})]})]})]})]}),(0,Z.jsx)(j.c,{}),(0,Z.jsxs)(g.MJ,{display:"flex",alignItems:"center",children:[(0,Z.jsx)(b.l,{mb:0,color:he,children:"Create draft invoice for full amount"}),(0,Z.jsx)(B.d,{isChecked:ne,onChange:e=>le(e.target.checked),colorScheme:"green"})]}),ne&&(0,Z.jsxs)(d.F,{status:"success",variant:"subtle",children:[(0,Z.jsx)(m._,{}),(0,Z.jsxs)(W.E,{fontSize:"sm",children:["A draft invoice for $",i.suggestedPrice," will be created. You can then generate a 50% upfront invoice from it."]})]})]})})]})]}):null}),(0,Z.jsxs)(y.j,{children:[(0,Z.jsx)(x.$,{variant:"ghost",mr:3,onClick:r,isDisabled:oe,children:"Cancel"}),(0,Z.jsx)(x.$,{leftIcon:(0,Z.jsx)(q.est,{}),colorScheme:"green",onClick:async()=>{if(i){re(!0);try{var e,o;const s=null===(e=(await ae({variables:{input:{projectName:i.projectName,projectGoal:i.projectSummary,projectDescription:i.specialRequirements||"",billingClient:"000000000000000000000000",clientEmail:i.clientEmail,clientPhone:i.clientPhone,suggestedPrice:i.suggestedPrice,upfrontPayment:i.upfrontPayment,finalPayment:i.finalPayment,deliveryTimeline:i.deliveryTimeline,deliverables:i.deliverables,specialRequirements:i.specialRequirements,sourceEmailId:n.id,proposalStatus:"draft"}}})).data)||void 0===e||null===(o=e.createProject)||void 0===o?void 0:o.id;if(s){for(const e of i.tasks)await ce({variables:{input:{projectId:s,name:e.title,description:e.description,estimatedHours:e.estimatedHours,order:e.order,category:e.category,status:"TODO"}}});if(ne&&i.suggestedPrice>0)try{await de({variables:{input:{projectId:s,isPaid:!1,status:"DRAFT",currency:"AUD",showPaymentDetails:!1,lineItems:[{description:"".concat(i.projectName," - Complete Project"),amount:i.suggestedPrice}],paymentTerms:"Total project value. 50% upfront ($".concat(i.upfrontPayment,"), 50% on completion ($").concat(i.finalPayment,")")}}})}catch(t){console.error("Failed to create draft invoice:",t)}l({title:"Project Created! \ud83c\udf89",description:"Created project with ".concat(i.tasks.length," tasks").concat(ne?" and draft invoice":""),status:"success",duration:5e3}),window.open("/projects/".concat(s),"_blank"),r()}}catch(s){console.error("Failed to create project:",s),l({title:"Failed to create project",description:"Please try again",status:"error",duration:5e3})}finally{re(!1)}}},isLoading:oe,isDisabled:!i||!i.projectName||a,children:"Create Project & Open"})]})]})]})}},13191:(e,o,r)=>{r.d(o,{k:()=>a});var n=r(89379),l=r(70579),i=r(64765),t=r(55003),s=r(77971);const a=(0,t.R)(function(e,o){return(0,l.jsx)(s.B.div,(0,n.A)((0,n.A)({},e),{},{ref:o,role:"group",className:(0,i.cx)("chakra-stat__group",e.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))});a.displayName="StatGroup"},15218:(e,o,r)=>{r.r(o),r.d(o,{default:()=>ue});var n,l,i,t,s,a,c=r(57528),d=r(65043),m=r(96870),h=r(87139),u=r(22107),x=r(98662),p=r(42703),j=r(83169),g=r(24330),b=r(68659),v=r(34946),f=r(3053),C=r(98939),y=r(82459),k=r(73225),S=r(76668),A=r(35699),w=r(45973),E=r(29244),T=r(47781),P=r(67516),z=r(35929),B=r(15071),U=r(11054),$=r(78460),M=r(25722),R=r(61724),_=r(76659),I=r(96148),D=r(10202),L=r(94217),H=r(13191),O=r(53332),N=r(78149),J=r(30502),F=r(28846),W=r(39081),G=r(73216),K=r(31881),q=r(10585),Q=r(70459),Z=r(1009),Y=r(52003),V=r(63295),X=r(39985),ee=r(66037),oe=r(95214),re=r(95393),ne=r(30378),le=r(80454),ie=r(10744),te=r(70579);const se=(0,Q.J1)(n||(n=(0,c.A)(["\n    query GetEmail($id: ID!) {\n        email(id: $id) {\n            id\n            subject\n            bodyMarkdown\n            bodyHtml\n            from\n            to\n            cc\n            bcc\n            replyTo\n            status\n            createdAt\n            sentAt\n            opens\n            clicks\n            messageId\n            errorMessage\n            attachments {\n                name\n                contentType\n                contentLength\n                content\n            }\n        }\n    }\n"]))),ae=(0,Q.J1)(l||(l=(0,c.A)(["\n    mutation UpdateEmail($id: ID!, $input: EmailUpdateInput!) {\n        updateEmail(id: $id, input: $input) {\n            id\n            subject\n            status\n        }\n    }\n"]))),ce=(0,Q.J1)(i||(i=(0,c.A)(["\n    mutation SendEmail($id: ID!) {\n        sendEmail(id: $id) {\n            id\n            status\n            sentAt\n        }\n    }\n"]))),de=(0,Q.J1)(t||(t=(0,c.A)(["\n    mutation DuplicateEmail($id: ID!) {\n        duplicateEmail(id: $id) {\n            id\n        }\n    }\n"]))),me=(0,Q.J1)(s||(s=(0,c.A)(["\n    query GetEmailSenders {\n        emailSenders\n    }\n"]))),he=(0,Q.J1)(a||(a=(0,c.A)(["\n    query GetEmailAddresses($search: String) {\n        emailAddresses(search: $search) {\n            id\n            email\n            name\n            type\n            emailsSent\n            emailsReceived\n        }\n    }\n"]))),ue=()=>{var e,o,r;(0,ee.H)("Email View");const{id:n}=(0,G.g)(),l=(0,G.Zp)(),i=(0,J.d)(),t=(0,X.oU)("background.main"),s=(0,X.oU)("background.cardGradient"),a=(0,X.oU)("border.darkCard"),c=(0,X.oU)("text.primaryDark"),Q=(0,X.oU)("text.secondaryDark"),ue=(0,X.oU)("text.mutedDark"),xe=t,[pe,je]=(0,d.useState)(!1),[ge,be]=(0,d.useState)(""),[ve,fe]=(0,d.useState)(""),[Ce,ye]=(0,d.useState)(""),[ke,Se]=(0,d.useState)(""),[Ae,we]=(0,d.useState)(""),[Ee,Te]=(0,d.useState)(""),[Pe,ze]=(0,d.useState)(""),[Be,Ue]=(0,d.useState)(""),[$e,Me]=(0,d.useState)(""),[Re,_e]=(0,d.useState)(!1),[Ie,De]=(0,d.useState)([]),[Le,He]=(0,d.useState)("to"),{isOpen:Oe,onOpen:Ne,onClose:Je}=(0,m.j)(),{isOpen:Fe,onOpen:We,onClose:Ge}=(0,m.j)(),{data:Ke,loading:qe,refetch:Qe}=(0,q.IT)(se,{variables:{id:n},onCompleted:e=>{null!==e&&void 0!==e&&e.email&&(be(e.email.subject),fe(e.email.from),ye(e.email.to),Se(e.email.cc||""),we(e.email.bcc||""),Te(e.email.replyTo||""),ze(e.email.bodyMarkdown),console.log("Email attachments:",e.email.attachments))}}),{data:Ze}=(0,q.IT)(me),{data:Ye}=(0,q.IT)(he,{variables:{search:Be},skip:!Be||Be.length<2}),{data:Ve}=(0,q.IT)(he,{variables:{search:$e||void 0},skip:!Oe}),Xe=e=>{He(e),Ne()},eo=()=>{Me(""),De([]),Je()},[oo]=(0,K.n)(ae,{onCompleted:()=>{i({title:"Email updated",status:"success",duration:3e3,isClosable:!0}),je(!1),Qe()},onError:e=>{i({title:"Error updating email",description:e.message,status:"error",duration:5e3,isClosable:!0})}}),[ro]=(0,K.n)(ce,{onCompleted:()=>{i({title:"Email sent successfully",status:"success",duration:3e3,isClosable:!0}),Qe()},onError:e=>{i({title:"Error sending email",description:e.message,status:"error",duration:5e3,isClosable:!0})}}),[no]=(0,K.n)(de,{onCompleted:e=>{i({title:"Email duplicated",status:"success",duration:3e3,isClosable:!0}),l("/email/".concat(e.duplicateEmail.id))},onError:e=>{i({title:"Error duplicating email",description:e.message,status:"error",duration:5e3,isClosable:!0})}});if(qe)return(0,te.jsxs)(u.a,{minH:"100vh",bg:t,display:"flex",flexDirection:"column",children:[(0,te.jsx)(Y.m,{}),(0,te.jsx)(oe.y,{moduleConfig:re.default}),(0,te.jsx)(C.m,{maxW:"container.xl",py:8,flex:"1",children:(0,te.jsx)(b.o,{py:20,children:(0,te.jsx)(_.y,{size:"xl",color:(0,X.oU)("primaryBlue")})})}),(0,te.jsx)(V.n,{})]});const lo=null===Ke||void 0===Ke?void 0:Ke.email,io="DRAFT"===(null===lo||void 0===lo?void 0:lo.status),to="SENT"===(null===lo||void 0===lo?void 0:lo.status);return(0,te.jsxs)(u.a,{minH:"100vh",bg:t,display:"flex",flexDirection:"column",children:[(0,te.jsx)(Y.m,{}),(0,te.jsx)(oe.y,{moduleConfig:re.default}),(0,te.jsx)(C.m,{maxW:"container.xl",py:8,flex:"1",children:(0,te.jsxs)(D.T,{spacing:6,align:"stretch",children:[(0,te.jsxs)(I.z,{justify:"space-between",children:[(0,te.jsxs)(I.z,{children:[(0,te.jsx)(x.$,{leftIcon:(0,te.jsx)(Z.kRp,{}),variant:"outline",borderColor:a,color:c,_hover:{bg:s},onClick:()=>l("/emails"),children:"Back to Emails"}),(0,te.jsx)(x.$,{leftIcon:(0,te.jsx)(Z.est,{}),size:"lg",variant:"solid",bg:"green.500",color:"white",_hover:{bg:"green.600",transform:"scale(1.05)"},_active:{bg:"green.700"},onClick:We,px:8,fontSize:"lg",fontWeight:"bold",boxShadow:"lg",children:"Convert to Project"}),(0,te.jsx)(F.D,{size:"lg",color:c,children:pe?"Edit Email":"View Email"}),(0,te.jsx)(h.E,{colorScheme:(so=null===lo||void 0===lo?void 0:lo.status,{DRAFT:"gray",SENT:"green",FAILED:"red",SCHEDULED:"blue"}[so]||"gray"),variant:"solid",children:null===lo||void 0===lo?void 0:lo.status})]}),(0,te.jsxs)(I.z,{children:[io&&!pe&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(x.$,{onClick:()=>je(!0),variant:"outline",borderColor:a,color:c,_hover:{bg:s},children:"Edit"}),(0,te.jsx)(x.$,{leftIcon:(0,te.jsx)(Z.kGk,{}),bg:(0,X.oU)("primaryBlue"),color:"white",_hover:{bg:(0,X.oU)("primaryBlueHover")},onClick:async()=>{await ro({variables:{id:n}})},children:"Send Now"})]}),pe&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(x.$,{variant:"outline",onClick:()=>je(!1),borderColor:a,color:c,_hover:{bg:s},children:"Cancel"}),(0,te.jsx)(x.$,{leftIcon:(0,te.jsx)(Z.Bc_,{}),bg:(0,X.oU)("primaryBlue"),color:"white",_hover:{bg:(0,X.oU)("primaryBlueHover")},onClick:async()=>{await oo({variables:{id:n,input:{subject:ge,from:ve,to:Ce,cc:ke||void 0,bcc:Ae||void 0,replyTo:Ee||void 0,bodyMarkdown:Pe}}})},children:"Save Changes"})]}),!pe&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(x.$,{leftIcon:(0,te.jsx)(Z.nxz,{}),variant:"outline",borderColor:a,color:c,_hover:{bg:s},onClick:async()=>{await no({variables:{id:n}})},children:"Duplicate"}),to&&(0,te.jsx)(x.$,{leftIcon:(0,te.jsx)(Z.kGk,{}),variant:"outline",borderColor:a,color:c,_hover:{bg:s},onClick:()=>{var e;const o=lo.sentAt?(0,le.GP)(new Date(lo.sentAt),"PPpp"):"Unknown date",r=lo.bodyMarkdown||(null===(e=lo.bodyHtml)||void 0===e?void 0:e.replace(/<[^>]*>/g,""))||"",n="\n\n---\n\nOn ".concat(o,", ").concat(lo.from," wrote:\n\n").concat(r.split("\n").map(e=>"> ".concat(e)).join("\n")),i=lo.from.match(/<(.+?)>/)||lo.from.match(/([^\s]+@[^\s]+)/),t=i?i[1]:lo.from;l("/emails/new",{state:{to:lo.to,cc:lo.cc,subject:"Re: ".concat(lo.subject),replyTo:t,bodyMarkdown:n}})},children:"Reply All"})]})]})]}),to&&(0,te.jsx)(j.Z,{bg:s,border:"1px solid",borderColor:a,children:(0,te.jsx)(g.b,{children:(0,te.jsxs)(H.k,{children:[(0,te.jsxs)(L.r,{children:[(0,te.jsx)(O.v,{color:ue,children:"Sent At"}),(0,te.jsx)(N.k,{fontSize:"md",color:c,children:lo.sentAt&&(0,le.GP)(new Date(lo.sentAt),"PPpp")})]}),(0,te.jsxs)(L.r,{children:[(0,te.jsx)(O.v,{color:ue,children:"Opens"}),(0,te.jsx)(N.k,{color:c,children:lo.opens||0})]}),(0,te.jsxs)(L.r,{children:[(0,te.jsx)(O.v,{color:ue,children:"Clicks"}),(0,te.jsx)(N.k,{color:c,children:lo.clicks||0})]}),lo.messageId&&(0,te.jsxs)(L.r,{children:[(0,te.jsx)(O.v,{color:ue,children:"Message ID"}),(0,te.jsx)(N.k,{fontSize:"sm",color:c,wordBreak:"break-all",children:lo.messageId})]})]})})}),"FAILED"===(null===lo||void 0===lo?void 0:lo.status)&&(null===lo||void 0===lo?void 0:lo.errorMessage)&&(0,te.jsx)(j.Z,{bg:s,border:"1px solid",borderColor:"red.500",children:(0,te.jsxs)(g.b,{children:[(0,te.jsx)(W.E,{color:"red.400",fontWeight:"bold",children:"Error:"}),(0,te.jsx)(W.E,{color:"red.300",children:lo.errorMessage})]})}),(0,te.jsx)(j.Z,{bg:s,border:"1px solid",borderColor:a,children:(0,te.jsx)(g.b,{children:(0,te.jsxs)(D.T,{spacing:4,align:"stretch",children:[(0,te.jsxs)(k.MJ,{children:[(0,te.jsx)(S.l,{color:ue,children:"From"}),pe?(0,te.jsx)(R.l,{value:ve,onChange:e=>fe(e.target.value),bg:xe,borderColor:a,color:c,children:null===Ze||void 0===Ze||null===(e=Ze.emailSenders)||void 0===e?void 0:e.map(e=>(0,te.jsx)("option",{value:e,style:{backgroundColor:"#1a1a1a"},children:e},e))}):(0,te.jsx)(W.E,{color:c,children:ve})]}),(0,te.jsxs)(k.MJ,{children:[(0,te.jsx)(S.l,{color:ue,children:"To"}),pe?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(w.M,{children:[(0,te.jsx)(A.p,{type:"text",value:Ce,onChange:e=>{return o=e.target.value,ye(o),Ue(o),void _e(o.length>=2);var o},placeholder:"recipient@example.com or multiple emails separated by commas",bg:xe,borderColor:a,color:c,_placeholder:{color:ue},onFocus:()=>Ce.length>=2&&_e(!0),onBlur:()=>setTimeout(()=>_e(!1),200)}),(0,te.jsx)(E.t,{children:(0,te.jsx)(p.K,{"aria-label":"Open address book",icon:(0,te.jsx)(Z.cfS,{}),size:"sm",variant:"ghost",color:Q,onClick:()=>Xe("to"),_hover:{color:(0,X.oU)("primaryBlue")}})})]}),Re&&(null===Ye||void 0===Ye?void 0:Ye.emailAddresses)&&Ye.emailAddresses.length>0&&(0,te.jsx)(u.a,{position:"absolute",zIndex:10,w:"full",mt:1,bg:s,border:"1px solid",borderColor:a,borderRadius:"md",boxShadow:"lg",maxH:"200px",overflowY:"auto",children:(0,te.jsx)(T.B8,{p:2,children:Ye.emailAddresses.map(e=>(0,te.jsx)(T.ck,{p:2,cursor:"pointer",_hover:{bg:(0,X.oU)("background.overlay")},borderRadius:"md",onClick:()=>(e=>{ye(e),_e(!1),Ue("")})(e.email),children:(0,te.jsxs)(I.z,{justify:"space-between",children:[(0,te.jsxs)(D.T,{align:"start",spacing:0,children:[(0,te.jsx)(W.E,{fontSize:"sm",color:c,children:e.name||e.email}),e.name&&(0,te.jsx)(W.E,{fontSize:"xs",color:ue,children:e.email})]}),(0,te.jsx)(h.E,{colorScheme:"PERSONAL"===e.type?"blue":"BUSINESS"===e.type?"green":"gray",size:"sm",children:e.type})]})},e.id))})})]}):(0,te.jsx)(W.E,{color:c,children:Ce})]}),(ke||pe)&&(0,te.jsxs)(k.MJ,{children:[(0,te.jsx)(S.l,{color:ue,children:"CC"}),pe?(0,te.jsxs)(w.M,{children:[(0,te.jsx)(A.p,{type:"text",value:ke,onChange:e=>Se(e.target.value),placeholder:"Optional: Add CC recipients",bg:xe,borderColor:a,color:c,_placeholder:{color:ue}}),(0,te.jsx)(E.t,{children:(0,te.jsx)(p.K,{"aria-label":"Open address book for CC",icon:(0,te.jsx)(Z.cfS,{}),size:"sm",variant:"ghost",color:Q,onClick:()=>Xe("cc"),_hover:{color:(0,X.oU)("primaryBlue")}})})]}):(0,te.jsx)(W.E,{color:c,children:ke})]}),(Ae||pe)&&(0,te.jsxs)(k.MJ,{children:[(0,te.jsx)(S.l,{color:ue,children:"BCC"}),pe?(0,te.jsxs)(w.M,{children:[(0,te.jsx)(A.p,{type:"text",value:Ae,onChange:e=>we(e.target.value),placeholder:"Optional: Add BCC recipients",bg:xe,borderColor:a,color:c,_placeholder:{color:ue}}),(0,te.jsx)(E.t,{children:(0,te.jsx)(p.K,{"aria-label":"Open address book for BCC",icon:(0,te.jsx)(Z.cfS,{}),size:"sm",variant:"ghost",color:Q,onClick:()=>Xe("bcc"),_hover:{color:(0,X.oU)("primaryBlue")}})})]}):(0,te.jsx)(W.E,{color:c,children:Ae})]}),(Ee||pe)&&(0,te.jsxs)(k.MJ,{children:[(0,te.jsx)(S.l,{color:ue,children:"Reply To"}),pe?(0,te.jsx)(A.p,{type:"email",value:Ee,onChange:e=>Te(e.target.value),placeholder:"Optional: Different reply address",bg:xe,borderColor:a,color:c,_placeholder:{color:ue}}):(0,te.jsx)(W.E,{color:c,children:Ee})]}),(null===lo||void 0===lo?void 0:lo.attachments)&&lo.attachments.length>0&&(0,te.jsxs)(k.MJ,{children:[(0,te.jsx)(S.l,{color:ue,children:(0,te.jsxs)(I.z,{children:[(0,te.jsx)(W.E,{children:"Attachments"}),(0,te.jsx)(h.E,{colorScheme:"blue",children:lo.attachments.length})]})}),(0,te.jsx)(D.T,{align:"stretch",spacing:2,children:lo.attachments.map((e,o)=>{return(0,te.jsxs)(I.z,{p:3,bg:xe,borderRadius:"md",border:"1px solid",borderColor:a,justify:"space-between",_hover:{borderColor:(0,X.oU)("primaryBlue")},children:[(0,te.jsxs)(I.z,{flex:1,children:[(0,te.jsx)(u.a,{color:"green.500",children:(0,te.jsx)(Z.QuH,{size:"20px"})}),(0,te.jsxs)(D.T,{align:"start",spacing:0,children:[(0,te.jsx)(W.E,{fontSize:"sm",color:c,fontWeight:"medium",children:e.name}),(0,te.jsxs)(I.z,{spacing:2,children:[(0,te.jsx)(h.E,{colorScheme:"green",fontSize:"xs",children:"Attached"}),(0,te.jsx)(W.E,{fontSize:"xs",color:ue,children:(r=e.contentLength,r?r<1024?r+" B":r<1048576?(r/1024).toFixed(1)+" KB":(r/1048576).toFixed(1)+" MB":"0 B")})]})]})]}),(0,te.jsx)(x.$,{size:"sm",leftIcon:(0,te.jsx)(Z.a4x,{}),variant:"ghost",color:(0,X.oU)("primaryBlue"),onClick:()=>(e=>{const o=atob(e.content),r=new Array(o.length);for(let s=0;s<o.length;s++)r[s]=o.charCodeAt(s);const n=new Uint8Array(r),l=new Blob([n],{type:e.contentType}),i=window.URL.createObjectURL(l),t=document.createElement("a");t.href=i,t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(i)})(e),children:"Download"})]},o);var r})})]}),(0,te.jsx)(y.c,{}),pe?(0,te.jsx)(ne.A,{subject:ge,onSubjectChange:be,content:Pe,onContentChange:ze,contentType:"html",placeholder:"Write your email content...",subjectPlaceholder:"Enter email subject",showSubject:!0}):(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)(k.MJ,{children:[(0,te.jsx)(S.l,{color:ue,children:"Subject"}),(0,te.jsx)(F.D,{size:"md",color:c,children:ge})]}),(0,te.jsxs)(k.MJ,{children:[(0,te.jsx)(S.l,{color:ue,children:"Email Body"}),(0,te.jsx)(ne.A,{subject:ge,onSubjectChange:()=>{},content:Pe,onContentChange:()=>{},contentType:"html",isReadOnly:!0,showSubject:!1})]})]})]})})})]})}),(0,te.jsx)(V.n,{}),(0,te.jsxs)($.aF,{isOpen:Oe,onClose:eo,size:"xl",children:[(0,te.jsx)(U.m,{}),(0,te.jsxs)(M.$,{bg:s,border:"1px solid",borderColor:a,children:[(0,te.jsxs)(B.r,{color:c,children:["Select Recipients for ",Le.toUpperCase()," from Address Book"]}),(0,te.jsx)(z.s,{color:Q}),(0,te.jsx)(P.c,{pb:6,children:(0,te.jsxs)(D.T,{align:"stretch",spacing:4,children:[(0,te.jsxs)(w.M,{children:[(0,te.jsx)(A.p,{placeholder:"Search address book...",bg:t,borderColor:a,color:c,_placeholder:{color:ue},value:$e,onChange:e=>Me(e.target.value)}),(0,te.jsx)(E.t,{children:(0,te.jsx)(Z.CKj,{color:ue})})]}),(0,te.jsxs)(W.E,{fontSize:"sm",color:ue,children:[(null===Ve||void 0===Ve||null===(o=Ve.emailAddresses)||void 0===o?void 0:o.length)||0," contacts in address book"]}),(0,te.jsx)(f.$,{value:Ie,onChange:e=>De(e),children:(0,te.jsx)(D.T,{align:"stretch",spacing:2,maxH:"400px",overflowY:"auto",children:null===Ve||void 0===Ve||null===(r=Ve.emailAddresses)||void 0===r?void 0:r.map(e=>(0,te.jsx)(u.a,{p:3,border:"1px solid",borderColor:a,borderRadius:"md",_hover:{bg:(0,X.oU)("background.overlay")},children:(0,te.jsx)(v.S,{value:e.email,colorScheme:"blue",children:(0,te.jsx)(I.z,{spacing:3,ml:2,children:(0,te.jsxs)(D.T,{align:"start",spacing:0,children:[(0,te.jsx)(W.E,{fontSize:"sm",color:c,children:e.name||e.email}),e.name&&(0,te.jsx)(W.E,{fontSize:"xs",color:ue,children:e.email})]})})})},e.id))})}),(0,te.jsxs)(I.z,{justify:"space-between",children:[(0,te.jsxs)(W.E,{fontSize:"sm",color:ue,children:[Ie.length," recipient(s) selected"]}),(0,te.jsxs)(I.z,{children:[(0,te.jsx)(x.$,{variant:"outline",onClick:eo,borderColor:a,children:"Cancel"}),(0,te.jsx)(x.$,{colorScheme:"blue",onClick:()=>{if(Ie.length>0){const e=Ie.join(", ");"to"===Le?ye(e):"cc"===Le?Se(e):"bcc"===Le&&we(e),De([]),Me(""),Je()}},isDisabled:0===Ie.length,children:"Add Recipients"})]})]})]})})]})]}),(0,te.jsx)(ie.R,{isOpen:Fe,onClose:Ge,email:{id:n||"",subject:ge,bodyMarkdown:Pe,from:ve}})]});var so}},30378:(e,o,r)=>{r.d(o,{A:()=>U});var n=r(65043),l=r(22107),i=r(98662),t=r(96351),s=r(42703),a=r(44093),c=r(82459),d=r(73225),m=r(76668),h=r(35699),u=r(96148),x=r(10202),p=r(14566),j=r(31411),g=r(10227),b=r(51794),v=r(3109),f=r(19077),C=r(47726),y=r(39081),k=r(1009),S=r(44990),A=r(11356),w=r(90621),E=r(16727),T=r(29541),P=r(64379),z=r(29285),B=r(70579);const U=e=>{let{subject:o,onSubjectChange:r,content:U,onContentChange:$,contentType:M="html",subjectPlaceholder:R="Enter email subject",isReadOnly:_=!1,onImprove:I,isImproving:D=!1,showSubject:L=!0}=e;const[H,O]=(0,n.useState)("visual"),[N,J]=(0,n.useState)(U),[F,W]=(0,n.useState)(0),G=(0,a.dU)("white","gray.800"),K=(0,a.dU)("white","gray.700"),q=(0,a.dU)("gray.200","gray.600"),Q=(0,a.dU)("gray.800","white"),Z=(0,a.dU)("gray.600","gray.300"),Y=(0,a.dU)("gray.500","gray.400"),V=(0,a.dU)("gray.50","gray.700"),X=(0,a.dU)("gray.300","gray.500"),ee=(0,a.dU)("white","gray.700"),oe=(0,a.dU)("gray.200","gray.600"),re=(0,a.dU)("gray.800","white"),ne=(0,a.dU)("blue.500","blue.400"),le=(0,a.dU)("blue.600","blue.500"),ie=(0,a.dU)("gray.100","gray.700"),te=(0,S.hG)({extensions:[A.A,E.A,w.Ay.configure({openOnClick:!1,HTMLAttributes:{style:"color: #3434ef; text-decoration: underline;"},autolink:!0,linkOnPaste:!0}),T.A.configure({types:["heading","paragraph"]})],content:"html"===M?U:"",onUpdate:e=>{let{editor:o}=e;if("visual"===H){const e=o.getHTML();$(e),J(e)}},editable:!_,editorProps:{handlePaste:(e,o)=>{var r;const n=null===(r=o.clipboardData)||void 0===r?void 0:r.getData("text/plain");return n&&/^https?:\/\//.test(n)&&setTimeout(()=>{te&&te.chain().focus().insertContent(" ").run()},10),!1}}});(0,n.useEffect)(()=>{te&&U!==te.getHTML()&&"visual"===H&&te.commands.setContent(U)},[U,te,H]);const se=e=>{let{icon:o,onClick:r,isActive:n=!1,tooltip:l}=e;return(0,B.jsx)(C.m,{label:l,placement:"top",children:(0,B.jsx)(s.K,{"aria-label":l,icon:o,size:"sm",variant:n?"solid":"ghost",bg:n?ne:"transparent",color:n?"white":Z,_hover:{bg:n?le:ie,color:n?"white":Q},onClick:r,isDisabled:_})})};return(0,B.jsxs)(x.T,{align:"stretch",spacing:6,children:[L&&(0,B.jsxs)(d.MJ,{children:[(0,B.jsx)(m.l,{color:Q,children:"Subject"}),(0,B.jsx)(h.p,{value:o,onChange:e=>r(e.target.value),placeholder:R,size:"lg",bg:K,borderColor:q,color:Q,_placeholder:{color:Y},_hover:{borderColor:X},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px rgba(66, 153, 225, 0.6)"},fontWeight:"medium",isReadOnly:_})]}),(0,B.jsxs)(d.MJ,{children:[(0,B.jsxs)(u.z,{justify:"space-between",mb:3,children:[(0,B.jsx)(m.l,{color:Q,mb:0,children:"Email Body"}),(0,B.jsxs)(u.z,{children:[I&&(0,B.jsx)(i.$,{size:"sm",leftIcon:(0,B.jsx)(y.E,{children:"\u2728"}),onClick:I,isLoading:D,loadingText:"Improving...",colorScheme:"purple",variant:"outline",_hover:{bg:"purple.50",borderColor:"purple.500"},children:"Improve with AI"}),(0,B.jsxs)(t.e,{size:"sm",isAttached:!0,variant:"outline",children:[(0,B.jsx)(C.m,{label:"Rich text editor with formatting toolbar - edit visually like a word processor",placement:"top",children:(0,B.jsx)(i.$,{onClick:()=>O("visual"),variant:"visual"===H?"solid":"outline",bg:"visual"===H?ne:"transparent",color:"visual"===H?"white":Z,borderColor:q,children:"Visual"})}),(0,B.jsx)(C.m,{label:"Edit raw HTML code directly - for advanced users who want precise control",placement:"top",children:(0,B.jsx)(i.$,{onClick:()=>O("source"),variant:"source"===H?"solid":"outline",bg:"source"===H?ne:"transparent",color:"source"===H?"white":Z,borderColor:q,children:"Source"})})]})]})]}),(0,B.jsxs)(v.t,{variant:"soft-rounded",colorScheme:"blue",index:F,onChange:W,children:[(0,B.jsxs)(j.w,{bg:G,p:2,borderRadius:"lg",border:"1px solid",borderColor:q,children:[(0,B.jsx)(C.m,{label:"visual"===H?"Write and format your email content here":"Edit the raw HTML source code directly",placement:"top",children:(0,B.jsx)(p.o,{color:Y,_selected:{bg:ne,color:"white"},children:"visual"===H?"Compose":"Edit"})}),(0,B.jsx)(C.m,{label:"Preview how your email will look with all formatting applied",placement:"top",children:(0,B.jsx)(p.o,{color:Y,_selected:{bg:ne,color:"white"},children:"HTML Preview"})}),(0,B.jsx)(C.m,{label:"See how your email appears in plain text for email clients that don't support HTML",placement:"top",children:(0,B.jsx)(p.o,{color:Y,_selected:{bg:ne,color:"white"},children:"Plain Text"})})]}),(0,B.jsxs)(b.T,{children:[(0,B.jsx)(g.K,{px:0,children:"visual"===H?(0,B.jsxs)(l.a,{children:[!_&&(0,B.jsxs)(u.z,{p:2,mb:2,bg:G,border:"1px solid",borderColor:q,borderRadius:"md",spacing:1,children:[(0,B.jsx)(se,{icon:(0,B.jsx)(k.hJt,{}),onClick:()=>null===te||void 0===te?void 0:te.chain().focus().toggleBold().run(),isActive:null===te||void 0===te?void 0:te.isActive("bold"),tooltip:"Bold"}),(0,B.jsx)(se,{icon:(0,B.jsx)(k.Gql,{}),onClick:()=>null===te||void 0===te?void 0:te.chain().focus().toggleItalic().run(),isActive:null===te||void 0===te?void 0:te.isActive("italic"),tooltip:"Italic"}),(0,B.jsx)(se,{icon:(0,B.jsx)(k._iB,{}),onClick:()=>null===te||void 0===te?void 0:te.chain().focus().toggleUnderline().run(),isActive:null===te||void 0===te?void 0:te.isActive("underline"),tooltip:"Underline"}),(0,B.jsx)(c.c,{orientation:"vertical",h:6,borderColor:q}),(0,B.jsx)(se,{icon:(0,B.jsx)(k.Wm,{}),onClick:()=>null===te||void 0===te?void 0:te.chain().focus().toggleBulletList().run(),isActive:null===te||void 0===te?void 0:te.isActive("bulletList"),tooltip:"Bullet List"}),(0,B.jsx)(se,{icon:(0,B.jsx)(k.ayE,{}),onClick:()=>{const e=window.prompt("Enter URL:");e&&te&&te.chain().focus().setLink({href:e}).run()},isActive:null===te||void 0===te?void 0:te.isActive("link"),tooltip:"Add Link"}),(0,B.jsx)(se,{icon:(0,B.jsx)(k.PjK,{}),onClick:()=>null===te||void 0===te?void 0:te.chain().focus().toggleCodeBlock().run(),isActive:null===te||void 0===te?void 0:te.isActive("codeBlock"),tooltip:"Code Block"}),(0,B.jsx)(c.c,{orientation:"vertical",h:6,borderColor:q}),(0,B.jsx)(se,{icon:(0,B.jsx)(k.qm6,{}),onClick:()=>null===te||void 0===te?void 0:te.chain().focus().setTextAlign("left").run(),isActive:null===te||void 0===te?void 0:te.isActive({textAlign:"left"}),tooltip:"Align Left"}),(0,B.jsx)(se,{icon:(0,B.jsx)(k.m8_,{}),onClick:()=>null===te||void 0===te?void 0:te.chain().focus().setTextAlign("center").run(),isActive:null===te||void 0===te?void 0:te.isActive({textAlign:"center"}),tooltip:"Align Center"}),(0,B.jsx)(se,{icon:(0,B.jsx)(k.RQX,{}),onClick:()=>null===te||void 0===te?void 0:te.chain().focus().setTextAlign("right").run(),isActive:null===te||void 0===te?void 0:te.isActive({textAlign:"right"}),tooltip:"Align Right"})]}),(0,B.jsx)(l.a,{bg:_?ee:K,border:"1px solid",borderColor:_?oe:q,borderRadius:"md",minH:"400px",p:4,sx:{".ProseMirror":{minHeight:"380px",outline:"none",color:_?re:Q,"& p":{marginBottom:"1em"},"& h1, & h2, & h3":{fontWeight:"bold",marginBottom:"0.5em",marginTop:"1em"},"& h1":{fontSize:"2em"},"& h2":{fontSize:"1.5em"},"& h3":{fontSize:"1.2em"},"& ul, & ol":{paddingLeft:"2em",marginBottom:"1em"},"& li":{marginBottom:"0.5em"},"& blockquote":{borderLeft:"3px solid",borderColor:q,paddingLeft:"1em",marginLeft:"0",fontStyle:"italic",color:Z},"& code":{backgroundColor:V,padding:"0.2em 0.4em",borderRadius:"3px",fontSize:"0.9em",fontFamily:"monospace"},"& pre":{backgroundColor:V,padding:"1em",borderRadius:"5px",overflow:"auto",marginBottom:"1em"}}},children:(0,B.jsx)(S.$Z,{editor:te})})]}):(0,B.jsx)(f.T,{value:N,onChange:e=>{return o=e.target.value,J(o),void("markdown"===M?$(o):($(o),te&&te.commands.setContent(o)));var o},placeholder:"markdown"===M?"Write in Markdown format...":"Edit HTML source...",minHeight:"450px",fontFamily:"mono",fontSize:"sm",bg:K,borderColor:q,color:Q,_placeholder:{color:Y},_hover:{borderColor:X},_focus:{borderColor:"blue.500",boxShadow:"0 0 0 1px rgba(66, 153, 225, 0.6)"},isReadOnly:_})}),(0,B.jsx)(g.K,{px:0,children:(0,B.jsx)(l.a,{bg:G,p:6,borderRadius:"md",minHeight:"400px",border:"1px solid",borderColor:q,children:"markdown"===M?(0,B.jsx)(l.a,{sx:{"& h1, & h2, & h3, & h4, & h5, & h6":{fontWeight:"bold",marginBottom:"0.5em",color:Q},"& p":{marginBottom:"1em",color:Q,lineHeight:"1.6"},"& a":{color:ne,textDecoration:"underline","&:hover":{color:le}},"& ul, & ol":{paddingLeft:"2em",marginBottom:"1em","& li":{color:Q}},"& li":{marginBottom:"0.5em",color:Q},"& blockquote":{borderLeft:"3px solid",borderColor:q,paddingLeft:"1em",marginLeft:"0",fontStyle:"italic",color:Z},"& code":{backgroundColor:V,padding:"0.2em 0.4em",borderRadius:"3px",fontSize:"0.9em",fontFamily:"monospace",color:ne},"& pre":{backgroundColor:V,padding:"1em",borderRadius:"5px",overflow:"auto",marginBottom:"1em","& code":{backgroundColor:"transparent",padding:"0",color:Q}},"& strong":{fontWeight:"bold",color:Q},"& em":{fontStyle:"italic",color:Q},"& hr":{border:"none",borderTop:"1px solid",borderColor:q,marginTop:"1em",marginBottom:"1em"},"& table":{width:"100%",marginBottom:"1em",borderCollapse:"collapse","& th, & td":{padding:"0.5em",border:"1px solid",borderColor:q,color:Q},"& th":{fontWeight:"bold",backgroundColor:V}}},children:(0,B.jsx)(P.oz,{remarkPlugins:[z.A],children:N})}):(0,B.jsx)(l.a,{dangerouslySetInnerHTML:{__html:N},sx:{"& *":{color:Q},"& h1, & h2, & h3, & h4, & h5, & h6":{fontWeight:"bold",marginBottom:"0.5em",marginTop:"0.5em",color:Q},"& h1":{fontSize:"2em"},"& h2":{fontSize:"1.5em"},"& h3":{fontSize:"1.2em"},"& h4":{fontSize:"1em"},"& p":{marginBottom:"1em",color:Q,lineHeight:"1.6"},"& a":{color:ne,textDecoration:"underline","&:hover":{color:le}},"& ul, & ol":{paddingLeft:"2em",marginBottom:"1em","& li":{color:Q,marginBottom:"0.5em"}},"& blockquote":{borderLeft:"3px solid",borderColor:q,paddingLeft:"1em",marginLeft:"0",fontStyle:"italic",color:Z},"& code":{backgroundColor:V,padding:"0.2em 0.4em",borderRadius:"3px",fontSize:"0.9em",fontFamily:"monospace",color:ne},"& pre":{backgroundColor:V,padding:"1em",borderRadius:"5px",overflow:"auto",marginBottom:"1em","& code":{backgroundColor:"transparent",padding:"0",color:Q}},"& strong, & b":{fontWeight:"bold",color:Q},"& em, & i":{fontStyle:"italic",color:Q},"& u":{textDecoration:"underline",color:Q},"& hr":{border:"none",borderTop:"1px solid",borderColor:q,marginTop:"1em",marginBottom:"1em"},"& table":{width:"100%",marginBottom:"1em",borderCollapse:"collapse","& th, & td":{padding:"0.5em",border:"1px solid",borderColor:q,color:Q},"& th":{fontWeight:"bold",backgroundColor:V}},"& img":{maxWidth:"100%",height:"auto",marginBottom:"1em"},"& span":{color:"inherit"},"& div":{color:Q}}})})}),(0,B.jsx)(g.K,{px:0,children:(0,B.jsx)(l.a,{bg:G,p:6,borderRadius:"md",minHeight:"400px",border:"1px solid",borderColor:q,children:(0,B.jsx)(y.E,{whiteSpace:"pre-wrap",color:Z,fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",lineHeight:"1.6",children:(e=>{const o=document.createElement("div");return o.innerHTML=e,o.textContent||o.innerText||""})(N)})})})]})]})]})]})}}}]);
//# sourceMappingURL=5218.11ef5b9e.chunk.js.map