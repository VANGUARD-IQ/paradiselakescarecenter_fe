"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[9257],{13191:(e,n,r)=>{r.d(n,{k:()=>l});var s=r(89379),t=r(70579),a=r(64765),o=r(55003),i=r(77971);const l=(0,o.R)(function(e,n){return(0,t.jsx)(i.B.div,(0,s.A)((0,s.A)({},e),{},{ref:n,role:"group",className:(0,a.cx)("chakra-stat__group",e.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))});l.displayName="StatGroup"},69257:(e,n,r)=>{r.r(n),r.d(n,{default:()=>M});var s,t,a=r(57528),o=r(65043),i=r(87139),l=r(22107),d=r(98662),c=r(83169),g=r(24330),h=r(26201),p=r(44093),u=r(5371),x=r(25011),j=r(7189),m=r(57371),C=r(61724),f=r(96148),E=r(10202),U=r(94217),b=r(13191),y=r(53332),S=r(78149),T=r(28846),k=r(39081),v=r(58861),I=r(10585),R=r(70459),N=r(73216),w=r(1009),A=r(39985),P=r(63295),_=r(52003),F=r(70579);const z=(0,R.J1)(s||(s=(0,a.A)(["\n  query GetFrontendUpgrades($category: UpgradeCategory, $status: UpgradeStatus, $tenantId: ID) {\n    frontendUpgrades(category: $category, status: $status, tenantId: $tenantId) {\n      id\n      title\n      description\n      gitCommitUrls\n      category\n      originTenantName\n      createdDate\n      completedCount\n      totalTenantCount\n      isPendingForMaster\n      appliedToTenants {\n        tenantId\n        tenantName\n        status\n        appliedDate\n      }\n    }\n  }\n"]))),D=(0,R.J1)(t||(t=(0,a.A)(["\n  query GetUpgradeStats {\n    frontendUpgradeStats {\n      totalUpgrades\n      pendingUpgrades\n      completedUpgrades\n      inProgressUpgrades\n    }\n  }\n"]))),G={UI_ENHANCEMENT:"purple",BUG_FIX:"red",PERFORMANCE:"green",SECURITY:"orange",FEATURE:"blue",REFACTOR:"teal",ACCESSIBILITY:"pink",OTHER:"gray"},O={UI_ENHANCEMENT:"UI Enhancement",BUG_FIX:"Bug Fix",PERFORMANCE:"Performance",SECURITY:"Security",FEATURE:"Feature",REFACTOR:"Refactor",ACCESSIBILITY:"Accessibility",OTHER:"Other"},M=()=>{const{colorMode:e}=(0,p.G6)(),n=(0,N.Zp)(),[r,s]=(0,o.useState)(""),[t,a]=(0,o.useState)(""),{data:R,loading:M,error:$}=(0,I.IT)(z,{variables:{category:r||void 0,status:t||void 0}}),{data:B}=(0,I.IT)(D),H=(null===R||void 0===R?void 0:R.frontendUpgrades)||[],W=null===B||void 0===B?void 0:B.frontendUpgradeStats,Y=(e,n)=>{const r=e/n*100;return 100===r?"green":r>=50?"blue":r>0?"yellow":"gray"};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(_.m,{}),(0,F.jsx)(l.a,{p:6,children:(0,F.jsxs)(E.T,{spacing:6,align:"stretch",children:[(0,F.jsxs)(u.s,{justify:"space-between",align:"center",children:[(0,F.jsx)(T.D,{size:"lg",children:"Frontend Upgrades"}),(0,F.jsx)(d.$,{leftIcon:(0,F.jsx)(w.GGD,{}),bg:(0,A.oU)("secondary",e),color:"white",onClick:()=>n("/frontend-upgrades/new"),_hover:{bg:(0,A.oU)("secondaryHover",e)},children:"Track New Upgrade"})]}),W&&(0,F.jsx)(c.Z,{bg:"light"===e?"white":(0,A.oU)("background.darkSurface",e),children:(0,F.jsx)(g.b,{children:(0,F.jsxs)(b.k,{children:[(0,F.jsxs)(U.r,{children:[(0,F.jsx)(y.v,{children:"Total Upgrades"}),(0,F.jsx)(S.k,{children:W.totalUpgrades})]}),(0,F.jsxs)(U.r,{children:[(0,F.jsx)(y.v,{children:"Pending"}),(0,F.jsx)(S.k,{color:"orange.500",children:W.pendingUpgrades})]}),(0,F.jsxs)(U.r,{children:[(0,F.jsx)(y.v,{children:"In Progress"}),(0,F.jsx)(S.k,{color:"blue.500",children:W.inProgressUpgrades})]}),(0,F.jsxs)(U.r,{children:[(0,F.jsx)(y.v,{children:"Completed"}),(0,F.jsx)(S.k,{color:"green.500",children:W.completedUpgrades})]})]})})}),(0,F.jsx)(c.Z,{bg:"light"===e?"white":(0,A.oU)("background.darkSurface",e),children:(0,F.jsx)(g.b,{children:(0,F.jsxs)(f.z,{spacing:4,children:[(0,F.jsx)(x.I,{as:w.K7R}),(0,F.jsx)(C.l,{placeholder:"All Categories",value:r,onChange:e=>s(e.target.value),maxW:"250px",children:Object.entries(O).map(e=>{let[n,r]=e;return(0,F.jsx)("option",{value:n,children:r},n)})}),(0,F.jsxs)(C.l,{placeholder:"All Statuses",value:t,onChange:e=>a(e.target.value),maxW:"250px",children:[(0,F.jsx)("option",{value:"PENDING",children:"Pending"}),(0,F.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,F.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,F.jsx)("option",{value:"SKIPPED",children:"Skipped"})]}),(r||t)&&(0,F.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>{s(""),a("")},children:"Clear Filters"})]})})}),M&&(0,F.jsx)(k.E,{children:"Loading upgrades..."}),$&&(0,F.jsxs)(k.E,{color:"red.500",children:["Error loading upgrades: ",$.message]}),!M&&!$&&0===H.length&&(0,F.jsx)(c.Z,{bg:"light"===e?"white":(0,A.oU)("background.darkSurface",e),children:(0,F.jsx)(g.b,{children:(0,F.jsxs)(E.T,{spacing:4,py:8,children:[(0,F.jsx)(k.E,{fontSize:"lg",color:"light"===e?"gray.600":"gray.400",children:"No upgrades tracked yet"}),(0,F.jsx)(d.$,{leftIcon:(0,F.jsx)(w.GGD,{}),bg:(0,A.oU)("secondary",e),color:"white",onClick:()=>n("/frontend-upgrades/new"),_hover:{bg:(0,A.oU)("secondaryHover",e)},children:"Track Your First Upgrade"})]})})}),H.map(r=>(0,F.jsxs)(c.Z,{bg:"light"===e?"white":(0,A.oU)("background.darkSurface",e),_hover:{shadow:"lg",transform:"translateY(-2px)",transition:"all 0.2s"},cursor:"pointer",onClick:()=>n("/frontend-upgrades/".concat(r.id)),children:[(0,F.jsx)(h.a,{children:(0,F.jsxs)(E.T,{align:"stretch",spacing:2,children:[(0,F.jsxs)(f.z,{justify:"space-between",children:[(0,F.jsx)(T.D,{size:"md",children:r.title}),(0,F.jsxs)(v.B,{children:[(0,F.jsx)(v.Q,{children:(0,F.jsx)(i.E,{colorScheme:G[r.category],children:O[r.category]})}),r.isPendingForMaster&&(0,F.jsx)(v.Q,{children:(0,F.jsx)(i.E,{colorScheme:"orange",children:"Master Pending"})})]})]}),(0,F.jsxs)(k.E,{fontSize:"sm",color:"light"===e?"gray.600":"gray.400",children:["Origin: ",r.originTenantName]})]})}),(0,F.jsx)(g.b,{pt:0,children:(0,F.jsxs)(E.T,{align:"stretch",spacing:4,children:[(0,F.jsx)(k.E,{children:r.description}),r.gitCommitUrls&&r.gitCommitUrls.length>0&&(0,F.jsxs)(f.z,{spacing:2,flexWrap:"wrap",children:[(0,F.jsx)(k.E,{fontSize:"sm",fontWeight:"semibold",children:"Commits:"}),r.gitCommitUrls.map((e,n)=>(0,F.jsxs)(j.N,{href:e,isExternal:!0,fontSize:"sm",color:"blue.500",onClick:e=>e.stopPropagation(),children:["#",n+1," ",(0,F.jsx)(x.I,{as:w.HaR,ml:1})]},n))]}),(0,F.jsxs)(l.a,{children:[(0,F.jsxs)(f.z,{justify:"space-between",mb:2,children:[(0,F.jsxs)(k.E,{fontSize:"sm",fontWeight:"semibold",children:["Applied to ",r.completedCount," of ",r.totalTenantCount," sites"]}),(0,F.jsxs)(k.E,{fontSize:"sm",color:"light"===e?"gray.600":"gray.400",children:[Math.round(r.completedCount/r.totalTenantCount*100),"%"]})]}),(0,F.jsx)(m.k,{value:r.completedCount/r.totalTenantCount*100,colorScheme:Y(r.completedCount,r.totalTenantCount),size:"sm",borderRadius:"full"})]}),(0,F.jsxs)(k.E,{fontSize:"xs",color:"gray.500",children:["Created: ",new Date(r.createdDate).toLocaleDateString()]})]})})]},r.id))]})}),(0,F.jsx)(P.n,{})]})}}}]);
//# sourceMappingURL=9257.b19caf0c.chunk.js.map