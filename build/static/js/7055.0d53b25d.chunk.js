"use strict";(self.webpackChunkbusiness_builder_master_frontend=self.webpackChunkbusiness_builder_master_frontend||[]).push([[7055],{37055:(e,o,l)=>{l.r(o),l.d(o,{default:()=>H});var n,r,i=l(89379),a=l(57528),s=l(65043),d=l(88787),t=l(85871),c=l(22107),h=l(98662),g=l(83169),x=l(24330),b=l(26201),u=l(68659),p=l(44093),v=l(98939),m=l(82459),j=l(73225),C=l(76668),y=l(73212),f=l(35699),A=l(61724),P=l(76659),S=l(96148),w=l(10202),I=l(98481),F=l(30502),_=l(28846),k=l(39081),E=l(1009),L=l(31881),D=l(10585),T=l(70459),N=l(52003),z=l(63295),B=l(66037),J=l(95214),M=l(192),W=l(39985),U=l(70579);const G=(0,T.J1)(n||(n=(0,a.A)(["\n    query GetCurrentTenant {\n        currentTenant {\n            id\n            name\n            companyDetails {\n                companyName\n                taxId\n                billingEmail\n                billingPhone\n                taxPercentage\n                billingAddress {\n                    addressLine1\n                    addressLine2\n                    city\n                    state\n                    postalCode\n                    country\n                }\n                invoicePreferences {\n                    emailInvoices\n                    autoPayEnabled\n                    invoiceLanguage\n                    taxIncluded\n                }\n            }\n        }\n    }\n"]))),Z=(0,T.J1)(r||(r=(0,a.A)(["\n    mutation UpdateTenantCompanyDetails($companyDetails: TenantCompanyDetailsInput!) {\n        updateTenantCompanyDetails(companyDetails: $companyDetails) {\n            id\n            companyDetails {\n                companyName\n                taxId\n                billingEmail\n                billingPhone\n                taxPercentage\n                billingAddress {\n                    addressLine1\n                    addressLine2\n                    city\n                    state\n                    postalCode\n                    country\n                }\n                invoicePreferences {\n                    emailInvoices\n                    autoPayEnabled\n                    invoiceLanguage\n                    taxIncluded\n                }\n            }\n        }\n    }\n"]))),H=()=>{(0,B.H)("Company Details");const e=(0,F.d)(),[o,l]=(0,s.useState)(!1),{colorMode:n}=(0,p.G6)(),r=(0,W.oU)("background.main",n),a=(0,W.oU)("background.cardGradient",n),T=(0,W.oU)("border.darkCard",n),H=(0,W.oU)("light"===n?"text.primary":"text.primaryDark",n),K=(0,W.oU)("light"===n?"text.secondary":"text.secondaryDark",n),Q=(0,W.oU)("light"===n?"text.muted":"text.mutedDark",n),{data:V,loading:$,error:Y}=(0,D.IT)(G),[q]=(0,L.n)(Z),[O,R]=(0,s.useState)({companyName:"",taxId:"",billingEmail:"",billingPhone:"",taxPercentage:10,billingAddress:{addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"Australia"},invoicePreferences:{emailInvoices:!0,autoPayEnabled:!1,invoiceLanguage:"en",taxIncluded:!0}});(0,s.useEffect)(()=>{var e;if(null!==V&&void 0!==V&&null!==(e=V.currentTenant)&&void 0!==e&&e.companyDetails){var o,l,n,r,i,a,s,d,t,c,h,g,x,b;const e=V.currentTenant.companyDetails;R({companyName:e.companyName||"",taxId:e.taxId||"",billingEmail:e.billingEmail||"",billingPhone:e.billingPhone||"",taxPercentage:null!==(o=e.taxPercentage)&&void 0!==o?o:10,billingAddress:{addressLine1:(null===(l=e.billingAddress)||void 0===l?void 0:l.addressLine1)||"",addressLine2:(null===(n=e.billingAddress)||void 0===n?void 0:n.addressLine2)||"",city:(null===(r=e.billingAddress)||void 0===r?void 0:r.city)||"",state:(null===(i=e.billingAddress)||void 0===i?void 0:i.state)||"",postalCode:(null===(a=e.billingAddress)||void 0===a?void 0:a.postalCode)||"",country:(null===(s=e.billingAddress)||void 0===s?void 0:s.country)||"Australia"},invoicePreferences:{emailInvoices:null===(d=null===(t=e.invoicePreferences)||void 0===t?void 0:t.emailInvoices)||void 0===d||d,autoPayEnabled:null!==(c=null===(h=e.invoicePreferences)||void 0===h?void 0:h.autoPayEnabled)&&void 0!==c&&c,invoiceLanguage:(null===(g=e.invoicePreferences)||void 0===g?void 0:g.invoiceLanguage)||"en",taxIncluded:null===(x=null===(b=e.invoicePreferences)||void 0===b?void 0:b.taxIncluded)||void 0===x||x}})}},[V]);const X=(e,o,l)=>{R("billingAddress"===e||"invoicePreferences"===e?(0,i.A)((0,i.A)({},O),{},{[e]:(0,i.A)((0,i.A)({},O[e]),{},{[o]:l})}):(0,i.A)((0,i.A)({},O),{},{[o]:l}))};return $?(0,U.jsxs)(c.a,{bg:r,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,U.jsx)(N.m,{}),(0,U.jsx)(J.y,{moduleConfig:M.default}),(0,U.jsx)(v.m,{maxW:"container.xl",py:12,flex:"1",children:(0,U.jsx)(u.o,{h:"50vh",children:(0,U.jsx)(P.y,{size:"xl",color:(0,W.oU)("primary")})})}),(0,U.jsx)(z.n,{})]}):Y?(0,U.jsxs)(c.a,{bg:r,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,U.jsx)(N.m,{}),(0,U.jsx)(J.y,{moduleConfig:M.default}),(0,U.jsx)(v.m,{maxW:"container.xl",py:12,flex:"1",children:(0,U.jsxs)(d.F,{status:"error",children:[(0,U.jsx)(t._,{}),"Error loading company details. Please try again."]})}),(0,U.jsx)(z.n,{})]}):(0,U.jsxs)(c.a,{bg:r,minHeight:"100vh",display:"flex",flexDirection:"column",children:[(0,U.jsx)(N.m,{}),(0,U.jsx)(J.y,{moduleConfig:M.default}),(0,U.jsx)(v.m,{maxW:"container.lg",py:8,flex:"1",children:(0,U.jsxs)(w.T,{spacing:6,align:"stretch",children:[(0,U.jsxs)(c.a,{children:[(0,U.jsx)(_.D,{size:"lg",color:H,mb:2,children:"\ud83c\udfe2 Company Details"}),(0,U.jsx)(k.E,{color:K,children:"Manage your company information, business address, and invoice preferences."})]}),(0,U.jsxs)(y.r,{columns:{base:1,lg:2},spacing:6,children:[(0,U.jsxs)(g.Z,{bg:a,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:T,children:[(0,U.jsx)(b.a,{borderBottom:"1px",borderColor:T,children:(0,U.jsx)(_.D,{size:"md",color:H,children:"Company Information"})}),(0,U.jsx)(x.b,{children:(0,U.jsxs)(w.T,{spacing:4,children:[(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Company Name"}),(0,U.jsx)(f.p,{value:O.companyName,onChange:e=>X("companyName","companyName",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"light"===n?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"},_hover:{borderColor:K}})]}),(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Tax ID / ABN"}),(0,U.jsx)(f.p,{value:O.taxId,onChange:e=>X("taxId","taxId",e.target.value),placeholder:"ABN 12 345 678 901",bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"light"===n?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"},_hover:{borderColor:K}})]}),(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Billing Email"}),(0,U.jsx)(f.p,{type:"email",value:O.billingEmail,onChange:e=>X("billingEmail","billingEmail",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"light"===n?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"},_hover:{borderColor:K}})]}),(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Billing Phone"}),(0,U.jsx)(f.p,{type:"tel",value:O.billingPhone,onChange:e=>X("billingPhone","billingPhone",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"light"===n?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"},_hover:{borderColor:K}})]}),(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Tax/GST Percentage"}),(0,U.jsx)(f.p,{type:"number",value:O.taxPercentage,onChange:e=>X("taxPercentage","taxPercentage",parseFloat(e.target.value)||0),placeholder:"10",min:0,max:100,step:.1,bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"light"===n?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"},_hover:{borderColor:K}}),(0,U.jsx)(k.E,{fontSize:"xs",color:Q,mt:1,children:"E.g., 10 for 10% GST (Australian standard). This will be applied to all bills."})]})]})})]}),(0,U.jsxs)(g.Z,{bg:a,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:T,children:[(0,U.jsx)(b.a,{borderBottom:"1px",borderColor:T,children:(0,U.jsx)(_.D,{size:"md",color:H,children:"Billing Address"})}),(0,U.jsx)(x.b,{children:(0,U.jsxs)(w.T,{spacing:4,children:[(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Address Line 1"}),(0,U.jsx)(f.p,{value:O.billingAddress.addressLine1,onChange:e=>X("billingAddress","addressLine1",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"light"===n?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"},_hover:{borderColor:K}})]}),(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Address Line 2"}),(0,U.jsx)(f.p,{value:O.billingAddress.addressLine2||"",onChange:e=>X("billingAddress","addressLine2",e.target.value),placeholder:"Suite, apartment, etc. (optional)",bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"light"===n?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"},_hover:{borderColor:K}})]}),(0,U.jsxs)(S.z,{width:"100%",children:[(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"City"}),(0,U.jsx)(f.p,{value:O.billingAddress.city,onChange:e=>X("billingAddress","city",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:K,boxShadow:"0 0 0 1px rgba(255, 255, 255, 0.1)"},_hover:{borderColor:K}})]}),(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"State"}),(0,U.jsx)(A.l,{value:O.billingAddress.state,onChange:e=>X("billingAddress","state",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_hover:{borderColor:K},_focus:{borderColor:K,boxShadow:"0 0 0 1px rgba(255, 255, 255, 0.1)"},children:"light"===n?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("option",{value:"NSW",children:"NSW"}),(0,U.jsx)("option",{value:"VIC",children:"VIC"}),(0,U.jsx)("option",{value:"QLD",children:"QLD"}),(0,U.jsx)("option",{value:"WA",children:"WA"}),(0,U.jsx)("option",{value:"SA",children:"SA"}),(0,U.jsx)("option",{value:"TAS",children:"TAS"}),(0,U.jsx)("option",{value:"ACT",children:"ACT"}),(0,U.jsx)("option",{value:"NT",children:"NT"})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("option",{value:"NSW",style:{backgroundColor:"#1a1a1a"},children:"NSW"}),(0,U.jsx)("option",{value:"VIC",style:{backgroundColor:"#1a1a1a"},children:"VIC"}),(0,U.jsx)("option",{value:"QLD",style:{backgroundColor:"#1a1a1a"},children:"QLD"}),(0,U.jsx)("option",{value:"WA",style:{backgroundColor:"#1a1a1a"},children:"WA"}),(0,U.jsx)("option",{value:"SA",style:{backgroundColor:"#1a1a1a"},children:"SA"}),(0,U.jsx)("option",{value:"TAS",style:{backgroundColor:"#1a1a1a"},children:"TAS"}),(0,U.jsx)("option",{value:"ACT",style:{backgroundColor:"#1a1a1a"},children:"ACT"}),(0,U.jsx)("option",{value:"NT",style:{backgroundColor:"#1a1a1a"},children:"NT"})]})})]})]}),(0,U.jsxs)(S.z,{width:"100%",children:[(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Postal Code"}),(0,U.jsx)(f.p,{value:O.billingAddress.postalCode,onChange:e=>X("billingAddress","postalCode",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_placeholder:{color:Q},_focus:{borderColor:K,boxShadow:"0 0 0 1px rgba(255, 255, 255, 0.1)"},_hover:{borderColor:K}})]}),(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,children:"Country"}),(0,U.jsx)(A.l,{value:O.billingAddress.country,onChange:e=>X("billingAddress","country",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_hover:{borderColor:K},_focus:{borderColor:K,boxShadow:"0 0 0 1px rgba(255, 255, 255, 0.1)"},children:"light"===n?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("option",{value:"Australia",children:"Australia"}),(0,U.jsx)("option",{value:"New Zealand",children:"New Zealand"}),(0,U.jsx)("option",{value:"United States",children:"United States"}),(0,U.jsx)("option",{value:"Canada",children:"Canada"}),(0,U.jsx)("option",{value:"United Kingdom",children:"United Kingdom"})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("option",{value:"Australia",style:{backgroundColor:"#1a1a1a"},children:"Australia"}),(0,U.jsx)("option",{value:"New Zealand",style:{backgroundColor:"#1a1a1a"},children:"New Zealand"}),(0,U.jsx)("option",{value:"United States",style:{backgroundColor:"#1a1a1a"},children:"United States"}),(0,U.jsx)("option",{value:"Canada",style:{backgroundColor:"#1a1a1a"},children:"Canada"}),(0,U.jsx)("option",{value:"United Kingdom",style:{backgroundColor:"#1a1a1a"},children:"United Kingdom"})]})})]})]})]})})]})]}),(0,U.jsxs)(g.Z,{bg:a,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",border:"1px",borderColor:T,children:[(0,U.jsxs)(b.a,{borderBottom:"1px",borderColor:T,children:[(0,U.jsx)(_.D,{size:"md",color:H,children:"Invoice Preferences"}),(0,U.jsx)(k.E,{fontSize:"sm",color:Q,mt:2,children:"Configure how invoices are generated and delivered to your clients"})]}),(0,U.jsx)(x.b,{children:(0,U.jsxs)(w.T,{spacing:6,align:"stretch",children:[(0,U.jsx)(c.a,{children:(0,U.jsxs)(j.MJ,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,U.jsxs)(c.a,{flex:"1",mr:4,children:[(0,U.jsx)(C.l,{htmlFor:"email-invoices",mb:"1",color:H,fontWeight:"semibold",children:"Email Invoices"}),(0,U.jsx)(k.E,{fontSize:"sm",color:Q,children:'Automatically send invoice PDFs to clients via email when a bill is marked as "Sent"'})]}),(0,U.jsx)(I.d,{id:"email-invoices",isChecked:O.invoicePreferences.emailInvoices,onChange:e=>X("invoicePreferences","emailInvoices",e.target.checked),colorScheme:"blue",size:"lg"})]})}),(0,U.jsx)(m.c,{}),(0,U.jsx)(c.a,{children:(0,U.jsxs)(j.MJ,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,U.jsxs)(c.a,{flex:"1",mr:4,children:[(0,U.jsx)(C.l,{htmlFor:"auto-pay",mb:"1",color:H,fontWeight:"semibold",children:"Auto-Pay Enabled"}),(0,U.jsx)(k.E,{fontSize:"sm",color:Q,children:"Allow clients to set up automatic payment methods. When enabled, bills will be charged automatically on the due date."})]}),(0,U.jsx)(I.d,{id:"auto-pay",isChecked:O.invoicePreferences.autoPayEnabled,onChange:e=>X("invoicePreferences","autoPayEnabled",e.target.checked),colorScheme:"blue",size:"lg"})]})}),(0,U.jsx)(m.c,{}),(0,U.jsx)(c.a,{children:(0,U.jsxs)(j.MJ,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,U.jsxs)(c.a,{flex:"1",mr:4,children:[(0,U.jsx)(C.l,{htmlFor:"tax-included",mb:"1",color:H,fontWeight:"semibold",children:"Tax Included in Display"}),(0,U.jsx)(k.E,{fontSize:"sm",color:Q,children:"Show prices with GST/tax already included. When disabled, tax is shown separately as a line item."})]}),(0,U.jsx)(I.d,{id:"tax-included",isChecked:O.invoicePreferences.taxIncluded,onChange:e=>X("invoicePreferences","taxIncluded",e.target.checked),colorScheme:"blue",size:"lg"})]})}),(0,U.jsx)(m.c,{}),(0,U.jsx)(c.a,{children:(0,U.jsxs)(j.MJ,{children:[(0,U.jsx)(C.l,{color:H,fontWeight:"semibold",children:"Invoice Language"}),(0,U.jsx)(k.E,{fontSize:"sm",color:Q,mb:3,children:"Default language for invoice templates, email notifications, and PDF generation"}),(0,U.jsx)(A.l,{value:O.invoicePreferences.invoiceLanguage,onChange:e=>X("invoicePreferences","invoiceLanguage",e.target.value),bg:"light"===n?"white":"rgba(255, 255, 255, 0.05)",border:"1px",borderColor:T,color:H,_hover:{borderColor:K},_focus:{borderColor:"light"===n?"#007AFF":"#3B82F6",boxShadow:"light"===n?"0 0 0 1px rgba(0, 122, 255, 0.2)":"0 0 0 1px rgba(59, 130, 246, 0.2)"},children:"light"===n?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("option",{value:"en",children:"English"}),(0,U.jsx)("option",{value:"es",children:"Spanish"}),(0,U.jsx)("option",{value:"fr",children:"French"}),(0,U.jsx)("option",{value:"de",children:"German"}),(0,U.jsx)("option",{value:"zh",children:"Chinese"})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("option",{value:"en",style:{backgroundColor:"#1a1a1a"},children:"English"}),(0,U.jsx)("option",{value:"es",style:{backgroundColor:"#1a1a1a"},children:"Spanish"}),(0,U.jsx)("option",{value:"fr",style:{backgroundColor:"#1a1a1a"},children:"French"}),(0,U.jsx)("option",{value:"de",style:{backgroundColor:"#1a1a1a"},children:"German"}),(0,U.jsx)("option",{value:"zh",style:{backgroundColor:"#1a1a1a"},children:"Chinese"})]})})]})})]})})]}),(0,U.jsx)(m.c,{borderColor:T}),(0,U.jsx)(S.z,{justify:"flex-end",children:(0,U.jsx)(h.$,{leftIcon:(0,U.jsx)(E.Bc_,{}),bg:"white",color:"black",_hover:{bg:"gray.100",transform:"translateY(-2px)"},onClick:async()=>{l(!0);try{await q({variables:{companyDetails:{companyName:O.companyName,taxId:O.taxId,billingEmail:O.billingEmail,billingPhone:O.billingPhone,taxPercentage:O.taxPercentage,billingAddress:{addressLine1:O.billingAddress.addressLine1,addressLine2:O.billingAddress.addressLine2||null,city:O.billingAddress.city,state:O.billingAddress.state,postalCode:O.billingAddress.postalCode,country:O.billingAddress.country},invoicePreferences:{emailInvoices:O.invoicePreferences.emailInvoices,autoPayEnabled:O.invoicePreferences.autoPayEnabled,invoiceLanguage:O.invoicePreferences.invoiceLanguage,taxIncluded:O.invoicePreferences.taxIncluded}}}}),e({title:"Company details updated",description:"Your company information has been saved successfully.",status:"success",duration:3e3,isClosable:!0})}catch(Y){console.error("Error updating company details:",Y),e({title:"Error updating company details",description:"Please try again later.",status:"error",duration:3e3,isClosable:!0})}finally{l(!1)}},isLoading:o,loadingText:"Saving...",size:"lg",boxShadow:"0 2px 4px rgba(255, 255, 255, 0.1)",children:"Save Company Details"})})]})}),(0,U.jsx)(z.n,{})]})}}}]);
//# sourceMappingURL=7055.0d53b25d.chunk.js.map